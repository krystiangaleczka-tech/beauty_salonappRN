{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":54,"index":54}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../context/PresenceContext.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":55},"end":{"line":2,"column":68,"index":123}}],"key":"770CUHTf+IRHceT11QtbGTttEvo=","exportNames":["*"],"imports":1}},{"name":"../../context/MotionContext/index.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":80,"index":204}}],"key":"gWg55NQNPXnB6wHgQViqr4b8Bq8=","exportNames":["*"],"imports":1}},{"name":"../../utils/use-isomorphic-effect.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":205},"end":{"line":4,"column":82,"index":287}}],"key":"gjd+U/dZU1+5jyfkmLuH/Rt7Mg4=","exportNames":["*"],"imports":1}},{"name":"../../context/LazyContext.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":288},"end":{"line":5,"column":60,"index":348}}],"key":"0sWuW2sBOHP5PjNKEfN0rbdFyLo=","exportNames":["*"],"imports":1}},{"name":"../../utils/use-reduced-motion.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":349},"end":{"line":6,"column":76,"index":425}}],"key":"z4ZuAdAbA1HrZboNFXLYP37dKAo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useVisualElement\", {\n    enumerable: true,\n    get: function () {\n      return useVisualElement;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _contextPresenceContextMjs = require(_dependencyMap[1], \"../../context/PresenceContext.mjs\");\n  var _contextMotionContextIndexMjs = require(_dependencyMap[2], \"../../context/MotionContext/index.mjs\");\n  var _utilsUseIsomorphicEffectMjs = require(_dependencyMap[3], \"../../utils/use-isomorphic-effect.mjs\");\n  var _contextLazyContextMjs = require(_dependencyMap[4], \"../../context/LazyContext.mjs\");\n  var _utilsUseReducedMotionMjs = require(_dependencyMap[5], \"../../utils/use-reduced-motion.mjs\");\n  function useVisualElement(Component, visualState, props, createVisualElement) {\n    var lazyContext = (0, _react.useContext)(_contextLazyContextMjs.LazyContext);\n    var parent = (0, _contextMotionContextIndexMjs.useVisualElementContext)();\n    var presenceContext = (0, _react.useContext)(_contextPresenceContextMjs.PresenceContext);\n    var shouldReduceMotion = (0, _utilsUseReducedMotionMjs.useReducedMotionConfig)();\n    var visualElementRef = (0, _react.useRef)(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement) createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n      visualElementRef.current = createVisualElement(Component, {\n        visualState: visualState,\n        parent: parent,\n        props: props,\n        presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n        blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n        shouldReduceMotion: shouldReduceMotion\n      });\n    }\n    var visualElement = visualElementRef.current;\n    (0, _utilsUseIsomorphicEffectMjs.useIsomorphicLayoutEffect)(function () {\n      visualElement === null || visualElement === void 0 ? void 0 : visualElement.syncRender();\n    });\n    (0, _react.useEffect)(function () {\n      var _a;\n      (_a = visualElement === null || visualElement === void 0 ? void 0 : visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    (0, _utilsUseIsomorphicEffectMjs.useIsomorphicLayoutEffect)(function () {\n      return function () {\n        return visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount();\n      };\n    }, []);\n    return visualElement;\n  }\n});","lineCount":54,"map":[[7,2,41,0,"Object"],[7,8,41,0],[7,9,41,0,"defineProperty"],[7,23,41,0],[7,24,41,0,"exports"],[7,31,41,0],[8,4,41,0,"enumerable"],[8,14,41,0],[9,4,41,0,"get"],[9,7,41,0],[9,18,41,0,"get"],[9,19,41,0],[10,6,41,0],[10,13,41,9,"useVisualElement"],[10,29,41,25],[11,4,41,25],[12,2,41,25],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_contextPresenceContextMjs"],[14,32,2,0],[14,35,2,0,"require"],[14,42,2,0],[14,43,2,0,"_dependencyMap"],[14,57,2,0],[15,2,3,0],[15,6,3,0,"_contextMotionContextIndexMjs"],[15,35,3,0],[15,38,3,0,"require"],[15,45,3,0],[15,46,3,0,"_dependencyMap"],[15,60,3,0],[16,2,4,0],[16,6,4,0,"_utilsUseIsomorphicEffectMjs"],[16,34,4,0],[16,37,4,0,"require"],[16,44,4,0],[16,45,4,0,"_dependencyMap"],[16,59,4,0],[17,2,5,0],[17,6,5,0,"_contextLazyContextMjs"],[17,28,5,0],[17,31,5,0,"require"],[17,38,5,0],[17,39,5,0,"_dependencyMap"],[17,53,5,0],[18,2,6,0],[18,6,6,0,"_utilsUseReducedMotionMjs"],[18,31,6,0],[18,34,6,0,"require"],[18,41,6,0],[18,42,6,0,"_dependencyMap"],[18,56,6,0],[19,2,8,0],[19,11,8,9,"useVisualElement"],[19,27,8,25,"useVisualElement"],[19,28,8,26,"Component"],[19,37,8,35],[19,39,8,37,"visualState"],[19,50,8,48],[19,52,8,50,"props"],[19,57,8,55],[19,59,8,57,"createVisualElement"],[19,78,8,76],[19,80,8,78],[20,4,9,4],[20,8,9,8,"lazyContext"],[20,19,9,19],[20,22,9,22],[20,26,9,22,"useContext"],[20,32,9,32],[20,33,9,32,"useContext"],[20,43,9,32],[20,45,9,33,"LazyContext"],[20,67,9,44],[20,68,9,44,"LazyContext"],[20,79,9,44],[20,80,9,45],[21,4,10,4],[21,8,10,8,"parent"],[21,14,10,14],[21,17,10,17],[21,21,10,17,"useVisualElementContext"],[21,50,10,40],[21,51,10,40,"useVisualElementContext"],[21,74,10,40],[21,76,10,41],[21,77,10,42],[22,4,11,4],[22,8,11,8,"presenceContext"],[22,23,11,23],[22,26,11,26],[22,30,11,26,"useContext"],[22,36,11,36],[22,37,11,36,"useContext"],[22,47,11,36],[22,49,11,37,"PresenceContext"],[22,75,11,52],[22,76,11,52,"PresenceContext"],[22,91,11,52],[22,92,11,53],[23,4,12,4],[23,8,12,8,"shouldReduceMotion"],[23,26,12,26],[23,29,12,29],[23,33,12,29,"useReducedMotionConfig"],[23,58,12,51],[23,59,12,51,"useReducedMotionConfig"],[23,81,12,51],[23,83,12,52],[23,84,12,53],[24,4,13,4],[24,8,13,8,"visualElementRef"],[24,24,13,24],[24,27,13,27],[24,31,13,27,"useRef"],[24,37,13,33],[24,38,13,33,"useRef"],[24,44,13,33],[24,46,13,34,"undefined"],[24,55,13,43],[24,56,13,44],[25,4,14,4],[26,0,15,0],[27,0,16,0],[28,4,17,4],[28,8,17,8],[28,9,17,9,"createVisualElement"],[28,28,17,28],[28,30,18,8,"createVisualElement"],[28,49,18,27],[28,52,18,30,"lazyContext"],[28,63,18,41],[28,64,18,42,"renderer"],[28,72,18,50],[29,4,19,4],[29,8,19,8],[29,9,19,9,"visualElementRef"],[29,25,19,25],[29,26,19,26,"current"],[29,33,19,33],[29,37,19,37,"createVisualElement"],[29,56,19,56],[29,58,19,58],[30,6,20,8,"visualElementRef"],[30,22,20,24],[30,23,20,25,"current"],[30,30,20,32],[30,33,20,35,"createVisualElement"],[30,52,20,54],[30,53,20,55,"Component"],[30,62,20,64],[30,64,20,66],[31,8,21,12,"visualState"],[31,19,21,23],[31,21,21,25,"visualState"],[31,32,21,36],[32,8,22,12,"parent"],[32,14,22,18],[32,16,22,20,"parent"],[32,22,22,26],[33,8,23,12,"props"],[33,13,23,17],[33,15,23,19,"props"],[33,20,23,24],[34,8,24,12,"presenceId"],[34,18,24,22],[34,20,24,24,"presenceContext"],[34,35,24,39],[34,40,24,44],[34,44,24,48],[34,48,24,52,"presenceContext"],[34,63,24,67],[34,68,24,72],[34,73,24,77],[34,74,24,78],[34,77,24,81],[34,82,24,86],[34,83,24,87],[34,86,24,90,"presenceContext"],[34,101,24,105],[34,102,24,106,"id"],[34,104,24,108],[35,8,25,12,"blockInitialAnimation"],[35,29,25,33],[35,31,25,35],[35,32,25,36,"presenceContext"],[35,47,25,51],[35,52,25,56],[35,56,25,60],[35,60,25,64,"presenceContext"],[35,75,25,79],[35,80,25,84],[35,85,25,89],[35,86,25,90],[35,89,25,93],[35,94,25,98],[35,95,25,99],[35,98,25,102,"presenceContext"],[35,113,25,117],[35,114,25,118,"initial"],[35,121,25,125],[35,127,25,131],[35,132,25,136],[36,8,26,12,"shouldReduceMotion"],[36,26,26,30],[36,28,26,32,"shouldReduceMotion"],[37,6,27,8],[37,7,27,9],[37,8,27,10],[38,4,28,4],[39,4,29,4],[39,8,29,8,"visualElement"],[39,21,29,21],[39,24,29,24,"visualElementRef"],[39,40,29,40],[39,41,29,41,"current"],[39,48,29,48],[40,4,30,4],[40,8,30,4,"useIsomorphicLayoutEffect"],[40,36,30,29],[40,37,30,29,"useIsomorphicLayoutEffect"],[40,62,30,29],[40,64,30,30],[40,76,30,42],[41,6,31,8,"visualElement"],[41,19,31,21],[41,24,31,26],[41,28,31,30],[41,32,31,34,"visualElement"],[41,45,31,47],[41,50,31,52],[41,55,31,57],[41,56,31,58],[41,59,31,61],[41,64,31,66],[41,65,31,67],[41,68,31,70,"visualElement"],[41,81,31,83],[41,82,31,84,"syncRender"],[41,92,31,94],[41,93,31,95],[41,94,31,96],[42,4,32,4],[42,5,32,5],[42,6,32,6],[43,4,33,4],[43,8,33,4,"useEffect"],[43,14,33,13],[43,15,33,13,"useEffect"],[43,24,33,13],[43,26,33,14],[43,38,33,26],[44,6,34,8],[44,10,34,12,"_a"],[44,12,34,14],[45,6,35,8],[45,7,35,9,"_a"],[45,9,35,11],[45,12,35,14,"visualElement"],[45,25,35,27],[45,30,35,32],[45,34,35,36],[45,38,35,40,"visualElement"],[45,51,35,53],[45,56,35,58],[45,61,35,63],[45,62,35,64],[45,65,35,67],[45,70,35,72],[45,71,35,73],[45,74,35,76,"visualElement"],[45,87,35,89],[45,88,35,90,"animationState"],[45,102,35,104],[45,108,35,110],[45,112,35,114],[45,116,35,118,"_a"],[45,118,35,120],[45,123,35,125],[45,128,35,130],[45,129,35,131],[45,132,35,134],[45,137,35,139],[45,138,35,140],[45,141,35,143,"_a"],[45,143,35,145],[45,144,35,146,"animateChanges"],[45,158,35,160],[45,159,35,161],[45,160,35,162],[46,4,36,4],[46,5,36,5],[46,6,36,6],[47,4,37,4],[47,8,37,4,"useIsomorphicLayoutEffect"],[47,36,37,29],[47,37,37,29,"useIsomorphicLayoutEffect"],[47,62,37,29],[47,64,37,30],[47,76,37,42],[48,6,37,44],[48,13,37,51],[48,25,37,63],[49,8,37,65],[49,15,37,72,"visualElement"],[49,28,37,85],[49,33,37,90],[49,37,37,94],[49,41,37,98,"visualElement"],[49,54,37,111],[49,59,37,116],[49,64,37,121],[49,65,37,122],[49,68,37,125],[49,73,37,130],[49,74,37,131],[49,77,37,134,"visualElement"],[49,90,37,147],[49,91,37,148,"notifyUnmount"],[49,104,37,161],[49,105,37,162],[49,106,37,163],[50,6,37,165],[50,7,37,166],[51,4,37,168],[51,5,37,169],[51,7,37,171],[51,9,37,173],[51,10,37,174],[52,4,38,4],[52,11,38,11,"visualElement"],[52,24,38,24],[53,2,39,0],[54,0,39,1],[54,3]],"functionMap":{"names":["<global>","useVisualElement","useIsomorphicLayoutEffect$argument_0","useEffect$argument_0","<anonymous>"],"mappings":"AAA;ACO;8BCsB;KDE;cEC;KFG;8BCC,qBE,mHF,GD;CDE"},"hasCjsExports":false},"type":"js/module"}]}