{"dependencies":[{"name":"./array.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"TpfBjXPrjc6Wi3eDjK2/D8hP9g4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"SubscriptionManager\", {\n    enumerable: true,\n    get: function () {\n      return SubscriptionManager;\n    }\n  });\n  var _arrayMjs = require(_dependencyMap[0], \"./array.mjs\");\n  var SubscriptionManager = /** @class */function () {\n    function SubscriptionManager() {\n      this.subscriptions = [];\n    }\n    SubscriptionManager.prototype.add = function (handler) {\n      var _this = this;\n      (0, _arrayMjs.addUniqueItem)(this.subscriptions, handler);\n      return function () {\n        return (0, _arrayMjs.removeItem)(_this.subscriptions, handler);\n      };\n    };\n    SubscriptionManager.prototype.notify = function (a, b, c) {\n      var numSubscriptions = this.subscriptions.length;\n      if (!numSubscriptions) return;\n      if (numSubscriptions === 1) {\n        /**\n         * If there's only a single handler we can just call it without invoking a loop.\n         */\n        this.subscriptions[0](a, b, c);\n      } else {\n        for (var i = 0; i < numSubscriptions; i++) {\n          /**\n           * Check whether the handler exists before firing as it's possible\n           * the subscriptions were modified during this loop running.\n           */\n          var handler = this.subscriptions[i];\n          handler && handler(a, b, c);\n        }\n      }\n    };\n    SubscriptionManager.prototype.getSize = function () {\n      return this.subscriptions.length;\n    };\n    SubscriptionManager.prototype.clear = function () {\n      this.subscriptions.length = 0;\n    };\n    return SubscriptionManager;\n  }();\n});","lineCount":52,"map":[[7,2,42,0,"Object"],[7,8,42,0],[7,9,42,0,"defineProperty"],[7,23,42,0],[7,24,42,0,"exports"],[7,31,42,0],[8,4,42,0,"enumerable"],[8,14,42,0],[9,4,42,0,"get"],[9,7,42,0],[9,18,42,0,"get"],[9,19,42,0],[10,6,42,0],[10,13,42,9,"SubscriptionManager"],[10,32,42,28],[11,4,42,28],[12,2,42,28],[13,2,1,0],[13,6,1,0,"_arrayMjs"],[13,15,1,0],[13,18,1,0,"require"],[13,25,1,0],[13,26,1,0,"_dependencyMap"],[13,40,1,0],[14,2,3,0],[14,6,3,4,"SubscriptionManager"],[14,25,3,23],[14,28,3,26],[14,41,3,41],[14,53,3,53],[15,4,4,4],[15,13,4,13,"SubscriptionManager"],[15,32,4,32,"SubscriptionManager"],[15,33,4,32],[15,35,4,35],[16,6,5,8],[16,10,5,12],[16,11,5,13,"subscriptions"],[16,24,5,26],[16,27,5,29],[16,29,5,31],[17,4,6,4],[18,4,7,4,"SubscriptionManager"],[18,23,7,23],[18,24,7,24,"prototype"],[18,33,7,33],[18,34,7,34,"add"],[18,37,7,37],[18,40,7,40],[18,50,7,50,"handler"],[18,57,7,57],[18,59,7,59],[19,6,8,8],[19,10,8,12,"_this"],[19,15,8,17],[19,18,8,20],[19,22,8,24],[20,6,9,8],[20,10,9,8,"addUniqueItem"],[20,19,9,21],[20,20,9,21,"addUniqueItem"],[20,33,9,21],[20,35,9,22],[20,39,9,26],[20,40,9,27,"subscriptions"],[20,53,9,40],[20,55,9,42,"handler"],[20,62,9,49],[20,63,9,50],[21,6,10,8],[21,13,10,15],[21,25,10,27],[22,8,10,29],[22,15,10,36],[22,19,10,36,"removeItem"],[22,28,10,46],[22,29,10,46,"removeItem"],[22,39,10,46],[22,41,10,47,"_this"],[22,46,10,52],[22,47,10,53,"subscriptions"],[22,60,10,66],[22,62,10,68,"handler"],[22,69,10,75],[22,70,10,76],[23,6,10,78],[23,7,10,79],[24,4,11,4],[24,5,11,5],[25,4,12,4,"SubscriptionManager"],[25,23,12,23],[25,24,12,24,"prototype"],[25,33,12,33],[25,34,12,34,"notify"],[25,40,12,40],[25,43,12,43],[25,53,12,53,"a"],[25,54,12,54],[25,56,12,56,"b"],[25,57,12,57],[25,59,12,59,"c"],[25,60,12,60],[25,62,12,62],[26,6,13,8],[26,10,13,12,"numSubscriptions"],[26,26,13,28],[26,29,13,31],[26,33,13,35],[26,34,13,36,"subscriptions"],[26,47,13,49],[26,48,13,50,"length"],[26,54,13,56],[27,6,14,8],[27,10,14,12],[27,11,14,13,"numSubscriptions"],[27,27,14,29],[27,29,15,12],[28,6,16,8],[28,10,16,12,"numSubscriptions"],[28,26,16,28],[28,31,16,33],[28,32,16,34],[28,34,16,36],[29,8,17,12],[30,0,18,0],[31,0,19,0],[32,8,20,12],[32,12,20,16],[32,13,20,17,"subscriptions"],[32,26,20,30],[32,27,20,31],[32,28,20,32],[32,29,20,33],[32,30,20,34,"a"],[32,31,20,35],[32,33,20,37,"b"],[32,34,20,38],[32,36,20,40,"c"],[32,37,20,41],[32,38,20,42],[33,6,21,8],[33,7,21,9],[33,13,22,13],[34,8,23,12],[34,13,23,17],[34,17,23,21,"i"],[34,18,23,22],[34,21,23,25],[34,22,23,26],[34,24,23,28,"i"],[34,25,23,29],[34,28,23,32,"numSubscriptions"],[34,44,23,48],[34,46,23,50,"i"],[34,47,23,51],[34,49,23,53],[34,51,23,55],[35,10,24,16],[36,0,25,0],[37,0,26,0],[38,0,27,0],[39,10,28,16],[39,14,28,20,"handler"],[39,21,28,27],[39,24,28,30],[39,28,28,34],[39,29,28,35,"subscriptions"],[39,42,28,48],[39,43,28,49,"i"],[39,44,28,50],[39,45,28,51],[40,10,29,16,"handler"],[40,17,29,23],[40,21,29,27,"handler"],[40,28,29,34],[40,29,29,35,"a"],[40,30,29,36],[40,32,29,38,"b"],[40,33,29,39],[40,35,29,41,"c"],[40,36,29,42],[40,37,29,43],[41,8,30,12],[42,6,31,8],[43,4,32,4],[43,5,32,5],[44,4,33,4,"SubscriptionManager"],[44,23,33,23],[44,24,33,24,"prototype"],[44,33,33,33],[44,34,33,34,"getSize"],[44,41,33,41],[44,44,33,44],[44,56,33,56],[45,6,34,8],[45,13,34,15],[45,17,34,19],[45,18,34,20,"subscriptions"],[45,31,34,33],[45,32,34,34,"length"],[45,38,34,40],[46,4,35,4],[46,5,35,5],[47,4,36,4,"SubscriptionManager"],[47,23,36,23],[47,24,36,24,"prototype"],[47,33,36,33],[47,34,36,34,"clear"],[47,39,36,39],[47,42,36,42],[47,54,36,54],[48,6,37,8],[48,10,37,12],[48,11,37,13,"subscriptions"],[48,24,37,26],[48,25,37,27,"length"],[48,31,37,33],[48,34,37,36],[48,35,37,37],[49,4,38,4],[49,5,38,5],[50,4,39,4],[50,11,39,11,"SubscriptionManager"],[50,30,39,30],[51,2,40,0],[51,3,40,1],[51,4,40,2],[51,5,40,4],[52,0,40,5],[52,3]],"functionMap":{"names":["<global>","<anonymous>","SubscriptionManager","SubscriptionManager.prototype.add","SubscriptionManager.prototype.notify","SubscriptionManager.prototype.getSize","SubscriptionManager.prototype.clear"],"mappings":"AAA;yCCE;ICC;KDE;wCEC;eFG,gEE;KFC;2CGC;KHoB;4CIC;KJE;0CKC;KLE;CDE"},"hasCjsExports":false},"type":"js/module"}]}