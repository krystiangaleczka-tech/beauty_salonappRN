{"dependencies":[{"name":"./build-transform.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":77,"index":77}}],"key":"Tl28J9TVlMI37r6745f25jVYhXg=","exportNames":["*"],"imports":1}},{"name":"../../dom/utils/is-css-variable.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":78},"end":{"line":2,"column":68,"index":146}}],"key":"bslGge2L1cgiXEbhbNN0I/4z5l0=","exportNames":["*"],"imports":1}},{"name":"./transform.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":147},"end":{"line":3,"column":73,"index":220}}],"key":"0t//7u3Db0CrpzVriNyYAAqTfWk=","exportNames":["*"],"imports":1}},{"name":"../../dom/value-types/get-as-type.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":221},"end":{"line":4,"column":71,"index":292}}],"key":"HmtB/oib0qoThbLNL22TDUz2qYw=","exportNames":["*"],"imports":1}},{"name":"../../dom/value-types/number.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":293},"end":{"line":5,"column":68,"index":361}}],"key":"HwaDd11BvfCjujkCwyzJicEDrhg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"buildHTMLStyles\", {\n    enumerable: true,\n    get: function () {\n      return buildHTMLStyles;\n    }\n  });\n  var _buildTransformMjs = require(_dependencyMap[0], \"./build-transform.mjs\");\n  var _domUtilsIsCssVariableMjs = require(_dependencyMap[1], \"../../dom/utils/is-css-variable.mjs\");\n  var _transformMjs = require(_dependencyMap[2], \"./transform.mjs\");\n  var _domValueTypesGetAsTypeMjs = require(_dependencyMap[3], \"../../dom/value-types/get-as-type.mjs\");\n  var _domValueTypesNumberMjs = require(_dependencyMap[4], \"../../dom/value-types/number.mjs\");\n  function buildHTMLStyles(state, latestValues, options, transformTemplate) {\n    var _a;\n    var style = state.style,\n      vars = state.vars,\n      transform = state.transform,\n      transformKeys = state.transformKeys,\n      transformOrigin = state.transformOrigin;\n    // Empty the transformKeys array. As we're throwing out refs to its items\n    // this might not be as cheap as suspected. Maybe using the array as a buffer\n    // with a manual incrementation would be better.\n    transformKeys.length = 0;\n    // Track whether we encounter any transform or transformOrigin values.\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    // Does the calculated transform essentially equal \"none\"?\n    var transformIsNone = true;\n    /**\n     * Loop over all our latest animated values and decide whether to handle them\n     * as a style or CSS variable.\n     *\n     * Transforms and transform origins are kept seperately for further processing.\n     */\n    for (var key in latestValues) {\n      var value = latestValues[key];\n      /**\n       * If this is a CSS variable we don't do any further processing.\n       */\n      if ((0, _domUtilsIsCssVariableMjs.isCSSVariable)(key)) {\n        vars[key] = value;\n        continue;\n      }\n      // Convert the value to its default value type, ie 0 -> \"0px\"\n      var valueType = _domValueTypesNumberMjs.numberValueTypes[key];\n      var valueAsType = (0, _domValueTypesGetAsTypeMjs.getValueAsType)(value, valueType);\n      if ((0, _transformMjs.isTransformProp)(key)) {\n        // If this is a transform, flag to enable further transform processing\n        hasTransform = true;\n        transform[key] = valueAsType;\n        transformKeys.push(key);\n        // If we already know we have a non-default transform, early return\n        if (!transformIsNone) continue;\n        // Otherwise check to see if this is a default transform\n        if (value !== ((_a = valueType.default) !== null && _a !== void 0 ? _a : 0)) transformIsNone = false;\n      } else if ((0, _transformMjs.isTransformOriginProp)(key)) {\n        transformOrigin[key] = valueAsType;\n        // If this is a transform origin, flag and enable further transform-origin processing\n        hasTransformOrigin = true;\n      } else {\n        style[key] = valueAsType;\n      }\n    }\n    if (hasTransform) {\n      style.transform = (0, _buildTransformMjs.buildTransform)(state, options, transformIsNone, transformTemplate);\n    } else if (transformTemplate) {\n      style.transform = transformTemplate({}, \"\");\n    } else if (!latestValues.transform && style.transform) {\n      style.transform = \"none\";\n    }\n    if (hasTransformOrigin) {\n      style.transformOrigin = (0, _buildTransformMjs.buildTransformOrigin)(transformOrigin);\n    }\n  }\n});","lineCount":80,"map":[[7,2,72,0,"Object"],[7,8,72,0],[7,9,72,0,"defineProperty"],[7,23,72,0],[7,24,72,0,"exports"],[7,31,72,0],[8,4,72,0,"enumerable"],[8,14,72,0],[9,4,72,0,"get"],[9,7,72,0],[9,18,72,0,"get"],[9,19,72,0],[10,6,72,0],[10,13,72,9,"buildHTMLStyles"],[10,28,72,24],[11,4,72,24],[12,2,72,24],[13,2,1,0],[13,6,1,0,"_buildTransformMjs"],[13,24,1,0],[13,27,1,0,"require"],[13,34,1,0],[13,35,1,0,"_dependencyMap"],[13,49,1,0],[14,2,2,0],[14,6,2,0,"_domUtilsIsCssVariableMjs"],[14,31,2,0],[14,34,2,0,"require"],[14,41,2,0],[14,42,2,0,"_dependencyMap"],[14,56,2,0],[15,2,3,0],[15,6,3,0,"_transformMjs"],[15,19,3,0],[15,22,3,0,"require"],[15,29,3,0],[15,30,3,0,"_dependencyMap"],[15,44,3,0],[16,2,4,0],[16,6,4,0,"_domValueTypesGetAsTypeMjs"],[16,32,4,0],[16,35,4,0,"require"],[16,42,4,0],[16,43,4,0,"_dependencyMap"],[16,57,4,0],[17,2,5,0],[17,6,5,0,"_domValueTypesNumberMjs"],[17,29,5,0],[17,32,5,0,"require"],[17,39,5,0],[17,40,5,0,"_dependencyMap"],[17,54,5,0],[18,2,7,0],[18,11,7,9,"buildHTMLStyles"],[18,26,7,24,"buildHTMLStyles"],[18,27,7,25,"state"],[18,32,7,30],[18,34,7,32,"latestValues"],[18,46,7,44],[18,48,7,46,"options"],[18,55,7,53],[18,57,7,55,"transformTemplate"],[18,74,7,72],[18,76,7,74],[19,4,8,4],[19,8,8,8,"_a"],[19,10,8,10],[20,4,9,4],[20,8,9,8,"style"],[20,13,9,13],[20,16,9,16,"state"],[20,21,9,21],[20,22,9,22,"style"],[20,27,9,27],[21,6,9,29,"vars"],[21,10,9,33],[21,13,9,36,"state"],[21,18,9,41],[21,19,9,42,"vars"],[21,23,9,46],[22,6,9,48,"transform"],[22,15,9,57],[22,18,9,60,"state"],[22,23,9,65],[22,24,9,66,"transform"],[22,33,9,75],[23,6,9,77,"transformKeys"],[23,19,9,90],[23,22,9,93,"state"],[23,27,9,98],[23,28,9,99,"transformKeys"],[23,41,9,112],[24,6,9,114,"transformOrigin"],[24,21,9,129],[24,24,9,132,"state"],[24,29,9,137],[24,30,9,138,"transformOrigin"],[24,45,9,153],[25,4,10,4],[26,4,11,4],[27,4,12,4],[28,4,13,4,"transformKeys"],[28,17,13,17],[28,18,13,18,"length"],[28,24,13,24],[28,27,13,27],[28,28,13,28],[29,4,14,4],[30,4,15,4],[30,8,15,8,"hasTransform"],[30,20,15,20],[30,23,15,23],[30,28,15,28],[31,4,16,4],[31,8,16,8,"hasTransformOrigin"],[31,26,16,26],[31,29,16,29],[31,34,16,34],[32,4,17,4],[33,4,18,4],[33,8,18,8,"transformIsNone"],[33,23,18,23],[33,26,18,26],[33,30,18,30],[34,4,19,4],[35,0,20,0],[36,0,21,0],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,4,25,4],[40,9,25,9],[40,13,25,13,"key"],[40,16,25,16],[40,20,25,20,"latestValues"],[40,32,25,32],[40,34,25,34],[41,6,26,8],[41,10,26,12,"value"],[41,15,26,17],[41,18,26,20,"latestValues"],[41,30,26,32],[41,31,26,33,"key"],[41,34,26,36],[41,35,26,37],[42,6,27,8],[43,0,28,0],[44,0,29,0],[45,6,30,8],[45,10,30,12],[45,14,30,12,"isCSSVariable"],[45,39,30,25],[45,40,30,25,"isCSSVariable"],[45,53,30,25],[45,55,30,26,"key"],[45,58,30,29],[45,59,30,30],[45,61,30,32],[46,8,31,12,"vars"],[46,12,31,16],[46,13,31,17,"key"],[46,16,31,20],[46,17,31,21],[46,20,31,24,"value"],[46,25,31,29],[47,8,32,12],[48,6,33,8],[49,6,34,8],[50,6,35,8],[50,10,35,12,"valueType"],[50,19,35,21],[50,22,35,24,"numberValueTypes"],[50,45,35,40],[50,46,35,40,"numberValueTypes"],[50,62,35,40],[50,63,35,41,"key"],[50,66,35,44],[50,67,35,45],[51,6,36,8],[51,10,36,12,"valueAsType"],[51,21,36,23],[51,24,36,26],[51,28,36,26,"getValueAsType"],[51,54,36,40],[51,55,36,40,"getValueAsType"],[51,69,36,40],[51,71,36,41,"value"],[51,76,36,46],[51,78,36,48,"valueType"],[51,87,36,57],[51,88,36,58],[52,6,37,8],[52,10,37,12],[52,14,37,12,"isTransformProp"],[52,27,37,27],[52,28,37,27,"isTransformProp"],[52,43,37,27],[52,45,37,28,"key"],[52,48,37,31],[52,49,37,32],[52,51,37,34],[53,8,38,12],[54,8,39,12,"hasTransform"],[54,20,39,24],[54,23,39,27],[54,27,39,31],[55,8,40,12,"transform"],[55,17,40,21],[55,18,40,22,"key"],[55,21,40,25],[55,22,40,26],[55,25,40,29,"valueAsType"],[55,36,40,40],[56,8,41,12,"transformKeys"],[56,21,41,25],[56,22,41,26,"push"],[56,26,41,30],[56,27,41,31,"key"],[56,30,41,34],[56,31,41,35],[57,8,42,12],[58,8,43,12],[58,12,43,16],[58,13,43,17,"transformIsNone"],[58,28,43,32],[58,30,44,16],[59,8,45,12],[60,8,46,12],[60,12,46,16,"value"],[60,17,46,21],[60,23,46,27],[60,24,46,28,"_a"],[60,26,46,30],[60,29,46,33,"valueType"],[60,38,46,42],[60,39,46,43,"default"],[60,46,46,50],[60,52,46,56],[60,56,46,60],[60,60,46,64,"_a"],[60,62,46,66],[60,67,46,71],[60,72,46,76],[60,73,46,77],[60,76,46,80,"_a"],[60,78,46,82],[60,81,46,85],[60,82,46,86],[60,83,46,87],[60,85,47,16,"transformIsNone"],[60,100,47,31],[60,103,47,34],[60,108,47,39],[61,6,48,8],[61,7,48,9],[61,13,49,13],[61,17,49,17],[61,21,49,17,"isTransformOriginProp"],[61,34,49,38],[61,35,49,38,"isTransformOriginProp"],[61,56,49,38],[61,58,49,39,"key"],[61,61,49,42],[61,62,49,43],[61,64,49,45],[62,8,50,12,"transformOrigin"],[62,23,50,27],[62,24,50,28,"key"],[62,27,50,31],[62,28,50,32],[62,31,50,35,"valueAsType"],[62,42,50,46],[63,8,51,12],[64,8,52,12,"hasTransformOrigin"],[64,26,52,30],[64,29,52,33],[64,33,52,37],[65,6,53,8],[65,7,53,9],[65,13,54,13],[66,8,55,12,"style"],[66,13,55,17],[66,14,55,18,"key"],[66,17,55,21],[66,18,55,22],[66,21,55,25,"valueAsType"],[66,32,55,36],[67,6,56,8],[68,4,57,4],[69,4,58,4],[69,8,58,8,"hasTransform"],[69,20,58,20],[69,22,58,22],[70,6,59,8,"style"],[70,11,59,13],[70,12,59,14,"transform"],[70,21,59,23],[70,24,59,26],[70,28,59,26,"buildTransform"],[70,46,59,40],[70,47,59,40,"buildTransform"],[70,61,59,40],[70,63,59,41,"state"],[70,68,59,46],[70,70,59,48,"options"],[70,77,59,55],[70,79,59,57,"transformIsNone"],[70,94,59,72],[70,96,59,74,"transformTemplate"],[70,113,59,91],[70,114,59,92],[71,4,60,4],[71,5,60,5],[71,11,61,9],[71,15,61,13,"transformTemplate"],[71,32,61,30],[71,34,61,32],[72,6,62,8,"style"],[72,11,62,13],[72,12,62,14,"transform"],[72,21,62,23],[72,24,62,26,"transformTemplate"],[72,41,62,43],[72,42,62,44],[72,43,62,45],[72,44,62,46],[72,46,62,48],[72,48,62,50],[72,49,62,51],[73,4,63,4],[73,5,63,5],[73,11,64,9],[73,15,64,13],[73,16,64,14,"latestValues"],[73,28,64,26],[73,29,64,27,"transform"],[73,38,64,36],[73,42,64,40,"style"],[73,47,64,45],[73,48,64,46,"transform"],[73,57,64,55],[73,59,64,57],[74,6,65,8,"style"],[74,11,65,13],[74,12,65,14,"transform"],[74,21,65,23],[74,24,65,26],[74,30,65,32],[75,4,66,4],[76,4,67,4],[76,8,67,8,"hasTransformOrigin"],[76,26,67,26],[76,28,67,28],[77,6,68,8,"style"],[77,11,68,13],[77,12,68,14,"transformOrigin"],[77,27,68,29],[77,30,68,32],[77,34,68,32,"buildTransformOrigin"],[77,52,68,52],[77,53,68,52,"buildTransformOrigin"],[77,73,68,52],[77,75,68,53,"transformOrigin"],[77,90,68,68],[77,91,68,69],[78,4,69,4],[79,2,70,0],[80,0,70,1],[80,3]],"functionMap":{"names":["<global>","buildHTMLStyles"],"mappings":"AAA;ACM;CD+D"},"hasCjsExports":false},"type":"js/module"}]}