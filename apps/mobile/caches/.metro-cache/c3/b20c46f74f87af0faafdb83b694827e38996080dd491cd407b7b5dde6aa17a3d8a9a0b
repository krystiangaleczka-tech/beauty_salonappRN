{"dependencies":[{"name":"@motionone/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"+655Tbr0Dg/RFFwL7HMoKgGI11s=","exportNames":["*"],"imports":1}},{"name":"./info.es.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":48,"index":95}}],"key":"P+JsmqfbwoxlwYHJr87Eb/aaoPc=","exportNames":["*"],"imports":1}},{"name":"./offsets/index.es.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":96},"end":{"line":3,"column":55,"index":151}}],"key":"exbUnvpUS8SbJ3PkoClEVY8i8iA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createOnScrollHandler\", {\n    enumerable: true,\n    get: function () {\n      return createOnScrollHandler;\n    }\n  });\n  var _motiononeUtils = require(_dependencyMap[0], \"@motionone/utils\");\n  var _infoEsJs = require(_dependencyMap[1], \"./info.es.js\");\n  var _offsetsIndexEsJs = require(_dependencyMap[2], \"./offsets/index.es.js\");\n  function measure(container, target = container, info) {\n    /**\n     * Find inset of target within scrollable container\n     */\n    info.x.targetOffset = 0;\n    info.y.targetOffset = 0;\n    if (target !== container) {\n      let node = target;\n      while (node && node != container) {\n        info.x.targetOffset += node.offsetLeft;\n        info.y.targetOffset += node.offsetTop;\n        node = node.offsetParent;\n      }\n    }\n    info.x.targetLength = target === container ? target.scrollWidth : target.clientWidth;\n    info.y.targetLength = target === container ? target.scrollHeight : target.clientHeight;\n    info.x.containerLength = container.clientWidth;\n    info.y.containerLength = container.clientHeight;\n  }\n  function createOnScrollHandler(element, onScroll, info, options = {}) {\n    const axis = options.axis || \"y\";\n    return {\n      measure: () => measure(element, options.target, info),\n      update: time => {\n        (0, _infoEsJs.updateScrollInfo)(element, info, time);\n        if (options.offset || options.target) {\n          (0, _offsetsIndexEsJs.resolveOffsets)(element, info, options);\n        }\n      },\n      notify: typeof onScroll === \"function\" ? () => onScroll(info) : scrubAnimation(onScroll, info[axis])\n    };\n  }\n  function scrubAnimation(controls, axisInfo) {\n    controls.pause();\n    controls.forEachNative((animation, {\n      easing\n    }) => {\n      var _a, _b;\n      if (animation.updateDuration) {\n        if (!easing) animation.easing = _motiononeUtils.noopReturn;\n        animation.updateDuration(1);\n      } else {\n        const timingOptions = {\n          duration: 1000\n        };\n        if (!easing) timingOptions.easing = \"linear\";\n        (_b = (_a = animation.effect) === null || _a === void 0 ? void 0 : _a.updateTiming) === null || _b === void 0 ? void 0 : _b.call(_a, timingOptions);\n      }\n    });\n    return () => {\n      controls.currentTime = axisInfo.progress;\n    };\n  }\n});","lineCount":69,"map":[[7,2,62,0,"Object"],[7,8,62,0],[7,9,62,0,"defineProperty"],[7,23,62,0],[7,24,62,0,"exports"],[7,31,62,0],[8,4,62,0,"enumerable"],[8,14,62,0],[9,4,62,0,"get"],[9,7,62,0],[9,18,62,0,"get"],[9,19,62,0],[10,6,62,0],[10,13,62,9,"createOnScrollHandler"],[10,34,62,30],[11,4,62,30],[12,2,62,30],[13,2,1,0],[13,6,1,0,"_motiononeUtils"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_infoEsJs"],[14,15,2,0],[14,18,2,0,"require"],[14,25,2,0],[14,26,2,0,"_dependencyMap"],[14,40,2,0],[15,2,3,0],[15,6,3,0,"_offsetsIndexEsJs"],[15,23,3,0],[15,26,3,0,"require"],[15,33,3,0],[15,34,3,0,"_dependencyMap"],[15,48,3,0],[16,2,5,0],[16,11,5,9,"measure"],[16,18,5,16,"measure"],[16,19,5,17,"container"],[16,28,5,26],[16,30,5,28,"target"],[16,36,5,34],[16,39,5,37,"container"],[16,48,5,46],[16,50,5,48,"info"],[16,54,5,52],[16,56,5,54],[17,4,6,4],[18,0,7,0],[19,0,8,0],[20,4,9,4,"info"],[20,8,9,8],[20,9,9,9,"x"],[20,10,9,10],[20,11,9,11,"targetOffset"],[20,23,9,23],[20,26,9,26],[20,27,9,27],[21,4,10,4,"info"],[21,8,10,8],[21,9,10,9,"y"],[21,10,10,10],[21,11,10,11,"targetOffset"],[21,23,10,23],[21,26,10,26],[21,27,10,27],[22,4,11,4],[22,8,11,8,"target"],[22,14,11,14],[22,19,11,19,"container"],[22,28,11,28],[22,30,11,30],[23,6,12,8],[23,10,12,12,"node"],[23,14,12,16],[23,17,12,19,"target"],[23,23,12,25],[24,6,13,8],[24,13,13,15,"node"],[24,17,13,19],[24,21,13,23,"node"],[24,25,13,27],[24,29,13,31,"container"],[24,38,13,40],[24,40,13,42],[25,8,14,12,"info"],[25,12,14,16],[25,13,14,17,"x"],[25,14,14,18],[25,15,14,19,"targetOffset"],[25,27,14,31],[25,31,14,35,"node"],[25,35,14,39],[25,36,14,40,"offsetLeft"],[25,46,14,50],[26,8,15,12,"info"],[26,12,15,16],[26,13,15,17,"y"],[26,14,15,18],[26,15,15,19,"targetOffset"],[26,27,15,31],[26,31,15,35,"node"],[26,35,15,39],[26,36,15,40,"offsetTop"],[26,45,15,49],[27,8,16,12,"node"],[27,12,16,16],[27,15,16,19,"node"],[27,19,16,23],[27,20,16,24,"offsetParent"],[27,32,16,36],[28,6,17,8],[29,4,18,4],[30,4,19,4,"info"],[30,8,19,8],[30,9,19,9,"x"],[30,10,19,10],[30,11,19,11,"targetLength"],[30,23,19,23],[30,26,20,8,"target"],[30,32,20,14],[30,37,20,19,"container"],[30,46,20,28],[30,49,20,31,"target"],[30,55,20,37],[30,56,20,38,"scrollWidth"],[30,67,20,49],[30,70,20,52,"target"],[30,76,20,58],[30,77,20,59,"clientWidth"],[30,88,20,70],[31,4,21,4,"info"],[31,8,21,8],[31,9,21,9,"y"],[31,10,21,10],[31,11,21,11,"targetLength"],[31,23,21,23],[31,26,22,8,"target"],[31,32,22,14],[31,37,22,19,"container"],[31,46,22,28],[31,49,22,31,"target"],[31,55,22,37],[31,56,22,38,"scrollHeight"],[31,68,22,50],[31,71,22,53,"target"],[31,77,22,59],[31,78,22,60,"clientHeight"],[31,90,22,72],[32,4,23,4,"info"],[32,8,23,8],[32,9,23,9,"x"],[32,10,23,10],[32,11,23,11,"containerLength"],[32,26,23,26],[32,29,23,29,"container"],[32,38,23,38],[32,39,23,39,"clientWidth"],[32,50,23,50],[33,4,24,4,"info"],[33,8,24,8],[33,9,24,9,"y"],[33,10,24,10],[33,11,24,11,"containerLength"],[33,26,24,26],[33,29,24,29,"container"],[33,38,24,38],[33,39,24,39,"clientHeight"],[33,51,24,51],[34,2,25,0],[35,2,26,0],[35,11,26,9,"createOnScrollHandler"],[35,32,26,30,"createOnScrollHandler"],[35,33,26,31,"element"],[35,40,26,38],[35,42,26,40,"onScroll"],[35,50,26,48],[35,52,26,50,"info"],[35,56,26,54],[35,58,26,56,"options"],[35,65,26,63],[35,68,26,66],[35,69,26,67],[35,70,26,68],[35,72,26,70],[36,4,27,4],[36,10,27,10,"axis"],[36,14,27,14],[36,17,27,17,"options"],[36,24,27,24],[36,25,27,25,"axis"],[36,29,27,29],[36,33,27,33],[36,36,27,36],[37,4,28,4],[37,11,28,11],[38,6,29,8,"measure"],[38,13,29,15],[38,15,29,17,"measure"],[38,16,29,17],[38,21,29,23,"measure"],[38,28,29,30],[38,29,29,31,"element"],[38,36,29,38],[38,38,29,40,"options"],[38,45,29,47],[38,46,29,48,"target"],[38,52,29,54],[38,54,29,56,"info"],[38,58,29,60],[38,59,29,61],[39,6,30,8,"update"],[39,12,30,14],[39,14,30,17,"time"],[39,18,30,21],[39,22,30,26],[40,8,31,12],[40,12,31,12,"updateScrollInfo"],[40,21,31,28],[40,22,31,28,"updateScrollInfo"],[40,38,31,28],[40,40,31,29,"element"],[40,47,31,36],[40,49,31,38,"info"],[40,53,31,42],[40,55,31,44,"time"],[40,59,31,48],[40,60,31,49],[41,8,32,12],[41,12,32,16,"options"],[41,19,32,23],[41,20,32,24,"offset"],[41,26,32,30],[41,30,32,34,"options"],[41,37,32,41],[41,38,32,42,"target"],[41,44,32,48],[41,46,32,50],[42,10,33,16],[42,14,33,16,"resolveOffsets"],[42,31,33,30],[42,32,33,30,"resolveOffsets"],[42,46,33,30],[42,48,33,31,"element"],[42,55,33,38],[42,57,33,40,"info"],[42,61,33,44],[42,63,33,46,"options"],[42,70,33,53],[42,71,33,54],[43,8,34,12],[44,6,35,8],[44,7,35,9],[45,6,36,8,"notify"],[45,12,36,14],[45,14,36,16],[45,21,36,23,"onScroll"],[45,29,36,31],[45,34,36,36],[45,44,36,46],[45,47,37,14],[45,53,37,20,"onScroll"],[45,61,37,28],[45,62,37,29,"info"],[45,66,37,33],[45,67,37,34],[45,70,38,14,"scrubAnimation"],[45,84,38,28],[45,85,38,29,"onScroll"],[45,93,38,37],[45,95,38,39,"info"],[45,99,38,43],[45,100,38,44,"axis"],[45,104,38,48],[45,105,38,49],[46,4,39,4],[46,5,39,5],[47,2,40,0],[48,2,41,0],[48,11,41,9,"scrubAnimation"],[48,25,41,23,"scrubAnimation"],[48,26,41,24,"controls"],[48,34,41,32],[48,36,41,34,"axisInfo"],[48,44,41,42],[48,46,41,44],[49,4,42,4,"controls"],[49,12,42,12],[49,13,42,13,"pause"],[49,18,42,18],[49,19,42,19],[49,20,42,20],[50,4,43,4,"controls"],[50,12,43,12],[50,13,43,13,"forEachNative"],[50,26,43,26],[50,27,43,27],[50,28,43,28,"animation"],[50,37,43,37],[50,39,43,39],[51,6,43,41,"easing"],[52,4,43,48],[52,5,43,49],[52,10,43,54],[53,6,44,8],[53,10,44,12,"_a"],[53,12,44,14],[53,14,44,16,"_b"],[53,16,44,18],[54,6,45,8],[54,10,45,12,"animation"],[54,19,45,21],[54,20,45,22,"updateDuration"],[54,34,45,36],[54,36,45,38],[55,8,46,12],[55,12,46,16],[55,13,46,17,"easing"],[55,19,46,23],[55,21,47,16,"animation"],[55,30,47,25],[55,31,47,26,"easing"],[55,37,47,32],[55,40,47,35,"noopReturn"],[55,55,47,45],[55,56,47,45,"noopReturn"],[55,66,47,45],[56,8,48,12,"animation"],[56,17,48,21],[56,18,48,22,"updateDuration"],[56,32,48,36],[56,33,48,37],[56,34,48,38],[56,35,48,39],[57,6,49,8],[57,7,49,9],[57,13,50,13],[58,8,51,12],[58,14,51,18,"timingOptions"],[58,27,51,31],[58,30,51,34],[59,10,51,36,"duration"],[59,18,51,44],[59,20,51,46],[60,8,51,51],[60,9,51,52],[61,8,52,12],[61,12,52,16],[61,13,52,17,"easing"],[61,19,52,23],[61,21,53,16,"timingOptions"],[61,34,53,29],[61,35,53,30,"easing"],[61,41,53,36],[61,44,53,39],[61,52,53,47],[62,8,54,12],[62,9,54,13,"_b"],[62,11,54,15],[62,14,54,18],[62,15,54,19,"_a"],[62,17,54,21],[62,20,54,24,"animation"],[62,29,54,33],[62,30,54,34,"effect"],[62,36,54,40],[62,42,54,46],[62,46,54,50],[62,50,54,54,"_a"],[62,52,54,56],[62,57,54,61],[62,62,54,66],[62,63,54,67],[62,66,54,70],[62,71,54,75],[62,72,54,76],[62,75,54,79,"_a"],[62,77,54,81],[62,78,54,82,"updateTiming"],[62,90,54,94],[62,96,54,100],[62,100,54,104],[62,104,54,108,"_b"],[62,106,54,110],[62,111,54,115],[62,116,54,120],[62,117,54,121],[62,120,54,124],[62,125,54,129],[62,126,54,130],[62,129,54,133,"_b"],[62,131,54,135],[62,132,54,136,"call"],[62,136,54,140],[62,137,54,141,"_a"],[62,139,54,143],[62,141,54,145,"timingOptions"],[62,154,54,158],[62,155,54,159],[63,6,55,8],[64,4,56,4],[64,5,56,5],[64,6,56,6],[65,4,57,4],[65,11,57,11],[65,17,57,17],[66,6,58,8,"controls"],[66,14,58,16],[66,15,58,17,"currentTime"],[66,26,58,28],[66,29,58,31,"axisInfo"],[66,37,58,39],[66,38,58,40,"progress"],[66,46,58,48],[67,4,59,4],[67,5,59,5],[68,2,60,0],[69,0,60,1],[69,3]],"functionMap":{"names":["<global>","measure","createOnScrollHandler","update","<anonymous>","scrubAnimation","controls.forEachNative$argument_0"],"mappings":"AAA;ACI;CDoB;AEC;iBDG,4CC;gBCC;SDK;cEE,oBF;CFG;AKC;2BCE;KDa;WDC;KCE;CLC"},"hasCjsExports":false},"type":"js/module"}]}