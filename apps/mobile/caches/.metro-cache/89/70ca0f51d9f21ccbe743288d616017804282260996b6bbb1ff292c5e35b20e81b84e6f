{"dependencies":[{"name":"@motionone/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"+655Tbr0Dg/RFFwL7HMoKgGI11s=","exportNames":["*"],"imports":1}},{"name":"./stop-animation.es.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":57},"end":{"line":2,"column":55,"index":112}}],"key":"jXrgu5k9pwIM4Qlqug17eJxvKXw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"controls\", {\n    enumerable: true,\n    get: function () {\n      return controls;\n    }\n  });\n  Object.defineProperty(exports, \"withControls\", {\n    enumerable: true,\n    get: function () {\n      return withControls;\n    }\n  });\n  var _motiononeUtils = require(_dependencyMap[0], \"@motionone/utils\");\n  var _stopAnimationEsJs = require(_dependencyMap[1], \"./stop-animation.es.js\");\n  const createAnimation = factory => factory();\n  const withControls = (animationFactory, options, duration = _motiononeUtils.defaults.duration) => {\n    return new Proxy({\n      animations: animationFactory.map(createAnimation).filter(Boolean),\n      duration,\n      options\n    }, controls);\n  };\n  /**\n   * TODO:\n   * Currently this returns the first animation, ideally it would return\n   * the first active animation.\n   */\n  const getActiveAnimation = state => state.animations[0];\n  const controls = {\n    get: (target, key) => {\n      const activeAnimation = getActiveAnimation(target);\n      switch (key) {\n        case \"duration\":\n          return target.duration;\n        case \"currentTime\":\n          return _motiononeUtils.time.s((activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) || 0);\n        case \"playbackRate\":\n        case \"playState\":\n          return activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key];\n        case \"finished\":\n          if (!target.finished) {\n            target.finished = Promise.all(target.animations.map(selectFinished)).catch(_motiononeUtils.noop);\n          }\n          return target.finished;\n        case \"stop\":\n          return () => {\n            target.animations.forEach(animation => (0, _stopAnimationEsJs.stopAnimation)(animation));\n          };\n        case \"forEachNative\":\n          /**\n           * This is for internal use only, fire a callback for each\n           * underlying animation.\n           */\n          return callback => {\n            target.animations.forEach(animation => callback(animation, target));\n          };\n        default:\n          return typeof (activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) === \"undefined\" ? undefined : () => target.animations.forEach(animation => animation[key]());\n      }\n    },\n    set: (target, key, value) => {\n      switch (key) {\n        case \"currentTime\":\n          value = _motiononeUtils.time.ms(value);\n        case \"currentTime\":\n        case \"playbackRate\":\n          for (let i = 0; i < target.animations.length; i++) {\n            target.animations[i][key] = value;\n          }\n          return true;\n      }\n      return false;\n    }\n  };\n  const selectFinished = animation => animation.finished;\n});","lineCount":82,"map":[[7,2,68,0,"Object"],[7,8,68,0],[7,9,68,0,"defineProperty"],[7,23,68,0],[7,24,68,0,"exports"],[7,31,68,0],[8,4,68,0,"enumerable"],[8,14,68,0],[9,4,68,0,"get"],[9,7,68,0],[9,18,68,0,"get"],[9,19,68,0],[10,6,68,0],[10,13,68,9,"controls"],[10,21,68,17],[11,4,68,17],[12,2,68,17],[13,2,68,0,"Object"],[13,8,68,0],[13,9,68,0,"defineProperty"],[13,23,68,0],[13,24,68,0,"exports"],[13,31,68,0],[14,4,68,0,"enumerable"],[14,14,68,0],[15,4,68,0,"get"],[15,7,68,0],[15,18,68,0,"get"],[15,19,68,0],[16,6,68,0],[16,13,68,19,"withControls"],[16,25,68,31],[17,4,68,31],[18,2,68,31],[19,2,1,0],[19,6,1,0,"_motiononeUtils"],[19,21,1,0],[19,24,1,0,"require"],[19,31,1,0],[19,32,1,0,"_dependencyMap"],[19,46,1,0],[20,2,2,0],[20,6,2,0,"_stopAnimationEsJs"],[20,24,2,0],[20,27,2,0,"require"],[20,34,2,0],[20,35,2,0,"_dependencyMap"],[20,49,2,0],[21,2,4,0],[21,8,4,6,"createAnimation"],[21,23,4,21],[21,26,4,25,"factory"],[21,33,4,32],[21,37,4,37,"factory"],[21,44,4,44],[21,45,4,45],[21,46,4,46],[22,2,5,0],[22,8,5,6,"withControls"],[22,20,5,18],[22,23,5,21,"withControls"],[22,24,5,22,"animationFactory"],[22,40,5,38],[22,42,5,40,"options"],[22,49,5,47],[22,51,5,49,"duration"],[22,59,5,57],[22,62,5,60,"defaults"],[22,77,5,68],[22,78,5,68,"defaults"],[22,86,5,68],[22,87,5,69,"duration"],[22,95,5,77],[22,100,5,82],[23,4,6,4],[23,11,6,11],[23,15,6,15,"Proxy"],[23,20,6,20],[23,21,6,21],[24,6,7,8,"animations"],[24,16,7,18],[24,18,7,20,"animationFactory"],[24,34,7,36],[24,35,7,37,"map"],[24,38,7,40],[24,39,7,41,"createAnimation"],[24,54,7,56],[24,55,7,57],[24,56,7,58,"filter"],[24,62,7,64],[24,63,7,65,"Boolean"],[24,70,7,72],[24,71,7,73],[25,6,8,8,"duration"],[25,14,8,16],[26,6,9,8,"options"],[27,4,10,4],[27,5,10,5],[27,7,10,7,"controls"],[27,15,10,15],[27,16,10,16],[28,2,11,0],[28,3,11,1],[29,2,12,0],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,2,17,0],[34,8,17,6,"getActiveAnimation"],[34,26,17,24],[34,29,17,28,"state"],[34,34,17,33],[34,38,17,38,"state"],[34,43,17,43],[34,44,17,44,"animations"],[34,54,17,54],[34,55,17,55],[34,56,17,56],[34,57,17,57],[35,2,18,0],[35,8,18,6,"controls"],[35,16,18,14],[35,19,18,17],[36,4,19,4,"get"],[36,7,19,7],[36,9,19,9,"get"],[36,10,19,10,"target"],[36,16,19,16],[36,18,19,18,"key"],[36,21,19,21],[36,26,19,26],[37,6,20,8],[37,12,20,14,"activeAnimation"],[37,27,20,29],[37,30,20,32,"getActiveAnimation"],[37,48,20,50],[37,49,20,51,"target"],[37,55,20,57],[37,56,20,58],[38,6,21,8],[38,14,21,16,"key"],[38,17,21,19],[39,8,22,12],[39,13,22,17],[39,23,22,27],[40,10,23,16],[40,17,23,23,"target"],[40,23,23,29],[40,24,23,30,"duration"],[40,32,23,38],[41,8,24,12],[41,13,24,17],[41,26,24,30],[42,10,25,16],[42,17,25,23,"time"],[42,32,25,27],[42,33,25,27,"time"],[42,37,25,27],[42,38,25,28,"s"],[42,39,25,29],[42,40,25,30],[42,41,25,31,"activeAnimation"],[42,56,25,46],[42,61,25,51],[42,65,25,55],[42,69,25,59,"activeAnimation"],[42,84,25,74],[42,89,25,79],[42,94,25,84],[42,95,25,85],[42,98,25,88],[42,103,25,93],[42,104,25,94],[42,107,25,97,"activeAnimation"],[42,122,25,112],[42,123,25,113,"key"],[42,126,25,116],[42,127,25,117],[42,132,25,122],[42,133,25,123],[42,134,25,124],[43,8,26,12],[43,13,26,17],[43,27,26,31],[44,8,27,12],[44,13,27,17],[44,24,27,28],[45,10,28,16],[45,17,28,23,"activeAnimation"],[45,32,28,38],[45,37,28,43],[45,41,28,47],[45,45,28,51,"activeAnimation"],[45,60,28,66],[45,65,28,71],[45,70,28,76],[45,71,28,77],[45,74,28,80],[45,79,28,85],[45,80,28,86],[45,83,28,89,"activeAnimation"],[45,98,28,104],[45,99,28,105,"key"],[45,102,28,108],[45,103,28,109],[46,8,29,12],[46,13,29,17],[46,23,29,27],[47,10,30,16],[47,14,30,20],[47,15,30,21,"target"],[47,21,30,27],[47,22,30,28,"finished"],[47,30,30,36],[47,32,30,38],[48,12,31,20,"target"],[48,18,31,26],[48,19,31,27,"finished"],[48,27,31,35],[48,30,31,38,"Promise"],[48,37,31,45],[48,38,31,46,"all"],[48,41,31,49],[48,42,31,50,"target"],[48,48,31,56],[48,49,31,57,"animations"],[48,59,31,67],[48,60,31,68,"map"],[48,63,31,71],[48,64,31,72,"selectFinished"],[48,78,31,86],[48,79,31,87],[48,80,31,88],[48,81,31,89,"catch"],[48,86,31,94],[48,87,31,95,"noop"],[48,102,31,99],[48,103,31,99,"noop"],[48,107,31,99],[48,108,31,100],[49,10,32,16],[50,10,33,16],[50,17,33,23,"target"],[50,23,33,29],[50,24,33,30,"finished"],[50,32,33,38],[51,8,34,12],[51,13,34,17],[51,19,34,23],[52,10,35,16],[52,17,35,23],[52,23,35,29],[53,12,36,20,"target"],[53,18,36,26],[53,19,36,27,"animations"],[53,29,36,37],[53,30,36,38,"forEach"],[53,37,36,45],[53,38,36,47,"animation"],[53,47,36,56],[53,51,36,61],[53,55,36,61,"stopAnimation"],[53,73,36,74],[53,74,36,74,"stopAnimation"],[53,87,36,74],[53,89,36,75,"animation"],[53,98,36,84],[53,99,36,85],[53,100,36,86],[54,10,37,16],[54,11,37,17],[55,8,38,12],[55,13,38,17],[55,28,38,32],[56,10,39,16],[57,0,40,0],[58,0,41,0],[59,0,42,0],[60,10,43,16],[60,17,43,24,"callback"],[60,25,43,32],[60,29,43,37],[61,12,44,20,"target"],[61,18,44,26],[61,19,44,27,"animations"],[61,29,44,37],[61,30,44,38,"forEach"],[61,37,44,45],[61,38,44,47,"animation"],[61,47,44,56],[61,51,44,61,"callback"],[61,59,44,69],[61,60,44,70,"animation"],[61,69,44,79],[61,71,44,81,"target"],[61,77,44,87],[61,78,44,88],[61,79,44,89],[62,10,45,16],[62,11,45,17],[63,8,46,12],[64,10,47,16],[64,17,47,23],[64,25,47,31,"activeAnimation"],[64,40,47,46],[64,45,47,51],[64,49,47,55],[64,53,47,59,"activeAnimation"],[64,68,47,74],[64,73,47,79],[64,78,47,84],[64,79,47,85],[64,82,47,88],[64,87,47,93],[64,88,47,94],[64,91,47,97,"activeAnimation"],[64,106,47,112],[64,107,47,113,"key"],[64,110,47,116],[64,111,47,117],[64,112,47,118],[64,117,47,123],[64,128,47,134],[64,131,48,22,"undefined"],[64,140,48,31],[64,143,49,22],[64,149,49,28,"target"],[64,155,49,34],[64,156,49,35,"animations"],[64,166,49,45],[64,167,49,46,"forEach"],[64,174,49,53],[64,175,49,55,"animation"],[64,184,49,64],[64,188,49,69,"animation"],[64,197,49,78],[64,198,49,79,"key"],[64,201,49,82],[64,202,49,83],[64,203,49,84],[64,204,49,85],[64,205,49,86],[65,6,50,8],[66,4,51,4],[66,5,51,5],[67,4,52,4,"set"],[67,7,52,7],[67,9,52,9,"set"],[67,10,52,10,"target"],[67,16,52,16],[67,18,52,18,"key"],[67,21,52,21],[67,23,52,23,"value"],[67,28,52,28],[67,33,52,33],[68,6,53,8],[68,14,53,16,"key"],[68,17,53,19],[69,8,54,12],[69,13,54,17],[69,26,54,30],[70,10,55,16,"value"],[70,15,55,21],[70,18,55,24,"time"],[70,33,55,28],[70,34,55,28,"time"],[70,38,55,28],[70,39,55,29,"ms"],[70,41,55,31],[70,42,55,32,"value"],[70,47,55,37],[70,48,55,38],[71,8,56,12],[71,13,56,17],[71,26,56,30],[72,8,57,12],[72,13,57,17],[72,27,57,31],[73,10,58,16],[73,15,58,21],[73,19,58,25,"i"],[73,20,58,26],[73,23,58,29],[73,24,58,30],[73,26,58,32,"i"],[73,27,58,33],[73,30,58,36,"target"],[73,36,58,42],[73,37,58,43,"animations"],[73,47,58,53],[73,48,58,54,"length"],[73,54,58,60],[73,56,58,62,"i"],[73,57,58,63],[73,59,58,65],[73,61,58,67],[74,12,59,20,"target"],[74,18,59,26],[74,19,59,27,"animations"],[74,29,59,37],[74,30,59,38,"i"],[74,31,59,39],[74,32,59,40],[74,33,59,41,"key"],[74,36,59,44],[74,37,59,45],[74,40,59,48,"value"],[74,45,59,53],[75,10,60,16],[76,10,61,16],[76,17,61,23],[76,21,61,27],[77,6,62,8],[78,6,63,8],[78,13,63,15],[78,18,63,20],[79,4,64,4],[80,2,65,0],[80,3,65,1],[81,2,66,0],[81,8,66,6,"selectFinished"],[81,22,66,20],[81,25,66,24,"animation"],[81,34,66,33],[81,38,66,38,"animation"],[81,47,66,47],[81,48,66,48,"finished"],[81,56,66,56],[82,0,66,57],[82,3]],"functionMap":{"names":["<global>","createAnimation","withControls","getActiveAnimation","get","<anonymous>","target.animations.forEach$argument_0","set","selectFinished"],"mappings":"AAA;wBCG,sBD;qBEC;CFM;2BGM,8BH;SIE;uBCgB;8CCC,uCD;iBDC;uBCM;8CCC,0CD;iBDC;sBCI,gCC,+BD,CD;KJE;SOC;KPY;uBQE,iCR"},"hasCjsExports":false},"type":"js/module"}]}