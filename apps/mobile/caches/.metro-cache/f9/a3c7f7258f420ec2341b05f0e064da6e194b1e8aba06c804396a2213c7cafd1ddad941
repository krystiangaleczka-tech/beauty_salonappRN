{"dependencies":[{"name":"../utils/resolveSources","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":161},"end":{"line":5,"column":59,"index":220}}],"key":"0tSWeLBIaokpFkEzxEQuuUkLmpc=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getImageWrapperEventHandler = getImageWrapperEventHandler;\n  var _resolveSources = require(_dependencyMap[0], \"../utils/resolveSources\");\n  function getImageWrapperEventHandler(events, source) {\n    return {\n      onLoad: event => {\n        events?.onLoad?.forEach(e => e?.(event));\n        if (typeof window !== 'undefined') {\n          // On Web there is no way to detect when the image gets displayed, but we can assume it happens on the repaint right after the image is successfully loaded.\n          window.requestAnimationFrame(() => {\n            events?.onDisplay?.forEach(e => e?.());\n          });\n        }\n      },\n      onTransitionEnd: () => events?.onTransitionEnd?.forEach(e => e?.()),\n      onError: () => {\n        // A temporary workaround for blurhash blobs throwing opaque errors when used in an img tag.\n        if (source?.uri && (0, _resolveSources.isBlurhashString)(source?.uri)) {\n          return;\n        }\n        events?.onError?.forEach(e => e?.({\n          source: source || null\n        }));\n      }\n    };\n  }\n});","lineCount":30,"map":[[6,2,5,0],[6,6,5,0,"_resolveSources"],[6,21,5,0],[6,24,5,0,"require"],[6,31,5,0],[6,32,5,0,"_dependencyMap"],[6,46,5,0],[7,2,7,7],[7,11,7,16,"getImageWrapperEventHandler"],[7,38,7,43,"getImageWrapperEventHandler"],[7,39,8,2,"events"],[7,45,8,40],[7,47,9,2,"source"],[7,53,9,21],[7,55,10,2],[8,4,11,2],[8,11,11,9],[9,6,12,4,"onLoad"],[9,12,12,10],[9,14,12,13,"event"],[9,19,12,59],[9,23,12,64],[10,8,13,6,"events"],[10,14,13,12],[10,16,13,14,"onLoad"],[10,22,13,20],[10,24,13,22,"forEach"],[10,31,13,29],[10,32,13,31,"e"],[10,33,13,32],[10,37,13,37,"e"],[10,38,13,38],[10,41,13,41,"event"],[10,46,13,46],[10,47,13,47],[10,48,13,48],[11,8,15,6],[11,12,15,10],[11,19,15,17,"window"],[11,25,15,23],[11,30,15,28],[11,41,15,39],[11,43,15,41],[12,10,16,8],[13,10,17,8,"window"],[13,16,17,14],[13,17,17,15,"requestAnimationFrame"],[13,38,17,36],[13,39,17,37],[13,45,17,43],[14,12,18,10,"events"],[14,18,18,16],[14,20,18,18,"onDisplay"],[14,29,18,27],[14,31,18,29,"forEach"],[14,38,18,36],[14,39,18,38,"e"],[14,40,18,39],[14,44,18,44,"e"],[14,45,18,45],[14,48,18,48],[14,49,18,49],[14,50,18,50],[15,10,19,8],[15,11,19,9],[15,12,19,10],[16,8,20,6],[17,6,21,4],[17,7,21,5],[18,6,22,4,"onTransitionEnd"],[18,21,22,19],[18,23,22,21,"onTransitionEnd"],[18,24,22,21],[18,29,22,27,"events"],[18,35,22,33],[18,37,22,35,"onTransitionEnd"],[18,52,22,50],[18,54,22,52,"forEach"],[18,61,22,59],[18,62,22,61,"e"],[18,63,22,62],[18,67,22,67,"e"],[18,68,22,68],[18,71,22,71],[18,72,22,72],[18,73,22,73],[19,6,23,4,"onError"],[19,13,23,11],[19,15,23,13,"onError"],[19,16,23,13],[19,21,23,19],[20,8,24,6],[21,8,25,6],[21,12,25,10,"source"],[21,18,25,16],[21,20,25,18,"uri"],[21,23,25,21],[21,27,25,25],[21,31,25,25,"isBlurhashString"],[21,63,25,41],[21,65,25,42,"source"],[21,71,25,48],[21,73,25,50,"uri"],[21,76,25,53],[21,77,25,54],[21,79,25,56],[22,10,26,8],[23,8,27,6],[24,8,28,6,"events"],[24,14,28,12],[24,16,28,14,"onError"],[24,23,28,21],[24,25,28,23,"forEach"],[24,32,28,30],[24,33,28,32,"e"],[24,34,28,33],[24,38,28,38,"e"],[24,39,28,39],[24,42,28,42],[25,10,28,44,"source"],[25,16,28,50],[25,18,28,52,"source"],[25,24,28,58],[25,28,28,62],[26,8,28,67],[26,9,28,68],[26,10,28,69],[26,11,28,70],[27,6,29,4],[28,4,30,2],[28,5,30,3],[29,2,31,0],[30,0,31,1],[30,3]],"functionMap":{"names":["<global>","getImageWrapperEventHandler","onLoad","events.onLoad.forEach$argument_0","window.requestAnimationFrame$argument_0","events.onDisplay.forEach$argument_0","onTransitionEnd","events.onTransitionEnd.forEach$argument_0","onError","events.onError.forEach$argument_0"],"mappings":"AAA;OCM;YCK;8BCC,iBD;qCEI;qCCC,YD;SFC;KDE;qBKC,uCC,YD,CL;aOC;+BCK,sCD;KPC;CDE"}},"type":"js/module"}]}