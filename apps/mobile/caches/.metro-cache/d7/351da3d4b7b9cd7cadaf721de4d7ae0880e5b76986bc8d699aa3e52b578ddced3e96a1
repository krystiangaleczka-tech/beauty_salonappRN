{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"VelocityTracker\", {\n    enumerable: true,\n    get: function () {\n      return VelocityTracker;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var VelocityTracker = /*#__PURE__*/function () {\n    function VelocityTracker() {\n      (0, _classCallCheck.default)(this, VelocityTracker);\n      this.history = [];\n      this.lastPosition = undefined;\n      this.lastTimestamp = undefined;\n    }\n    return (0, _createClass.default)(VelocityTracker, [{\n      key: \"add\",\n      value: function add(position) {\n        var timestamp = new Date().valueOf();\n        if (this.lastPosition && this.lastTimestamp && timestamp > this.lastTimestamp) {\n          var diff = position - this.lastPosition;\n          if (diff > 0.001 || diff < -0.001) {\n            this.history.push(diff / (timestamp - this.lastTimestamp));\n          }\n        }\n        this.lastPosition = position;\n        this.lastTimestamp = timestamp;\n      }\n    }, {\n      key: \"estimateSpeed\",\n      value: function estimateSpeed() {\n        var finalTrend = this.history.slice(-3);\n        var sum = finalTrend.reduce((r, v) => r + v, 0);\n        return sum / finalTrend.length;\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        this.history = [];\n        this.lastPosition = undefined;\n        this.lastTimestamp = undefined;\n      }\n    }]);\n  }();\n});","lineCount":58,"map":[[12,2,1,0,"Object"],[12,8,1,0],[12,9,1,0,"defineProperty"],[12,23,1,0],[12,24,1,0,"exports"],[12,31,1,0],[13,4,1,0,"enumerable"],[13,14,1,0],[14,4,1,0,"get"],[14,7,1,0],[14,18,1,0,"get"],[14,19,1,0],[15,6,1,0],[15,13,1,0,"VelocityTracker"],[15,28,1,0],[16,4,1,0],[17,2,1,0],[18,2,35,1],[18,6,35,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,35,1],[18,43,35,1,"require"],[18,50,35,1],[18,51,35,1,"_dependencyMap"],[18,65,35,1],[19,2,35,1],[19,6,35,1,"_classCallCheck"],[19,21,35,1],[19,24,35,1,"_interopDefault"],[19,39,35,1],[19,40,35,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,35,1],[20,2,35,1],[20,6,35,1,"_babelRuntimeHelpersCreateClass"],[20,37,35,1],[20,40,35,1,"require"],[20,47,35,1],[20,48,35,1,"_dependencyMap"],[20,62,35,1],[21,2,35,1],[21,6,35,1,"_createClass"],[21,18,35,1],[21,21,35,1,"_interopDefault"],[21,36,35,1],[21,37,35,1,"_babelRuntimeHelpersCreateClass"],[21,68,35,1],[22,2,35,1],[22,6,1,13,"VelocityTracker"],[22,21,1,28],[23,4,6,2],[23,13,6,2,"VelocityTracker"],[23,29,6,2],[23,31,6,16],[24,6,6,16],[24,10,6,16,"_classCallCheck"],[24,25,6,16],[24,26,6,16,"default"],[24,33,6,16],[24,41,6,16,"VelocityTracker"],[24,56,6,16],[25,6,7,4],[25,10,7,8],[25,11,7,9,"history"],[25,18,7,16],[25,21,7,19],[25,23,7,21],[26,6,8,4],[26,10,8,8],[26,11,8,9,"lastPosition"],[26,23,8,21],[26,26,8,24,"undefined"],[26,35,8,33],[27,6,9,4],[27,10,9,8],[27,11,9,9,"lastTimestamp"],[27,24,9,22],[27,27,9,25,"undefined"],[27,36,9,34],[28,4,10,2],[29,4,10,3],[29,15,10,3,"_createClass"],[29,27,10,3],[29,28,10,3,"default"],[29,35,10,3],[29,37,10,3,"VelocityTracker"],[29,52,10,3],[30,6,10,3,"key"],[30,9,10,3],[31,6,10,3,"value"],[31,11,10,3],[31,13,12,2],[31,22,12,2,"add"],[31,25,12,5,"add"],[31,26,12,6,"position"],[31,34,12,22],[31,36,12,24],[32,8,13,4],[32,12,13,10,"timestamp"],[32,21,13,19],[32,24,13,22],[32,28,13,26,"Date"],[32,32,13,30],[32,33,13,31],[32,34,13,32],[32,35,13,33,"valueOf"],[32,42,13,40],[32,43,13,41],[32,44,13,42],[33,8,14,4],[33,12,14,8],[33,16,14,12],[33,17,14,13,"lastPosition"],[33,29,14,25],[33,33,14,29],[33,37,14,33],[33,38,14,34,"lastTimestamp"],[33,51,14,47],[33,55,14,51,"timestamp"],[33,64,14,60],[33,67,14,63],[33,71,14,67],[33,72,14,68,"lastTimestamp"],[33,85,14,81],[33,87,14,83],[34,10,15,6],[34,14,15,12,"diff"],[34,18,15,16],[34,21,15,19,"position"],[34,29,15,27],[34,32,15,30],[34,36,15,34],[34,37,15,35,"lastPosition"],[34,49,15,47],[35,10,16,6],[35,14,16,10,"diff"],[35,18,16,14],[35,21,16,17],[35,26,16,22],[35,30,16,26,"diff"],[35,34,16,30],[35,37,16,33],[35,38,16,34],[35,43,16,39],[35,45,16,41],[36,12,17,8],[36,16,17,12],[36,17,17,13,"history"],[36,24,17,20],[36,25,17,21,"push"],[36,29,17,25],[36,30,17,26,"diff"],[36,34,17,30],[36,38,17,34,"timestamp"],[36,47,17,43],[36,50,17,46],[36,54,17,50],[36,55,17,51,"lastTimestamp"],[36,68,17,64],[36,69,17,65],[36,70,17,66],[37,10,18,6],[38,8,19,4],[39,8,20,4],[39,12,20,8],[39,13,20,9,"lastPosition"],[39,25,20,21],[39,28,20,24,"position"],[39,36,20,32],[40,8,21,4],[40,12,21,8],[40,13,21,9,"lastTimestamp"],[40,26,21,22],[40,29,21,25,"timestamp"],[40,38,21,34],[41,6,22,2],[42,4,22,3],[43,6,22,3,"key"],[43,9,22,3],[44,6,22,3,"value"],[44,11,22,3],[44,13,24,2],[44,22,24,2,"estimateSpeed"],[44,35,24,15,"estimateSpeed"],[44,36,24,15],[44,38,24,18],[45,8,25,4],[45,12,25,10,"finalTrend"],[45,22,25,20],[45,25,25,23],[45,29,25,27],[45,30,25,28,"history"],[45,37,25,35],[45,38,25,36,"slice"],[45,43,25,41],[45,44,25,42],[45,45,25,43],[45,46,25,44],[45,47,25,45],[46,8,26,4],[46,12,26,10,"sum"],[46,15,26,13],[46,18,26,16,"finalTrend"],[46,28,26,26],[46,29,26,27,"reduce"],[46,35,26,33],[46,36,26,34],[46,37,26,35,"r"],[46,38,26,36],[46,40,26,38,"v"],[46,41,26,39],[46,46,26,44,"r"],[46,47,26,45],[46,50,26,48,"v"],[46,51,26,49],[46,53,26,51],[46,54,26,52],[46,55,26,53],[47,8,27,4],[47,15,27,11,"sum"],[47,18,27,14],[47,21,27,17,"finalTrend"],[47,31,27,27],[47,32,27,28,"length"],[47,38,27,34],[48,6,28,2],[49,4,28,3],[50,6,28,3,"key"],[50,9,28,3],[51,6,28,3,"value"],[51,11,28,3],[51,13,30,2],[51,22,30,2,"reset"],[51,27,30,7,"reset"],[51,28,30,7],[51,30,30,10],[52,8,31,4],[52,12,31,8],[52,13,31,9,"history"],[52,20,31,16],[52,23,31,19],[52,25,31,21],[53,8,32,4],[53,12,32,8],[53,13,32,9,"lastPosition"],[53,25,32,21],[53,28,32,24,"undefined"],[53,37,32,33],[54,8,33,4],[54,12,33,8],[54,13,33,9,"lastTimestamp"],[54,26,33,22],[54,29,33,25,"undefined"],[54,38,33,34],[55,6,34,2],[56,4,34,3],[57,2,34,3],[58,0,34,3],[58,3]],"functionMap":{"names":["<global>","VelocityTracker","VelocityTracker#constructor","VelocityTracker#add","VelocityTracker#estimateSpeed","finalTrend.reduce$argument_0","VelocityTracker#reset"],"mappings":"AAA,OC;ECK;GDI;EEE;GFU;EGE;kCCE,eD;GHE;EKE;GLI;CDC"},"hasCjsExports":false},"type":"js/module"}]}