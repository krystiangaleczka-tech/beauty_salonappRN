{"dependencies":[{"name":"../../utils/is-ref-object.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":60,"index":60}}],"key":"F3WXyoJbEdseSl8D6g9fi896iXM=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":61},"end":{"line":2,"column":35,"index":96}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../context/SwitchLayoutGroupContext.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":97},"end":{"line":3,"column":86,"index":183}}],"key":"tinsG2x40ds3tHjgZk+INjpuE/M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useProjection\", {\n    enumerable: true,\n    get: function () {\n      return useProjection;\n    }\n  });\n  var _utilsIsRefObjectMjs = require(_dependencyMap[0], \"../../utils/is-ref-object.mjs\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _contextSwitchLayoutGroupContextMjs = require(_dependencyMap[2], \"../../context/SwitchLayoutGroupContext.mjs\");\n  function useProjection(projectionId, _a, visualElement, ProjectionNodeConstructor) {\n    var _b;\n    var layoutId = _a.layoutId,\n      layout = _a.layout,\n      drag = _a.drag,\n      dragConstraints = _a.dragConstraints,\n      layoutScroll = _a.layoutScroll;\n    var initialPromotionConfig = (0, _react.useContext)(_contextSwitchLayoutGroupContextMjs.SwitchLayoutGroupContext);\n    if (!ProjectionNodeConstructor || !visualElement || (visualElement === null || visualElement === void 0 ? void 0 : visualElement.projection)) {\n      return;\n    }\n    visualElement.projection = new ProjectionNodeConstructor(projectionId, visualElement.getLatestValues(), (_b = visualElement.parent) === null || _b === void 0 ? void 0 : _b.projection);\n    visualElement.projection.setOptions({\n      layoutId: layoutId,\n      layout: layout,\n      alwaysMeasureLayout: Boolean(drag) || dragConstraints && (0, _utilsIsRefObjectMjs.isRefObject)(dragConstraints),\n      visualElement: visualElement,\n      scheduleRender: function () {\n        return visualElement.scheduleRender();\n      },\n      /**\n       * TODO: Update options in an effect. This could be tricky as it'll be too late\n       * to update by the time layout animations run.\n       * We also need to fix this safeToRemove by linking it up to the one returned by usePresence,\n       * ensuring it gets called if there's no potential layout animations.\n       *\n       */\n      animationType: typeof layout === \"string\" ? layout : \"both\",\n      initialPromotionConfig: initialPromotionConfig,\n      layoutScroll: layoutScroll\n    });\n  }\n});","lineCount":48,"map":[[7,2,34,0,"Object"],[7,8,34,0],[7,9,34,0,"defineProperty"],[7,23,34,0],[7,24,34,0,"exports"],[7,31,34,0],[8,4,34,0,"enumerable"],[8,14,34,0],[9,4,34,0,"get"],[9,7,34,0],[9,18,34,0,"get"],[9,19,34,0],[10,6,34,0],[10,13,34,9,"useProjection"],[10,26,34,22],[11,4,34,22],[12,2,34,22],[13,2,1,0],[13,6,1,0,"_utilsIsRefObjectMjs"],[13,26,1,0],[13,29,1,0,"require"],[13,36,1,0],[13,37,1,0,"_dependencyMap"],[13,51,1,0],[14,2,2,0],[14,6,2,0,"_react"],[14,12,2,0],[14,15,2,0,"require"],[14,22,2,0],[14,23,2,0,"_dependencyMap"],[14,37,2,0],[15,2,3,0],[15,6,3,0,"_contextSwitchLayoutGroupContextMjs"],[15,41,3,0],[15,44,3,0,"require"],[15,51,3,0],[15,52,3,0,"_dependencyMap"],[15,66,3,0],[16,2,5,0],[16,11,5,9,"useProjection"],[16,24,5,22,"useProjection"],[16,25,5,23,"projectionId"],[16,37,5,35],[16,39,5,37,"_a"],[16,41,5,39],[16,43,5,41,"visualElement"],[16,56,5,54],[16,58,5,56,"ProjectionNodeConstructor"],[16,83,5,81],[16,85,5,83],[17,4,6,4],[17,8,6,8,"_b"],[17,10,6,10],[18,4,7,4],[18,8,7,8,"layoutId"],[18,16,7,16],[18,19,7,19,"_a"],[18,21,7,21],[18,22,7,22,"layoutId"],[18,30,7,30],[19,6,7,32,"layout"],[19,12,7,38],[19,15,7,41,"_a"],[19,17,7,43],[19,18,7,44,"layout"],[19,24,7,50],[20,6,7,52,"drag"],[20,10,7,56],[20,13,7,59,"_a"],[20,15,7,61],[20,16,7,62,"drag"],[20,20,7,66],[21,6,7,68,"dragConstraints"],[21,21,7,83],[21,24,7,86,"_a"],[21,26,7,88],[21,27,7,89,"dragConstraints"],[21,42,7,104],[22,6,7,106,"layoutScroll"],[22,18,7,118],[22,21,7,121,"_a"],[22,23,7,123],[22,24,7,124,"layoutScroll"],[22,36,7,136],[23,4,8,4],[23,8,8,8,"initialPromotionConfig"],[23,30,8,30],[23,33,8,33],[23,37,8,33,"useContext"],[23,43,8,43],[23,44,8,43,"useContext"],[23,54,8,43],[23,56,8,44,"SwitchLayoutGroupContext"],[23,91,8,68],[23,92,8,68,"SwitchLayoutGroupContext"],[23,116,8,68],[23,117,8,69],[24,4,9,4],[24,8,9,8],[24,9,9,9,"ProjectionNodeConstructor"],[24,34,9,34],[24,38,10,8],[24,39,10,9,"visualElement"],[24,52,10,22],[24,57,11,9,"visualElement"],[24,70,11,22],[24,75,11,27],[24,79,11,31],[24,83,11,35,"visualElement"],[24,96,11,48],[24,101,11,53],[24,106,11,58],[24,107,11,59],[24,110,11,62],[24,115,11,67],[24,116,11,68],[24,119,11,71,"visualElement"],[24,132,11,84],[24,133,11,85,"projection"],[24,143,11,95],[24,144,11,96],[24,146,11,98],[25,6,12,8],[26,4,13,4],[27,4,14,4,"visualElement"],[27,17,14,17],[27,18,14,18,"projection"],[27,28,14,28],[27,31,14,31],[27,35,14,35,"ProjectionNodeConstructor"],[27,60,14,60],[27,61,14,61,"projectionId"],[27,73,14,73],[27,75,14,75,"visualElement"],[27,88,14,88],[27,89,14,89,"getLatestValues"],[27,104,14,104],[27,105,14,105],[27,106,14,106],[27,108,14,108],[27,109,14,109,"_b"],[27,111,14,111],[27,114,14,114,"visualElement"],[27,127,14,127],[27,128,14,128,"parent"],[27,134,14,134],[27,140,14,140],[27,144,14,144],[27,148,14,148,"_b"],[27,150,14,150],[27,155,14,155],[27,160,14,160],[27,161,14,161],[27,164,14,164],[27,169,14,169],[27,170,14,170],[27,173,14,173,"_b"],[27,175,14,175],[27,176,14,176,"projection"],[27,186,14,186],[27,187,14,187],[28,4,15,4,"visualElement"],[28,17,15,17],[28,18,15,18,"projection"],[28,28,15,28],[28,29,15,29,"setOptions"],[28,39,15,39],[28,40,15,40],[29,6,16,8,"layoutId"],[29,14,16,16],[29,16,16,18,"layoutId"],[29,24,16,26],[30,6,17,8,"layout"],[30,12,17,14],[30,14,17,16,"layout"],[30,20,17,22],[31,6,18,8,"alwaysMeasureLayout"],[31,25,18,27],[31,27,18,29,"Boolean"],[31,34,18,36],[31,35,18,37,"drag"],[31,39,18,41],[31,40,18,42],[31,44,18,47,"dragConstraints"],[31,59,18,62],[31,63,18,66],[31,67,18,66,"isRefObject"],[31,87,18,77],[31,88,18,77,"isRefObject"],[31,99,18,77],[31,101,18,78,"dragConstraints"],[31,116,18,93],[31,117,18,95],[32,6,19,8,"visualElement"],[32,19,19,21],[32,21,19,23,"visualElement"],[32,34,19,36],[33,6,20,8,"scheduleRender"],[33,20,20,22],[33,22,20,24],[33,31,20,24,"scheduleRender"],[33,32,20,24],[33,34,20,36],[34,8,20,38],[34,15,20,45,"visualElement"],[34,28,20,58],[34,29,20,59,"scheduleRender"],[34,43,20,73],[34,44,20,74],[34,45,20,75],[35,6,20,77],[35,7,20,78],[36,6,21,8],[37,0,22,0],[38,0,23,0],[39,0,24,0],[40,0,25,0],[41,0,26,0],[42,0,27,0],[43,6,28,8,"animationType"],[43,19,28,21],[43,21,28,23],[43,28,28,30,"layout"],[43,34,28,36],[43,39,28,41],[43,47,28,49],[43,50,28,52,"layout"],[43,56,28,58],[43,59,28,61],[43,65,28,67],[44,6,29,8,"initialPromotionConfig"],[44,28,29,30],[44,30,29,32,"initialPromotionConfig"],[44,52,29,54],[45,6,30,8,"layoutScroll"],[45,18,30,20],[45,20,30,22,"layoutScroll"],[46,4,31,4],[46,5,31,5],[46,6,31,6],[47,2,32,0],[48,0,32,1],[48,3]],"functionMap":{"names":["<global>","useProjection","visualElement.projection.setOptions$argument_0.scheduleRender"],"mappings":"AAA;ACI;wBCe,sDD;CDY"},"hasCjsExports":false},"type":"js/module"}]}