{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"fnQVLibs90KHiJ7y48fLgPWzDS0=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":52},"end":{"line":5,"column":65,"index":117}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  // Copyright Â© 2024 650 Industries.\n\n  'use client';\n  \"use strict\";\n\n  var _excluded = [\"get\", \"request\"];\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.createPermissionHook = createPermissionHook;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersObjectWithoutProperties = require(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutProperties\");\n  var _objectWithoutProperties = _interopDefault(_babelRuntimeHelpersObjectWithoutProperties);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[2], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[3], \"react\");\n  // These types are identical, but improves the readability for suggestions in editors\n\n  /**\n   * Get or request permission for protected functionality within the app.\n   * It uses separate permission requesters to interact with a single permission.\n   * By default, the hook will only retrieve the permission status.\n   */\n  function usePermission(methods, options) {\n    var isMounted = (0, _react.useRef)(true);\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n    var _ref = options || {},\n      _ref$get = _ref.get,\n      get = _ref$get === void 0 ? true : _ref$get,\n      _ref$request = _ref.request,\n      request = _ref$request === void 0 ? false : _ref$request,\n      permissionOptions = (0, _objectWithoutProperties.default)(_ref, _excluded);\n    var getPermission = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      var response = yield methods.getMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.getMethod]);\n    var requestPermission = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      var response = yield methods.requestMethod(Object.keys(permissionOptions).length > 0 ? permissionOptions : undefined);\n      if (isMounted.current) setStatus(response);\n      return response;\n    }), [methods.requestMethod]);\n    (0, _react.useEffect)(function runMethods() {\n      if (request) requestPermission();\n      if (!request && get) getPermission();\n    }, [get, request, requestPermission, getPermission]);\n\n    // Workaround for unmounting components receiving state updates\n    (0, _react.useEffect)(function didMount() {\n      isMounted.current = true;\n      return () => {\n        isMounted.current = false;\n      };\n    }, []);\n    return [status, requestPermission, getPermission];\n  }\n\n  /**\n   * Create a new permission hook with the permission methods built-in.\n   * This can be used to quickly create specific permission hooks in every module.\n   */\n  function createPermissionHook(methods) {\n    return options => usePermission(methods, options);\n  }\n});","lineCount":75,"map":[[2,2,1,0],[4,2,3,0],[4,14,3,12],[5,2,3,13],[7,2,3,13],[7,6,3,13,"_excluded"],[7,15,3,13],[8,2,3,13,"Object"],[8,8,3,13],[8,9,3,13,"defineProperty"],[8,23,3,13],[8,24,3,13,"exports"],[8,31,3,13],[9,4,3,13,"value"],[9,9,3,13],[10,2,3,13],[11,2,3,13],[11,11,3,13,"_interopDefault"],[11,27,3,13,"e"],[11,28,3,13],[12,4,3,13],[12,11,3,13,"e"],[12,12,3,13],[12,16,3,13,"e"],[12,17,3,13],[12,18,3,13,"__esModule"],[12,28,3,13],[12,31,3,13,"e"],[12,32,3,13],[13,6,3,13,"default"],[13,13,3,13],[13,15,3,13,"e"],[14,4,3,13],[15,2,3,13],[16,2,81,0,"exports"],[16,9,81,0],[16,10,81,0,"createPermissionHook"],[16,30,81,0],[16,33,81,0,"createPermissionHook"],[16,53,81,0],[17,2,86,1],[17,6,86,1,"_babelRuntimeHelpersAsyncToGenerator"],[17,42,86,1],[17,45,86,1,"require"],[17,52,86,1],[17,53,86,1,"_dependencyMap"],[17,67,86,1],[18,2,86,1],[18,6,86,1,"_asyncToGenerator"],[18,23,86,1],[18,26,86,1,"_interopDefault"],[18,41,86,1],[18,42,86,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,78,86,1],[19,2,86,1],[19,6,86,1,"_babelRuntimeHelpersObjectWithoutProperties"],[19,49,86,1],[19,52,86,1,"require"],[19,59,86,1],[19,60,86,1,"_dependencyMap"],[19,74,86,1],[20,2,86,1],[20,6,86,1,"_objectWithoutProperties"],[20,30,86,1],[20,33,86,1,"_interopDefault"],[20,48,86,1],[20,49,86,1,"_babelRuntimeHelpersObjectWithoutProperties"],[20,92,86,1],[21,2,86,1],[21,6,86,1,"_babelRuntimeHelpersSlicedToArray"],[21,39,86,1],[21,42,86,1,"require"],[21,49,86,1],[21,50,86,1,"_dependencyMap"],[21,64,86,1],[22,2,86,1],[22,6,86,1,"_slicedToArray"],[22,20,86,1],[22,23,86,1,"_interopDefault"],[22,38,86,1],[22,39,86,1,"_babelRuntimeHelpersSlicedToArray"],[22,72,86,1],[23,2,5,0],[23,6,5,0,"_react"],[23,12,5,0],[23,15,5,0,"require"],[23,22,5,0],[23,23,5,0,"_dependencyMap"],[23,37,5,0],[24,2,9,0],[26,2,29,0],[27,0,30,0],[28,0,31,0],[29,0,32,0],[30,0,33,0],[31,2,34,0],[31,11,34,9,"usePermission"],[31,24,34,22,"usePermission"],[31,25,35,2,"methods"],[31,32,35,53],[31,34,36,2,"options"],[31,41,36,42],[31,43,37,93],[32,4,38,2],[32,8,38,8,"isMounted"],[32,17,38,17],[32,20,38,20],[32,24,38,20,"useRef"],[32,30,38,26],[32,31,38,26,"useRef"],[32,37,38,26],[32,39,38,27],[32,43,38,31],[32,44,38,32],[33,4,39,2],[33,8,39,2,"_useState"],[33,17,39,2],[33,20,39,30],[33,24,39,30,"useState"],[33,30,39,38],[33,31,39,38,"useState"],[33,39,39,38],[33,41,39,58],[33,45,39,62],[33,46,39,63],[34,6,39,63,"_useState2"],[34,16,39,63],[34,23,39,63,"_slicedToArray"],[34,37,39,63],[34,38,39,63,"default"],[34,45,39,63],[34,47,39,63,"_useState"],[34,56,39,63],[35,6,39,9,"status"],[35,12,39,15],[35,15,39,15,"_useState2"],[35,25,39,15],[36,6,39,17,"setStatus"],[36,15,39,26],[36,18,39,26,"_useState2"],[36,28,39,26],[37,4,40,2],[37,8,40,2,"_ref"],[37,12,40,2],[37,15,40,64,"options"],[37,22,40,71],[37,26,40,75],[37,27,40,76],[37,28,40,77],[38,6,40,77,"_ref$get"],[38,14,40,77],[38,17,40,77,"_ref"],[38,21,40,77],[38,22,40,10,"get"],[38,25,40,13],[39,6,40,10,"get"],[39,9,40,13],[39,12,40,13,"_ref$get"],[39,20,40,13],[39,34,40,16],[39,38,40,20],[39,41,40,20,"_ref$get"],[39,49,40,20],[40,6,40,20,"_ref$request"],[40,18,40,20],[40,21,40,20,"_ref"],[40,25,40,20],[40,26,40,22,"request"],[40,33,40,29],[41,6,40,22,"request"],[41,13,40,29],[41,16,40,29,"_ref$request"],[41,28,40,29],[41,42,40,32],[41,47,40,37],[41,50,40,37,"_ref$request"],[41,62,40,37],[42,6,40,42,"permissionOptions"],[42,23,40,59],[42,30,40,59,"_objectWithoutProperties"],[42,54,40,59],[42,55,40,59,"default"],[42,62,40,59],[42,64,40,59,"_ref"],[42,68,40,59],[42,70,40,59,"_excluded"],[42,79,40,59],[43,4,42,2],[43,8,42,8,"getPermission"],[43,21,42,21],[43,24,42,24],[43,28,42,24,"useCallback"],[43,34,42,35],[43,35,42,35,"useCallback"],[43,46,42,35],[43,65,42,35,"_asyncToGenerator"],[43,82,42,35],[43,83,42,35,"default"],[43,90,42,35],[43,92,42,36],[43,105,42,48],[44,6,43,4],[44,10,43,10,"response"],[44,18,43,18],[44,27,43,27,"methods"],[44,34,43,34],[44,35,43,35,"getMethod"],[44,44,43,44],[44,45,44,6,"Object"],[44,51,44,12],[44,52,44,13,"keys"],[44,56,44,17],[44,57,44,18,"permissionOptions"],[44,74,44,35],[44,75,44,36],[44,76,44,37,"length"],[44,82,44,43],[44,85,44,46],[44,86,44,47],[44,89,44,51,"permissionOptions"],[44,106,44,68],[44,109,44,83,"undefined"],[44,118,45,4],[44,119,45,5],[45,6,46,4],[45,10,46,8,"isMounted"],[45,19,46,17],[45,20,46,18,"current"],[45,27,46,25],[45,29,46,27,"setStatus"],[45,38,46,36],[45,39,46,37,"response"],[45,47,46,45],[45,48,46,46],[46,6,47,4],[46,13,47,11,"response"],[46,21,47,19],[47,4,48,2],[47,5,48,3],[47,8,48,5],[47,9,48,6,"methods"],[47,16,48,13],[47,17,48,14,"getMethod"],[47,26,48,23],[47,27,48,24],[47,28,48,25],[48,4,50,2],[48,8,50,8,"requestPermission"],[48,25,50,25],[48,28,50,28],[48,32,50,28,"useCallback"],[48,38,50,39],[48,39,50,39,"useCallback"],[48,50,50,39],[48,69,50,39,"_asyncToGenerator"],[48,86,50,39],[48,87,50,39,"default"],[48,94,50,39],[48,96,50,40],[48,109,50,52],[49,6,51,4],[49,10,51,10,"response"],[49,18,51,18],[49,27,51,27,"methods"],[49,34,51,34],[49,35,51,35,"requestMethod"],[49,48,51,48],[49,49,52,6,"Object"],[49,55,52,12],[49,56,52,13,"keys"],[49,60,52,17],[49,61,52,18,"permissionOptions"],[49,78,52,35],[49,79,52,36],[49,80,52,37,"length"],[49,86,52,43],[49,89,52,46],[49,90,52,47],[49,93,52,51,"permissionOptions"],[49,110,52,68],[49,113,52,83,"undefined"],[49,122,53,4],[49,123,53,5],[50,6,54,4],[50,10,54,8,"isMounted"],[50,19,54,17],[50,20,54,18,"current"],[50,27,54,25],[50,29,54,27,"setStatus"],[50,38,54,36],[50,39,54,37,"response"],[50,47,54,45],[50,48,54,46],[51,6,55,4],[51,13,55,11,"response"],[51,21,55,19],[52,4,56,2],[52,5,56,3],[52,8,56,5],[52,9,56,6,"methods"],[52,16,56,13],[52,17,56,14,"requestMethod"],[52,30,56,27],[52,31,56,28],[52,32,56,29],[53,4,58,2],[53,8,58,2,"useEffect"],[53,14,58,11],[53,15,58,11,"useEffect"],[53,24,58,11],[53,26,59,4],[53,35,59,13,"runMethods"],[53,45,59,23,"runMethods"],[53,46,59,23],[53,48,59,26],[54,6,60,6],[54,10,60,10,"request"],[54,17,60,17],[54,19,60,19,"requestPermission"],[54,36,60,36],[54,37,60,37],[54,38,60,38],[55,6,61,6],[55,10,61,10],[55,11,61,11,"request"],[55,18,61,18],[55,22,61,22,"get"],[55,25,61,25],[55,27,61,27,"getPermission"],[55,40,61,40],[55,41,61,41],[55,42,61,42],[56,4,62,4],[56,5,62,5],[56,7,63,4],[56,8,63,5,"get"],[56,11,63,8],[56,13,63,10,"request"],[56,20,63,17],[56,22,63,19,"requestPermission"],[56,39,63,36],[56,41,63,38,"getPermission"],[56,54,63,51],[56,55,64,2],[56,56,64,3],[58,4,66,2],[59,4,67,2],[59,8,67,2,"useEffect"],[59,14,67,11],[59,15,67,11,"useEffect"],[59,24,67,11],[59,26,67,12],[59,35,67,21,"didMount"],[59,43,67,29,"didMount"],[59,44,67,29],[59,46,67,32],[60,6,68,4,"isMounted"],[60,15,68,13],[60,16,68,14,"current"],[60,23,68,21],[60,26,68,24],[60,30,68,28],[61,6,69,4],[61,13,69,11],[61,19,69,17],[62,8,70,6,"isMounted"],[62,17,70,15],[62,18,70,16,"current"],[62,25,70,23],[62,28,70,26],[62,33,70,31],[63,6,71,4],[63,7,71,5],[64,4,72,2],[64,5,72,3],[64,7,72,5],[64,9,72,7],[64,10,72,8],[65,4,74,2],[65,11,74,9],[65,12,74,10,"status"],[65,18,74,16],[65,20,74,18,"requestPermission"],[65,37,74,35],[65,39,74,37,"getPermission"],[65,52,74,50],[65,53,74,51],[66,2,75,0],[68,2,77,0],[69,0,78,0],[70,0,79,0],[71,0,80,0],[72,2,81,7],[72,11,81,16,"createPermissionHook"],[72,31,81,36,"createPermissionHook"],[72,32,82,2,"methods"],[72,39,82,53],[72,41,83,2],[73,4,84,2],[73,11,84,10,"options"],[73,18,84,50],[73,22,85,4,"usePermission"],[73,35,85,17],[73,36,85,39,"methods"],[73,43,85,46],[73,45,85,48,"options"],[73,52,85,55],[73,53,85,56],[74,2,86,0],[75,0,86,1],[75,3]],"functionMap":{"names":["<global>","usePermission","getPermission","requestPermission","runMethods","didMount","<anonymous>","createPermissionHook"],"mappings":"AAA;ACiC;oCCQ;GDM;wCEE;GFM;IGG;KHG;YIK;WCE;KDE;GJC;CDG;OOM;SDG;wDCC;CPC"},"hasCjsExports":false},"type":"js/module"}]}