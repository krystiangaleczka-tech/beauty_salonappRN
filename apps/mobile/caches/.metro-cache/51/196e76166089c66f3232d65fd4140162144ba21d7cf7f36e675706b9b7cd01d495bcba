{"dependencies":[{"name":"@motionone/generators","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":17,"index":96},"end":{"line":5,"column":49,"index":128}}],"key":"IvL814rC/H6+0lQcy9wG2cpeB4o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var generators = require(_dependencyMap[0], \"@motionone/generators\");\n  function createGeneratorEasing(createGenerator) {\n    var keyframesCache = new WeakMap();\n    return function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var generatorCache = new Map();\n      var getGenerator = function () {\n        var from = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var to = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;\n        var velocity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var isScale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var key = `${from}-${to}-${velocity}-${isScale}`;\n        if (!generatorCache.has(key)) {\n          generatorCache.set(key, createGenerator(Object.assign({\n            from,\n            to,\n            velocity,\n            restSpeed: isScale ? 0.05 : 2,\n            restDistance: isScale ? 0.01 : 0.5\n          }, options)));\n        }\n        return generatorCache.get(key);\n      };\n      var getKeyframes = generator => {\n        if (!keyframesCache.has(generator)) {\n          keyframesCache.set(generator, generators.pregenerateKeyframes(generator));\n        }\n        return keyframesCache.get(generator);\n      };\n      return {\n        createAnimation: (keyframes, getOrigin, canUseGenerator, name, motionValue) => {\n          var _a, _b;\n          var settings;\n          var numKeyframes = keyframes.length;\n          var shouldUseGenerator = canUseGenerator && numKeyframes <= 2 && keyframes.every(isNumberOrNull);\n          if (shouldUseGenerator) {\n            var target = keyframes[numKeyframes - 1];\n            var unresolvedOrigin = numKeyframes === 1 ? null : keyframes[0];\n            var velocity = 0;\n            var origin = 0;\n            var prevGenerator = motionValue === null || motionValue === void 0 ? void 0 : motionValue.generator;\n            if (prevGenerator) {\n              /**\n               * If we have a generator for this value we can use it to resolve\n               * the animations's current value and velocity.\n               */\n              var animation = motionValue.animation,\n                generatorStartTime = motionValue.generatorStartTime;\n              var startTime = (animation === null || animation === void 0 ? void 0 : animation.startTime) || generatorStartTime || 0;\n              var currentTime = (animation === null || animation === void 0 ? void 0 : animation.currentTime) || performance.now() - startTime;\n              var prevGeneratorCurrent = prevGenerator(currentTime).current;\n              origin = (_a = unresolvedOrigin) !== null && _a !== void 0 ? _a : prevGeneratorCurrent;\n              if (numKeyframes === 1 || numKeyframes === 2 && keyframes[0] === null) {\n                velocity = generators.calcGeneratorVelocity(t => prevGenerator(t).current, currentTime, prevGeneratorCurrent);\n              }\n            } else {\n              origin = (_b = unresolvedOrigin) !== null && _b !== void 0 ? _b : parseFloat(getOrigin());\n            }\n            var generator = getGenerator(origin, target, velocity, name === null || name === void 0 ? void 0 : name.includes(\"scale\"));\n            var keyframesMetadata = getKeyframes(generator);\n            settings = Object.assign(Object.assign({}, keyframesMetadata), {\n              easing: \"linear\"\n            });\n            // TODO Add test for this\n            if (motionValue) {\n              motionValue.generator = generator;\n              motionValue.generatorStartTime = performance.now();\n            }\n          } else {\n            var _keyframesMetadata = getKeyframes(getGenerator(0, 100));\n            settings = {\n              easing: \"ease\",\n              duration: _keyframesMetadata.overshootDuration\n            };\n          }\n          return settings;\n        }\n      };\n    };\n  }\n  var isNumberOrNull = value => typeof value !== \"string\";\n  exports.createGeneratorEasing = createGeneratorEasing;\n});","lineCount":89,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,3,47,"value"],[5,9,3,52],[5,11,3,54],[6,2,3,59],[6,3,3,60],[6,4,3,61],[7,2,5,0],[7,6,5,4,"generators"],[7,16,5,14],[7,19,5,17,"require"],[7,26,5,24],[7,27,5,24,"_dependencyMap"],[7,41,5,24],[7,69,5,48],[7,70,5,49],[8,2,7,0],[8,11,7,9,"createGeneratorEasing"],[8,32,7,30,"createGeneratorEasing"],[8,33,7,31,"createGenerator"],[8,48,7,46],[8,50,7,48],[9,4,8,4],[9,8,8,10,"keyframesCache"],[9,22,8,24],[9,25,8,27],[9,29,8,31,"WeakMap"],[9,36,8,38],[9,37,8,39],[9,38,8,40],[10,4,9,4],[10,11,9,11],[10,23,9,29],[11,6,9,29],[11,10,9,12,"options"],[11,17,9,19],[11,20,9,19,"arguments"],[11,29,9,19],[11,30,9,19,"length"],[11,36,9,19],[11,44,9,19,"arguments"],[11,53,9,19],[11,61,9,19,"undefined"],[11,70,9,19],[11,73,9,19,"arguments"],[11,82,9,19],[11,88,9,22],[11,89,9,23],[11,90,9,24],[12,6,10,8],[12,10,10,14,"generatorCache"],[12,24,10,28],[12,27,10,31],[12,31,10,35,"Map"],[12,34,10,38],[12,35,10,39],[12,36,10,40],[13,6,11,8],[13,10,11,14,"getGenerator"],[13,22,11,26],[13,25,11,29],[13,34,11,29,"getGenerator"],[13,35,11,29],[13,37,11,84],[14,8,11,84],[14,12,11,30,"from"],[14,16,11,34],[14,19,11,34,"arguments"],[14,28,11,34],[14,29,11,34,"length"],[14,35,11,34],[14,43,11,34,"arguments"],[14,52,11,34],[14,60,11,34,"undefined"],[14,69,11,34],[14,72,11,34,"arguments"],[14,81,11,34],[14,87,11,37],[14,88,11,38],[15,8,11,38],[15,12,11,40,"to"],[15,14,11,42],[15,17,11,42,"arguments"],[15,26,11,42],[15,27,11,42,"length"],[15,33,11,42],[15,41,11,42,"arguments"],[15,50,11,42],[15,58,11,42,"undefined"],[15,67,11,42],[15,70,11,42,"arguments"],[15,79,11,42],[15,85,11,45],[15,88,11,48],[16,8,11,48],[16,12,11,50,"velocity"],[16,20,11,58],[16,23,11,58,"arguments"],[16,32,11,58],[16,33,11,58,"length"],[16,39,11,58],[16,47,11,58,"arguments"],[16,56,11,58],[16,64,11,58,"undefined"],[16,73,11,58],[16,76,11,58,"arguments"],[16,85,11,58],[16,91,11,61],[16,92,11,62],[17,8,11,62],[17,12,11,64,"isScale"],[17,19,11,71],[17,22,11,71,"arguments"],[17,31,11,71],[17,32,11,71,"length"],[17,38,11,71],[17,46,11,71,"arguments"],[17,55,11,71],[17,63,11,71,"undefined"],[17,72,11,71],[17,75,11,71,"arguments"],[17,84,11,71],[17,90,11,74],[17,95,11,79],[18,8,12,12],[18,12,12,18,"key"],[18,15,12,21],[18,18,12,24],[18,21,12,27,"from"],[18,25,12,31],[18,29,12,35,"to"],[18,31,12,37],[18,35,12,41,"velocity"],[18,43,12,49],[18,47,12,53,"isScale"],[18,54,12,60],[18,56,12,62],[19,8,13,12],[19,12,13,16],[19,13,13,17,"generatorCache"],[19,27,13,31],[19,28,13,32,"has"],[19,31,13,35],[19,32,13,36,"key"],[19,35,13,39],[19,36,13,40],[19,38,13,42],[20,10,14,16,"generatorCache"],[20,24,14,30],[20,25,14,31,"set"],[20,28,14,34],[20,29,14,35,"key"],[20,32,14,38],[20,34,14,40,"createGenerator"],[20,49,14,55],[20,50,14,56,"Object"],[20,56,14,62],[20,57,14,63,"assign"],[20,63,14,69],[20,64,14,70],[21,12,14,72,"from"],[21,16,14,76],[22,12,15,20,"to"],[22,14,15,22],[23,12,16,20,"velocity"],[23,20,16,28],[24,12,16,30,"restSpeed"],[24,21,16,39],[24,23,16,41,"isScale"],[24,30,16,48],[24,33,16,51],[24,37,16,55],[24,40,16,58],[24,41,16,59],[25,12,16,61,"restDistance"],[25,24,16,73],[25,26,16,75,"isScale"],[25,33,16,82],[25,36,16,85],[25,40,16,89],[25,43,16,92],[26,10,16,96],[26,11,16,97],[26,13,16,99,"options"],[26,20,16,106],[26,21,16,107],[26,22,16,108],[26,23,16,109],[27,8,17,12],[28,8,18,12],[28,15,18,19,"generatorCache"],[28,29,18,33],[28,30,18,34,"get"],[28,33,18,37],[28,34,18,38,"key"],[28,37,18,41],[28,38,18,42],[29,6,19,8],[29,7,19,9],[30,6,20,8],[30,10,20,14,"getKeyframes"],[30,22,20,26],[30,25,20,30,"generator"],[30,34,20,39],[30,38,20,44],[31,8,21,12],[31,12,21,16],[31,13,21,17,"keyframesCache"],[31,27,21,31],[31,28,21,32,"has"],[31,31,21,35],[31,32,21,36,"generator"],[31,41,21,45],[31,42,21,46],[31,44,21,48],[32,10,22,16,"keyframesCache"],[32,24,22,30],[32,25,22,31,"set"],[32,28,22,34],[32,29,22,35,"generator"],[32,38,22,44],[32,40,22,46,"generators"],[32,50,22,56],[32,51,22,57,"pregenerateKeyframes"],[32,71,22,77],[32,72,22,78,"generator"],[32,81,22,87],[32,82,22,88],[32,83,22,89],[33,8,23,12],[34,8,24,12],[34,15,24,19,"keyframesCache"],[34,29,24,33],[34,30,24,34,"get"],[34,33,24,37],[34,34,24,38,"generator"],[34,43,24,47],[34,44,24,48],[35,6,25,8],[35,7,25,9],[36,6,26,8],[36,13,26,15],[37,8,27,12,"createAnimation"],[37,23,27,27],[37,25,27,29,"createAnimation"],[37,26,27,30,"keyframes"],[37,35,27,39],[37,37,27,41,"getOrigin"],[37,46,27,50],[37,48,27,52,"canUseGenerator"],[37,63,27,67],[37,65,27,69,"name"],[37,69,27,73],[37,71,27,75,"motionValue"],[37,82,27,86],[37,87,27,91],[38,10,28,16],[38,14,28,20,"_a"],[38,16,28,22],[38,18,28,24,"_b"],[38,20,28,26],[39,10,29,16],[39,14,29,20,"settings"],[39,22,29,28],[40,10,30,16],[40,14,30,22,"numKeyframes"],[40,26,30,34],[40,29,30,37,"keyframes"],[40,38,30,46],[40,39,30,47,"length"],[40,45,30,53],[41,10,31,16],[41,14,31,20,"shouldUseGenerator"],[41,32,31,38],[41,35,31,41,"canUseGenerator"],[41,50,31,56],[41,54,32,20,"numKeyframes"],[41,66,32,32],[41,70,32,36],[41,71,32,37],[41,75,33,20,"keyframes"],[41,84,33,29],[41,85,33,30,"every"],[41,90,33,35],[41,91,33,36,"isNumberOrNull"],[41,105,33,50],[41,106,33,51],[42,10,34,16],[42,14,34,20,"shouldUseGenerator"],[42,32,34,38],[42,34,34,40],[43,12,35,20],[43,16,35,26,"target"],[43,22,35,32],[43,25,35,35,"keyframes"],[43,34,35,44],[43,35,35,45,"numKeyframes"],[43,47,35,57],[43,50,35,60],[43,51,35,61],[43,52,35,62],[44,12,36,20],[44,16,36,26,"unresolvedOrigin"],[44,32,36,42],[44,35,36,45,"numKeyframes"],[44,47,36,57],[44,52,36,62],[44,53,36,63],[44,56,36,66],[44,60,36,70],[44,63,36,73,"keyframes"],[44,72,36,82],[44,73,36,83],[44,74,36,84],[44,75,36,85],[45,12,37,20],[45,16,37,24,"velocity"],[45,24,37,32],[45,27,37,35],[45,28,37,36],[46,12,38,20],[46,16,38,24,"origin"],[46,22,38,30],[46,25,38,33],[46,26,38,34],[47,12,39,20],[47,16,39,26,"prevGenerator"],[47,29,39,39],[47,32,39,42,"motionValue"],[47,43,39,53],[47,48,39,58],[47,52,39,62],[47,56,39,66,"motionValue"],[47,67,39,77],[47,72,39,82],[47,77,39,87],[47,78,39,88],[47,81,39,91],[47,86,39,96],[47,87,39,97],[47,90,39,100,"motionValue"],[47,101,39,111],[47,102,39,112,"generator"],[47,111,39,121],[48,12,40,20],[48,16,40,24,"prevGenerator"],[48,29,40,37],[48,31,40,39],[49,14,41,24],[50,0,42,0],[51,0,43,0],[52,0,44,0],[53,14,45,24],[53,18,45,32,"animation"],[53,27,45,41],[53,30,45,66,"motionValue"],[53,41,45,77],[53,42,45,32,"animation"],[53,51,45,41],[54,16,45,43,"generatorStartTime"],[54,34,45,61],[54,37,45,66,"motionValue"],[54,48,45,77],[54,49,45,43,"generatorStartTime"],[54,67,45,61],[55,14,46,24],[55,18,46,30,"startTime"],[55,27,46,39],[55,30,46,42],[55,31,46,43,"animation"],[55,40,46,52],[55,45,46,57],[55,49,46,61],[55,53,46,65,"animation"],[55,62,46,74],[55,67,46,79],[55,72,46,84],[55,73,46,85],[55,76,46,88],[55,81,46,93],[55,82,46,94],[55,85,46,97,"animation"],[55,94,46,106],[55,95,46,107,"startTime"],[55,104,46,116],[55,109,46,121,"generatorStartTime"],[55,127,46,139],[55,131,46,143],[55,132,46,144],[56,14,47,24],[56,18,47,30,"currentTime"],[56,29,47,41],[56,32,47,44],[56,33,47,45,"animation"],[56,42,47,54],[56,47,47,59],[56,51,47,63],[56,55,47,67,"animation"],[56,64,47,76],[56,69,47,81],[56,74,47,86],[56,75,47,87],[56,78,47,90],[56,83,47,95],[56,84,47,96],[56,87,47,99,"animation"],[56,96,47,108],[56,97,47,109,"currentTime"],[56,108,47,120],[56,113,47,125,"performance"],[56,124,47,136],[56,125,47,137,"now"],[56,128,47,140],[56,129,47,141],[56,130,47,142],[56,133,47,145,"startTime"],[56,142,47,154],[57,14,48,24],[57,18,48,30,"prevGeneratorCurrent"],[57,38,48,50],[57,41,48,53,"prevGenerator"],[57,54,48,66],[57,55,48,67,"currentTime"],[57,66,48,78],[57,67,48,79],[57,68,48,80,"current"],[57,75,48,87],[58,14,49,24,"origin"],[58,20,49,30],[58,23,49,33],[58,24,49,34,"_a"],[58,26,49,36],[58,29,49,39,"unresolvedOrigin"],[58,45,49,55],[58,51,49,61],[58,55,49,65],[58,59,49,69,"_a"],[58,61,49,71],[58,66,49,76],[58,71,49,81],[58,72,49,82],[58,75,49,85,"_a"],[58,77,49,87],[58,80,49,90,"prevGeneratorCurrent"],[58,100,49,110],[59,14,50,24],[59,18,50,28,"numKeyframes"],[59,30,50,40],[59,35,50,45],[59,36,50,46],[59,40,51,29,"numKeyframes"],[59,52,51,41],[59,57,51,46],[59,58,51,47],[59,62,51,51,"keyframes"],[59,71,51,60],[59,72,51,61],[59,73,51,62],[59,74,51,63],[59,79,51,68],[59,83,51,73],[59,85,51,75],[60,16,52,28,"velocity"],[60,24,52,36],[60,27,52,39,"generators"],[60,37,52,49],[60,38,52,50,"calcGeneratorVelocity"],[60,59,52,71],[60,60,52,73,"t"],[60,61,52,74],[60,65,52,79,"prevGenerator"],[60,78,52,92],[60,79,52,93,"t"],[60,80,52,94],[60,81,52,95],[60,82,52,96,"current"],[60,89,52,103],[60,91,52,105,"currentTime"],[60,102,52,116],[60,104,52,118,"prevGeneratorCurrent"],[60,124,52,138],[60,125,52,139],[61,14,53,24],[62,12,54,20],[62,13,54,21],[62,19,55,25],[63,14,56,24,"origin"],[63,20,56,30],[63,23,56,33],[63,24,56,34,"_b"],[63,26,56,36],[63,29,56,39,"unresolvedOrigin"],[63,45,56,55],[63,51,56,61],[63,55,56,65],[63,59,56,69,"_b"],[63,61,56,71],[63,66,56,76],[63,71,56,81],[63,72,56,82],[63,75,56,85,"_b"],[63,77,56,87],[63,80,56,90,"parseFloat"],[63,90,56,100],[63,91,56,101,"getOrigin"],[63,100,56,110],[63,101,56,111],[63,102,56,112],[63,103,56,113],[64,12,57,20],[65,12,58,20],[65,16,58,26,"generator"],[65,25,58,35],[65,28,58,38,"getGenerator"],[65,40,58,50],[65,41,58,51,"origin"],[65,47,58,57],[65,49,58,59,"target"],[65,55,58,65],[65,57,58,67,"velocity"],[65,65,58,75],[65,67,58,77,"name"],[65,71,58,81],[65,76,58,86],[65,80,58,90],[65,84,58,94,"name"],[65,88,58,98],[65,93,58,103],[65,98,58,108],[65,99,58,109],[65,102,58,112],[65,107,58,117],[65,108,58,118],[65,111,58,121,"name"],[65,115,58,125],[65,116,58,126,"includes"],[65,124,58,134],[65,125,58,135],[65,132,58,142],[65,133,58,143],[65,134,58,144],[66,12,59,20],[66,16,59,26,"keyframesMetadata"],[66,33,59,43],[66,36,59,46,"getKeyframes"],[66,48,59,58],[66,49,59,59,"generator"],[66,58,59,68],[66,59,59,69],[67,12,60,20,"settings"],[67,20,60,28],[67,23,60,31,"Object"],[67,29,60,37],[67,30,60,38,"assign"],[67,36,60,44],[67,37,60,45,"Object"],[67,43,60,51],[67,44,60,52,"assign"],[67,50,60,58],[67,51,60,59],[67,52,60,60],[67,53,60,61],[67,55,60,63,"keyframesMetadata"],[67,72,60,80],[67,73,60,81],[67,75,60,83],[68,14,60,85,"easing"],[68,20,60,91],[68,22,60,93],[69,12,60,102],[69,13,60,103],[69,14,60,104],[70,12,61,20],[71,12,62,20],[71,16,62,24,"motionValue"],[71,27,62,35],[71,29,62,37],[72,14,63,24,"motionValue"],[72,25,63,35],[72,26,63,36,"generator"],[72,35,63,45],[72,38,63,48,"generator"],[72,47,63,57],[73,14,64,24,"motionValue"],[73,25,64,35],[73,26,64,36,"generatorStartTime"],[73,44,64,54],[73,47,64,57,"performance"],[73,58,64,68],[73,59,64,69,"now"],[73,62,64,72],[73,63,64,73],[73,64,64,74],[74,12,65,20],[75,10,66,16],[75,11,66,17],[75,17,67,21],[76,12,68,20],[76,16,68,26,"keyframesMetadata"],[76,34,68,43],[76,37,68,46,"getKeyframes"],[76,49,68,58],[76,50,68,59,"getGenerator"],[76,62,68,71],[76,63,68,72],[76,64,68,73],[76,66,68,75],[76,69,68,78],[76,70,68,79],[76,71,68,80],[77,12,69,20,"settings"],[77,20,69,28],[77,23,69,31],[78,14,70,24,"easing"],[78,20,70,30],[78,22,70,32],[78,28,70,38],[79,14,71,24,"duration"],[79,22,71,32],[79,24,71,34,"keyframesMetadata"],[79,42,71,51],[79,43,71,52,"overshootDuration"],[80,12,72,20],[80,13,72,21],[81,10,73,16],[82,10,74,16],[82,17,74,23,"settings"],[82,25,74,31],[83,8,75,12],[84,6,76,8],[84,7,76,9],[85,4,77,4],[85,5,77,5],[86,2,78,0],[87,2,79,0],[87,6,79,6,"isNumberOrNull"],[87,20,79,20],[87,23,79,24,"value"],[87,28,79,29],[87,32,79,34],[87,39,79,41,"value"],[87,44,79,46],[87,49,79,51],[87,57,79,59],[88,2,81,0,"exports"],[88,9,81,7],[88,10,81,8,"createGeneratorEasing"],[88,31,81,29],[88,34,81,32,"createGeneratorEasing"],[88,55,81,53],[89,0,81,54],[89,3]],"functionMap":{"names":["<global>","createGeneratorEasing","<anonymous>","getGenerator","getKeyframes","createAnimation","generators.calcGeneratorVelocity$argument_0","isNumberOrNull"],"mappings":"AAA;ACM;WCE;6BCE;SDQ;6BEC;SFK;6BGE;wECyB,+BD;aHuB;KDE;CDC;uBOC,oCP"},"hasCjsExports":true},"type":"js/module"}]}