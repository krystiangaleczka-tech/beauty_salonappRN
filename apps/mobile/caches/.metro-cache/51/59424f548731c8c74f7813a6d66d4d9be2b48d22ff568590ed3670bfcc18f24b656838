{"dependencies":[{"name":"@motionone/utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":62,"index":62}}],"key":"+655Tbr0Dg/RFFwL7HMoKgGI11s=","exportNames":["*"],"imports":1}},{"name":"./inset.es.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":63},"end":{"line":2,"column":42,"index":105}}],"key":"Pum04o4+xQudHrOT5UFtj5iQTdU=","exportNames":["*"],"imports":1}},{"name":"./presets.es.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":47,"index":153}}],"key":"BTrfDPOZFRuZG+aE5woio7l7x5I=","exportNames":["*"],"imports":1}},{"name":"./offset.es.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":154},"end":{"line":4,"column":47,"index":201}}],"key":"EZ8Ky1VXTva27kpmCe2wu7KZGVQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"resolveOffsets\", {\n    enumerable: true,\n    get: function () {\n      return resolveOffsets;\n    }\n  });\n  var _motiononeUtils = require(_dependencyMap[0], \"@motionone/utils\");\n  var _insetEsJs = require(_dependencyMap[1], \"./inset.es.js\");\n  var _presetsEsJs = require(_dependencyMap[2], \"./presets.es.js\");\n  var _offsetEsJs = require(_dependencyMap[3], \"./offset.es.js\");\n  const point = {\n    x: 0,\n    y: 0\n  };\n  function resolveOffsets(container, info, options) {\n    let {\n      offset: offsetDefinition = _presetsEsJs.ScrollOffset.All\n    } = options;\n    const {\n      target = container,\n      axis = \"y\"\n    } = options;\n    const lengthLabel = axis === \"y\" ? \"height\" : \"width\";\n    const inset = target !== container ? (0, _insetEsJs.calcInset)(target, container) : point;\n    /**\n     * Measure the target and container. If they're the same thing then we\n     * use the container's scrollWidth/Height as the target, from there\n     * all other calculations can remain the same.\n     */\n    const targetSize = target === container ? {\n      width: container.scrollWidth,\n      height: container.scrollHeight\n    } : {\n      width: target.clientWidth,\n      height: target.clientHeight\n    };\n    const containerSize = {\n      width: container.clientWidth,\n      height: container.clientHeight\n    };\n    /**\n     * Reset the length of the resolved offset array rather than creating a new one.\n     * TODO: More reusable data structures for targetSize/containerSize would also be good.\n     */\n    info[axis].offset.length = 0;\n    /**\n     * Populate the offset array by resolving the user's offset definition into\n     * a list of pixel scroll offets.\n     */\n    let hasChanged = !info[axis].interpolate;\n    const numOffsets = offsetDefinition.length;\n    for (let i = 0; i < numOffsets; i++) {\n      const offset = (0, _offsetEsJs.resolveOffset)(offsetDefinition[i], containerSize[lengthLabel], targetSize[lengthLabel], inset[axis]);\n      if (!hasChanged && offset !== info[axis].interpolatorOffsets[i]) {\n        hasChanged = true;\n      }\n      info[axis].offset[i] = offset;\n    }\n    /**\n     * If the pixel scroll offsets have changed, create a new interpolator function\n     * to map scroll value into a progress.\n     */\n    if (hasChanged) {\n      info[axis].interpolate = (0, _motiononeUtils.interpolate)((0, _motiononeUtils.defaultOffset)(numOffsets), info[axis].offset);\n      info[axis].interpolatorOffsets = [...info[axis].offset];\n    }\n    info[axis].progress = info[axis].interpolate(info[axis].current);\n  }\n});","lineCount":75,"map":[[7,2,53,0,"Object"],[7,8,53,0],[7,9,53,0,"defineProperty"],[7,23,53,0],[7,24,53,0,"exports"],[7,31,53,0],[8,4,53,0,"enumerable"],[8,14,53,0],[9,4,53,0,"get"],[9,7,53,0],[9,18,53,0,"get"],[9,19,53,0],[10,6,53,0],[10,13,53,9,"resolveOffsets"],[10,27,53,23],[11,4,53,23],[12,2,53,23],[13,2,1,0],[13,6,1,0,"_motiononeUtils"],[13,21,1,0],[13,24,1,0,"require"],[13,31,1,0],[13,32,1,0,"_dependencyMap"],[13,46,1,0],[14,2,2,0],[14,6,2,0,"_insetEsJs"],[14,16,2,0],[14,19,2,0,"require"],[14,26,2,0],[14,27,2,0,"_dependencyMap"],[14,41,2,0],[15,2,3,0],[15,6,3,0,"_presetsEsJs"],[15,18,3,0],[15,21,3,0,"require"],[15,28,3,0],[15,29,3,0,"_dependencyMap"],[15,43,3,0],[16,2,4,0],[16,6,4,0,"_offsetEsJs"],[16,17,4,0],[16,20,4,0,"require"],[16,27,4,0],[16,28,4,0,"_dependencyMap"],[16,42,4,0],[17,2,6,0],[17,8,6,6,"point"],[17,13,6,11],[17,16,6,14],[18,4,6,16,"x"],[18,5,6,17],[18,7,6,19],[18,8,6,20],[19,4,6,22,"y"],[19,5,6,23],[19,7,6,25],[20,2,6,27],[20,3,6,28],[21,2,7,0],[21,11,7,9,"resolveOffsets"],[21,25,7,23,"resolveOffsets"],[21,26,7,24,"container"],[21,35,7,33],[21,37,7,35,"info"],[21,41,7,39],[21,43,7,41,"options"],[21,50,7,48],[21,52,7,50],[22,4,8,4],[22,8,8,8],[23,6,8,10,"offset"],[23,12,8,16],[23,14,8,18,"offsetDefinition"],[23,30,8,34],[23,33,8,37,"ScrollOffset"],[23,45,8,49],[23,46,8,49,"ScrollOffset"],[23,58,8,49],[23,59,8,50,"All"],[24,4,8,54],[24,5,8,55],[24,8,8,58,"options"],[24,15,8,65],[25,4,9,4],[25,10,9,10],[26,6,9,12,"target"],[26,12,9,18],[26,15,9,21,"container"],[26,24,9,30],[27,6,9,32,"axis"],[27,10,9,36],[27,13,9,39],[28,4,9,43],[28,5,9,44],[28,8,9,47,"options"],[28,15,9,54],[29,4,10,4],[29,10,10,10,"lengthLabel"],[29,21,10,21],[29,24,10,24,"axis"],[29,28,10,28],[29,33,10,33],[29,36,10,36],[29,39,10,39],[29,47,10,47],[29,50,10,50],[29,57,10,57],[30,4,11,4],[30,10,11,10,"inset"],[30,15,11,15],[30,18,11,18,"target"],[30,24,11,24],[30,29,11,29,"container"],[30,38,11,38],[30,41,11,41],[30,45,11,41,"calcInset"],[30,55,11,50],[30,56,11,50,"calcInset"],[30,65,11,50],[30,67,11,51,"target"],[30,73,11,57],[30,75,11,59,"container"],[30,84,11,68],[30,85,11,69],[30,88,11,72,"point"],[30,93,11,77],[31,4,12,4],[32,0,13,0],[33,0,14,0],[34,0,15,0],[35,0,16,0],[36,4,17,4],[36,10,17,10,"targetSize"],[36,20,17,20],[36,23,17,23,"target"],[36,29,17,29],[36,34,17,34,"container"],[36,43,17,43],[36,46,18,10],[37,6,18,12,"width"],[37,11,18,17],[37,13,18,19,"container"],[37,22,18,28],[37,23,18,29,"scrollWidth"],[37,34,18,40],[38,6,18,42,"height"],[38,12,18,48],[38,14,18,50,"container"],[38,23,18,59],[38,24,18,60,"scrollHeight"],[39,4,18,73],[39,5,18,74],[39,8,19,10],[40,6,19,12,"width"],[40,11,19,17],[40,13,19,19,"target"],[40,19,19,25],[40,20,19,26,"clientWidth"],[40,31,19,37],[41,6,19,39,"height"],[41,12,19,45],[41,14,19,47,"target"],[41,20,19,53],[41,21,19,54,"clientHeight"],[42,4,19,67],[42,5,19,68],[43,4,20,4],[43,10,20,10,"containerSize"],[43,23,20,23],[43,26,20,26],[44,6,21,8,"width"],[44,11,21,13],[44,13,21,15,"container"],[44,22,21,24],[44,23,21,25,"clientWidth"],[44,34,21,36],[45,6,22,8,"height"],[45,12,22,14],[45,14,22,16,"container"],[45,23,22,25],[45,24,22,26,"clientHeight"],[46,4,23,4],[46,5,23,5],[47,4,24,4],[48,0,25,0],[49,0,26,0],[50,0,27,0],[51,4,28,4,"info"],[51,8,28,8],[51,9,28,9,"axis"],[51,13,28,13],[51,14,28,14],[51,15,28,15,"offset"],[51,21,28,21],[51,22,28,22,"length"],[51,28,28,28],[51,31,28,31],[51,32,28,32],[52,4,29,4],[53,0,30,0],[54,0,31,0],[55,0,32,0],[56,4,33,4],[56,8,33,8,"hasChanged"],[56,18,33,18],[56,21,33,21],[56,22,33,22,"info"],[56,26,33,26],[56,27,33,27,"axis"],[56,31,33,31],[56,32,33,32],[56,33,33,33,"interpolate"],[56,44,33,44],[57,4,34,4],[57,10,34,10,"numOffsets"],[57,20,34,20],[57,23,34,23,"offsetDefinition"],[57,39,34,39],[57,40,34,40,"length"],[57,46,34,46],[58,4,35,4],[58,9,35,9],[58,13,35,13,"i"],[58,14,35,14],[58,17,35,17],[58,18,35,18],[58,20,35,20,"i"],[58,21,35,21],[58,24,35,24,"numOffsets"],[58,34,35,34],[58,36,35,36,"i"],[58,37,35,37],[58,39,35,39],[58,41,35,41],[59,6,36,8],[59,12,36,14,"offset"],[59,18,36,20],[59,21,36,23],[59,25,36,23,"resolveOffset"],[59,36,36,36],[59,37,36,36,"resolveOffset"],[59,50,36,36],[59,52,36,37,"offsetDefinition"],[59,68,36,53],[59,69,36,54,"i"],[59,70,36,55],[59,71,36,56],[59,73,36,58,"containerSize"],[59,86,36,71],[59,87,36,72,"lengthLabel"],[59,98,36,83],[59,99,36,84],[59,101,36,86,"targetSize"],[59,111,36,96],[59,112,36,97,"lengthLabel"],[59,123,36,108],[59,124,36,109],[59,126,36,111,"inset"],[59,131,36,116],[59,132,36,117,"axis"],[59,136,36,121],[59,137,36,122],[59,138,36,123],[60,6,37,8],[60,10,37,12],[60,11,37,13,"hasChanged"],[60,21,37,23],[60,25,37,27,"offset"],[60,31,37,33],[60,36,37,38,"info"],[60,40,37,42],[60,41,37,43,"axis"],[60,45,37,47],[60,46,37,48],[60,47,37,49,"interpolatorOffsets"],[60,66,37,68],[60,67,37,69,"i"],[60,68,37,70],[60,69,37,71],[60,71,37,73],[61,8,38,12,"hasChanged"],[61,18,38,22],[61,21,38,25],[61,25,38,29],[62,6,39,8],[63,6,40,8,"info"],[63,10,40,12],[63,11,40,13,"axis"],[63,15,40,17],[63,16,40,18],[63,17,40,19,"offset"],[63,23,40,25],[63,24,40,26,"i"],[63,25,40,27],[63,26,40,28],[63,29,40,31,"offset"],[63,35,40,37],[64,4,41,4],[65,4,42,4],[66,0,43,0],[67,0,44,0],[68,0,45,0],[69,4,46,4],[69,8,46,8,"hasChanged"],[69,18,46,18],[69,20,46,20],[70,6,47,8,"info"],[70,10,47,12],[70,11,47,13,"axis"],[70,15,47,17],[70,16,47,18],[70,17,47,19,"interpolate"],[70,28,47,30],[70,31,47,33],[70,35,47,33,"interpolate"],[70,50,47,44],[70,51,47,44,"interpolate"],[70,62,47,44],[70,64,47,45],[70,68,47,45,"defaultOffset"],[70,83,47,58],[70,84,47,58,"defaultOffset"],[70,97,47,58],[70,99,47,59,"numOffsets"],[70,109,47,69],[70,110,47,70],[70,112,47,72,"info"],[70,116,47,76],[70,117,47,77,"axis"],[70,121,47,81],[70,122,47,82],[70,123,47,83,"offset"],[70,129,47,89],[70,130,47,90],[71,6,48,8,"info"],[71,10,48,12],[71,11,48,13,"axis"],[71,15,48,17],[71,16,48,18],[71,17,48,19,"interpolatorOffsets"],[71,36,48,38],[71,39,48,41],[71,40,48,42],[71,43,48,45,"info"],[71,47,48,49],[71,48,48,50,"axis"],[71,52,48,54],[71,53,48,55],[71,54,48,56,"offset"],[71,60,48,62],[71,61,48,63],[72,4,49,4],[73,4,50,4,"info"],[73,8,50,8],[73,9,50,9,"axis"],[73,13,50,13],[73,14,50,14],[73,15,50,15,"progress"],[73,23,50,23],[73,26,50,26,"info"],[73,30,50,30],[73,31,50,31,"axis"],[73,35,50,35],[73,36,50,36],[73,37,50,37,"interpolate"],[73,48,50,48],[73,49,50,49,"info"],[73,53,50,53],[73,54,50,54,"axis"],[73,58,50,58],[73,59,50,59],[73,60,50,60,"current"],[73,67,50,67],[73,68,50,68],[74,2,51,0],[75,0,51,1],[75,3]],"functionMap":{"names":["<global>","resolveOffsets"],"mappings":"AAA;ACM;CD4C"},"hasCjsExports":false},"type":"js/module"}]}