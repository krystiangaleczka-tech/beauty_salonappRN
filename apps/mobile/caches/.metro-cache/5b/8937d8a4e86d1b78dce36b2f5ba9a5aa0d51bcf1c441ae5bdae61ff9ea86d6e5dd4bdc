{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":52,"index":86}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"popmotion","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":87},"end":{"line":3,"column":36,"index":123}}],"key":"9R4e9vFYMhq+Tk7xvkZO6aYjkW8=","exportNames":["*"],"imports":1}},{"name":"./utils/is-motion-value.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":124},"end":{"line":4,"column":60,"index":184}}],"key":"iqpkfQl/gwAwJG5ZPn2Uherr4oI=","exportNames":["*"],"imports":1}},{"name":"./use-motion-value.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":185},"end":{"line":5,"column":56,"index":241}}],"key":"r3TCCJQhNId62V1YZiSwQIe2USc=","exportNames":["*"],"imports":1}},{"name":"./use-on-change.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":242},"end":{"line":6,"column":50,"index":292}}],"key":"fZvBeJO9fYpVuxb/4ypSg2dQ03M=","exportNames":["*"],"imports":1}},{"name":"../context/MotionConfigContext.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":293},"end":{"line":7,"column":73,"index":366}}],"key":"8LysbO6H7it/2V0LigVMh6+3/pc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useSpring\", {\n    enumerable: true,\n    get: function () {\n      return useSpring;\n    }\n  });\n  var _tslib = require(_dependencyMap[0], \"tslib\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _popmotion = require(_dependencyMap[2], \"popmotion\");\n  var _utilsIsMotionValueMjs = require(_dependencyMap[3], \"./utils/is-motion-value.mjs\");\n  var _useMotionValueMjs = require(_dependencyMap[4], \"./use-motion-value.mjs\");\n  var _useOnChangeMjs = require(_dependencyMap[5], \"./use-on-change.mjs\");\n  var _contextMotionConfigContextMjs = require(_dependencyMap[6], \"../context/MotionConfigContext.mjs\");\n  /**\n   * Creates a `MotionValue` that, when `set`, will use a spring animation to animate to its new state.\n   *\n   * It can either work as a stand-alone `MotionValue` by initialising it with a value, or as a subscriber\n   * to another `MotionValue`.\n   *\n   * @remarks\n   *\n   * ```jsx\n   * const x = useSpring(0, { stiffness: 300 })\n   * const y = useSpring(x, { damping: 10 })\n   * ```\n   *\n   * @param inputValue - `MotionValue` or number. If provided a `MotionValue`, when the input `MotionValue` changes, the created `MotionValue` will spring towards that value.\n   * @param springConfig - Configuration options for the spring.\n   * @returns `MotionValue`\n   *\n   * @public\n   */\n  function useSpring(source, config) {\n    if (config === void 0) {\n      config = {};\n    }\n    var isStatic = (0, _react.useContext)(_contextMotionConfigContextMjs.MotionConfigContext).isStatic;\n    var activeSpringAnimation = (0, _react.useRef)(null);\n    var value = (0, _useMotionValueMjs.useMotionValue)((0, _utilsIsMotionValueMjs.isMotionValue)(source) ? source.get() : source);\n    (0, _react.useMemo)(function () {\n      return value.attach(function (v, set) {\n        /**\n         * A more hollistic approach to this might be to use isStatic to fix VisualElement animations\n         * at that level, but this will work for now\n         */\n        if (isStatic) return set(v);\n        if (activeSpringAnimation.current) {\n          activeSpringAnimation.current.stop();\n        }\n        activeSpringAnimation.current = (0, _popmotion.animate)((0, _tslib.__assign)((0, _tslib.__assign)({\n          from: value.get(),\n          to: v,\n          velocity: value.getVelocity()\n        }, config), {\n          onUpdate: set\n        }));\n        return value.get();\n      });\n    }, [JSON.stringify(config)]);\n    (0, _useOnChangeMjs.useOnChange)(source, function (v) {\n      return value.set(parseFloat(v));\n    });\n    return value;\n  }\n});","lineCount":71,"map":[[7,2,52,0,"Object"],[7,8,52,0],[7,9,52,0,"defineProperty"],[7,23,52,0],[7,24,52,0,"exports"],[7,31,52,0],[8,4,52,0,"enumerable"],[8,14,52,0],[9,4,52,0,"get"],[9,7,52,0],[9,18,52,0,"get"],[9,19,52,0],[10,6,52,0],[10,13,52,9,"useSpring"],[10,22,52,18],[11,4,52,18],[12,2,52,18],[13,2,1,0],[13,6,1,0,"_tslib"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_react"],[14,12,2,0],[14,15,2,0,"require"],[14,22,2,0],[14,23,2,0,"_dependencyMap"],[14,37,2,0],[15,2,3,0],[15,6,3,0,"_popmotion"],[15,16,3,0],[15,19,3,0,"require"],[15,26,3,0],[15,27,3,0,"_dependencyMap"],[15,41,3,0],[16,2,4,0],[16,6,4,0,"_utilsIsMotionValueMjs"],[16,28,4,0],[16,31,4,0,"require"],[16,38,4,0],[16,39,4,0,"_dependencyMap"],[16,53,4,0],[17,2,5,0],[17,6,5,0,"_useMotionValueMjs"],[17,24,5,0],[17,27,5,0,"require"],[17,34,5,0],[17,35,5,0,"_dependencyMap"],[17,49,5,0],[18,2,6,0],[18,6,6,0,"_useOnChangeMjs"],[18,21,6,0],[18,24,6,0,"require"],[18,31,6,0],[18,32,6,0,"_dependencyMap"],[18,46,6,0],[19,2,7,0],[19,6,7,0,"_contextMotionConfigContextMjs"],[19,36,7,0],[19,39,7,0,"require"],[19,46,7,0],[19,47,7,0,"_dependencyMap"],[19,61,7,0],[20,2,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,0,19,0],[31,0,20,0],[32,0,21,0],[33,0,22,0],[34,0,23,0],[35,0,24,0],[36,0,25,0],[37,0,26,0],[38,0,27,0],[39,2,28,0],[39,11,28,9,"useSpring"],[39,20,28,18,"useSpring"],[39,21,28,19,"source"],[39,27,28,25],[39,29,28,27,"config"],[39,35,28,33],[39,37,28,35],[40,4,29,4],[40,8,29,8,"config"],[40,14,29,14],[40,19,29,19],[40,24,29,24],[40,25,29,25],[40,27,29,27],[41,6,29,29,"config"],[41,12,29,35],[41,15,29,38],[41,16,29,39],[41,17,29,40],[42,4,29,42],[43,4,30,4],[43,8,30,8,"isStatic"],[43,16,30,16],[43,19,30,19],[43,23,30,19,"useContext"],[43,29,30,29],[43,30,30,29,"useContext"],[43,40,30,29],[43,42,30,30,"MotionConfigContext"],[43,72,30,49],[43,73,30,49,"MotionConfigContext"],[43,92,30,49],[43,93,30,50],[43,94,30,51,"isStatic"],[43,102,30,59],[44,4,31,4],[44,8,31,8,"activeSpringAnimation"],[44,29,31,29],[44,32,31,32],[44,36,31,32,"useRef"],[44,42,31,38],[44,43,31,38,"useRef"],[44,49,31,38],[44,51,31,39],[44,55,31,43],[44,56,31,44],[45,4,32,4],[45,8,32,8,"value"],[45,13,32,13],[45,16,32,16],[45,20,32,16,"useMotionValue"],[45,38,32,30],[45,39,32,30,"useMotionValue"],[45,53,32,30],[45,55,32,31],[45,59,32,31,"isMotionValue"],[45,81,32,44],[45,82,32,44,"isMotionValue"],[45,95,32,44],[45,97,32,45,"source"],[45,103,32,51],[45,104,32,52],[45,107,32,55,"source"],[45,113,32,61],[45,114,32,62,"get"],[45,117,32,65],[45,118,32,66],[45,119,32,67],[45,122,32,70,"source"],[45,128,32,76],[45,129,32,77],[46,4,33,4],[46,8,33,4,"useMemo"],[46,14,33,11],[46,15,33,11,"useMemo"],[46,22,33,11],[46,24,33,12],[46,36,33,24],[47,6,34,8],[47,13,34,15,"value"],[47,18,34,20],[47,19,34,21,"attach"],[47,25,34,27],[47,26,34,28],[47,36,34,38,"v"],[47,37,34,39],[47,39,34,41,"set"],[47,42,34,44],[47,44,34,46],[48,8,35,12],[49,0,36,0],[50,0,37,0],[51,0,38,0],[52,8,39,12],[52,12,39,16,"isStatic"],[52,20,39,24],[52,22,40,16],[52,29,40,23,"set"],[52,32,40,26],[52,33,40,27,"v"],[52,34,40,28],[52,35,40,29],[53,8,41,12],[53,12,41,16,"activeSpringAnimation"],[53,33,41,37],[53,34,41,38,"current"],[53,41,41,45],[53,43,41,47],[54,10,42,16,"activeSpringAnimation"],[54,31,42,37],[54,32,42,38,"current"],[54,39,42,45],[54,40,42,46,"stop"],[54,44,42,50],[54,45,42,51],[54,46,42,52],[55,8,43,12],[56,8,44,12,"activeSpringAnimation"],[56,29,44,33],[56,30,44,34,"current"],[56,37,44,41],[56,40,44,44],[56,44,44,44,"animate"],[56,54,44,51],[56,55,44,51,"animate"],[56,62,44,51],[56,64,44,52],[56,68,44,52,"__assign"],[56,74,44,60],[56,75,44,60,"__assign"],[56,83,44,60],[56,85,44,61],[56,89,44,61,"__assign"],[56,95,44,69],[56,96,44,69,"__assign"],[56,104,44,69],[56,106,44,70],[57,10,44,72,"from"],[57,14,44,76],[57,16,44,78,"value"],[57,21,44,83],[57,22,44,84,"get"],[57,25,44,87],[57,26,44,88],[57,27,44,89],[58,10,44,91,"to"],[58,12,44,93],[58,14,44,95,"v"],[58,15,44,96],[59,10,44,98,"velocity"],[59,18,44,106],[59,20,44,108,"value"],[59,25,44,113],[59,26,44,114,"getVelocity"],[59,37,44,125],[59,38,44,126],[60,8,44,128],[60,9,44,129],[60,11,44,131,"config"],[60,17,44,137],[60,18,44,138],[60,20,44,140],[61,10,44,142,"onUpdate"],[61,18,44,150],[61,20,44,152,"set"],[62,8,44,156],[62,9,44,157],[62,10,44,158],[62,11,44,159],[63,8,45,12],[63,15,45,19,"value"],[63,20,45,24],[63,21,45,25,"get"],[63,24,45,28],[63,25,45,29],[63,26,45,30],[64,6,46,8],[64,7,46,9],[64,8,46,10],[65,4,47,4],[65,5,47,5],[65,7,47,7],[65,8,47,8,"JSON"],[65,12,47,12],[65,13,47,13,"stringify"],[65,22,47,22],[65,23,47,23,"config"],[65,29,47,29],[65,30,47,30],[65,31,47,31],[65,32,47,32],[66,4,48,4],[66,8,48,4,"useOnChange"],[66,23,48,15],[66,24,48,15,"useOnChange"],[66,35,48,15],[66,37,48,16,"source"],[66,43,48,22],[66,45,48,24],[66,55,48,34,"v"],[66,56,48,35],[66,58,48,37],[67,6,48,39],[67,13,48,46,"value"],[67,18,48,51],[67,19,48,52,"set"],[67,22,48,55],[67,23,48,56,"parseFloat"],[67,33,48,66],[67,34,48,67,"v"],[67,35,48,68],[67,36,48,69],[67,37,48,70],[68,4,48,72],[68,5,48,73],[68,6,48,74],[69,4,49,4],[69,11,49,11,"value"],[69,16,49,16],[70,2,50,0],[71,0,50,1],[71,3]],"functionMap":{"names":["<global>","useSpring","useMemo$argument_0","value.attach$argument_0","useOnChange$argument_1"],"mappings":"AAA;AC2B;YCK;4BCC;SDY;KDC;wBGC,iDH;CDE"},"hasCjsExports":false},"type":"js/module"}]}