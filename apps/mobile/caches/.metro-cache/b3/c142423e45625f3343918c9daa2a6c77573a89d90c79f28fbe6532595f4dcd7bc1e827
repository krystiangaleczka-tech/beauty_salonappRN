{"dependencies":[{"name":"@motionone/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":12,"index":91},"end":{"line":5,"column":39,"index":118}}],"key":"FS/MZgsOo2zLy6PbOiduH8x3eaQ=","exportNames":["*"],"imports":1}},{"name":"./stop-animation.cjs.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":20,"index":140},"end":{"line":6,"column":54,"index":174}}],"key":"nB49YAeKTGenXtnQu751WGZdrh0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var utils = require(_dependencyMap[0], \"@motionone/utils\");\n  var stopAnimation = require(_dependencyMap[1], \"./stop-animation.cjs.js\");\n  var createAnimation = factory => factory();\n  var withControls = function (animationFactory, options) {\n    var duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : utils.defaults.duration;\n    return new Proxy({\n      animations: animationFactory.map(createAnimation).filter(Boolean),\n      duration,\n      options\n    }, controls);\n  };\n  /**\n   * TODO:\n   * Currently this returns the first animation, ideally it would return\n   * the first active animation.\n   */\n  var getActiveAnimation = state => state.animations[0];\n  var controls = {\n    get: (target, key) => {\n      var activeAnimation = getActiveAnimation(target);\n      switch (key) {\n        case \"duration\":\n          return target.duration;\n        case \"currentTime\":\n          return utils.time.s((activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) || 0);\n        case \"playbackRate\":\n        case \"playState\":\n          return activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key];\n        case \"finished\":\n          if (!target.finished) {\n            target.finished = Promise.all(target.animations.map(selectFinished)).catch(utils.noop);\n          }\n          return target.finished;\n        case \"stop\":\n          return () => {\n            target.animations.forEach(animation => stopAnimation.stopAnimation(animation));\n          };\n        case \"forEachNative\":\n          /**\n           * This is for internal use only, fire a callback for each\n           * underlying animation.\n           */\n          return callback => {\n            target.animations.forEach(animation => callback(animation, target));\n          };\n        default:\n          return typeof (activeAnimation === null || activeAnimation === void 0 ? void 0 : activeAnimation[key]) === \"undefined\" ? undefined : () => target.animations.forEach(animation => animation[key]());\n      }\n    },\n    set: (target, key, value) => {\n      switch (key) {\n        case \"currentTime\":\n          value = utils.time.ms(value);\n        case \"currentTime\":\n        case \"playbackRate\":\n          for (var i = 0; i < target.animations.length; i++) {\n            target.animations[i][key] = value;\n          }\n          return true;\n      }\n      return false;\n    }\n  };\n  var selectFinished = animation => animation.finished;\n  exports.controls = controls;\n  exports.withControls = withControls;\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,3,47,"value"],[5,9,3,52],[5,11,3,54],[6,2,3,59],[6,3,3,60],[6,4,3,61],[7,2,5,0],[7,6,5,4,"utils"],[7,11,5,9],[7,14,5,12,"require"],[7,21,5,19],[7,22,5,19,"_dependencyMap"],[7,36,5,19],[7,59,5,38],[7,60,5,39],[8,2,6,0],[8,6,6,4,"stopAnimation"],[8,19,6,17],[8,22,6,20,"require"],[8,29,6,27],[8,30,6,27,"_dependencyMap"],[8,44,6,27],[8,74,6,53],[8,75,6,54],[9,2,8,0],[9,6,8,6,"createAnimation"],[9,21,8,21],[9,24,8,25,"factory"],[9,31,8,32],[9,35,8,37,"factory"],[9,42,8,44],[9,43,8,45],[9,44,8,46],[10,2,9,0],[10,6,9,6,"withControls"],[10,18,9,18],[10,21,9,21],[10,30,9,21,"withControls"],[10,31,9,22,"animationFactory"],[10,47,9,38],[10,49,9,40,"options"],[10,56,9,47],[10,58,9,88],[11,4,9,88],[11,8,9,49,"duration"],[11,16,9,57],[11,19,9,57,"arguments"],[11,28,9,57],[11,29,9,57,"length"],[11,35,9,57],[11,43,9,57,"arguments"],[11,52,9,57],[11,60,9,57,"undefined"],[11,69,9,57],[11,72,9,57,"arguments"],[11,81,9,57],[11,87,9,60,"utils"],[11,92,9,65],[11,93,9,66,"defaults"],[11,101,9,74],[11,102,9,75,"duration"],[11,110,9,83],[12,4,10,4],[12,11,10,11],[12,15,10,15,"Proxy"],[12,20,10,20],[12,21,10,21],[13,6,11,8,"animations"],[13,16,11,18],[13,18,11,20,"animationFactory"],[13,34,11,36],[13,35,11,37,"map"],[13,38,11,40],[13,39,11,41,"createAnimation"],[13,54,11,56],[13,55,11,57],[13,56,11,58,"filter"],[13,62,11,64],[13,63,11,65,"Boolean"],[13,70,11,72],[13,71,11,73],[14,6,12,8,"duration"],[14,14,12,16],[15,6,13,8,"options"],[16,4,14,4],[16,5,14,5],[16,7,14,7,"controls"],[16,15,14,15],[16,16,14,16],[17,2,15,0],[17,3,15,1],[18,2,16,0],[19,0,17,0],[20,0,18,0],[21,0,19,0],[22,0,20,0],[23,2,21,0],[23,6,21,6,"getActiveAnimation"],[23,24,21,24],[23,27,21,28,"state"],[23,32,21,33],[23,36,21,38,"state"],[23,41,21,43],[23,42,21,44,"animations"],[23,52,21,54],[23,53,21,55],[23,54,21,56],[23,55,21,57],[24,2,22,0],[24,6,22,6,"controls"],[24,14,22,14],[24,17,22,17],[25,4,23,4,"get"],[25,7,23,7],[25,9,23,9,"get"],[25,10,23,10,"target"],[25,16,23,16],[25,18,23,18,"key"],[25,21,23,21],[25,26,23,26],[26,6,24,8],[26,10,24,14,"activeAnimation"],[26,25,24,29],[26,28,24,32,"getActiveAnimation"],[26,46,24,50],[26,47,24,51,"target"],[26,53,24,57],[26,54,24,58],[27,6,25,8],[27,14,25,16,"key"],[27,17,25,19],[28,8,26,12],[28,13,26,17],[28,23,26,27],[29,10,27,16],[29,17,27,23,"target"],[29,23,27,29],[29,24,27,30,"duration"],[29,32,27,38],[30,8,28,12],[30,13,28,17],[30,26,28,30],[31,10,29,16],[31,17,29,23,"utils"],[31,22,29,28],[31,23,29,29,"time"],[31,27,29,33],[31,28,29,34,"s"],[31,29,29,35],[31,30,29,36],[31,31,29,37,"activeAnimation"],[31,46,29,52],[31,51,29,57],[31,55,29,61],[31,59,29,65,"activeAnimation"],[31,74,29,80],[31,79,29,85],[31,84,29,90],[31,85,29,91],[31,88,29,94],[31,93,29,99],[31,94,29,100],[31,97,29,103,"activeAnimation"],[31,112,29,118],[31,113,29,119,"key"],[31,116,29,122],[31,117,29,123],[31,122,29,128],[31,123,29,129],[31,124,29,130],[32,8,30,12],[32,13,30,17],[32,27,30,31],[33,8,31,12],[33,13,31,17],[33,24,31,28],[34,10,32,16],[34,17,32,23,"activeAnimation"],[34,32,32,38],[34,37,32,43],[34,41,32,47],[34,45,32,51,"activeAnimation"],[34,60,32,66],[34,65,32,71],[34,70,32,76],[34,71,32,77],[34,74,32,80],[34,79,32,85],[34,80,32,86],[34,83,32,89,"activeAnimation"],[34,98,32,104],[34,99,32,105,"key"],[34,102,32,108],[34,103,32,109],[35,8,33,12],[35,13,33,17],[35,23,33,27],[36,10,34,16],[36,14,34,20],[36,15,34,21,"target"],[36,21,34,27],[36,22,34,28,"finished"],[36,30,34,36],[36,32,34,38],[37,12,35,20,"target"],[37,18,35,26],[37,19,35,27,"finished"],[37,27,35,35],[37,30,35,38,"Promise"],[37,37,35,45],[37,38,35,46,"all"],[37,41,35,49],[37,42,35,50,"target"],[37,48,35,56],[37,49,35,57,"animations"],[37,59,35,67],[37,60,35,68,"map"],[37,63,35,71],[37,64,35,72,"selectFinished"],[37,78,35,86],[37,79,35,87],[37,80,35,88],[37,81,35,89,"catch"],[37,86,35,94],[37,87,35,95,"utils"],[37,92,35,100],[37,93,35,101,"noop"],[37,97,35,105],[37,98,35,106],[38,10,36,16],[39,10,37,16],[39,17,37,23,"target"],[39,23,37,29],[39,24,37,30,"finished"],[39,32,37,38],[40,8,38,12],[40,13,38,17],[40,19,38,23],[41,10,39,16],[41,17,39,23],[41,23,39,29],[42,12,40,20,"target"],[42,18,40,26],[42,19,40,27,"animations"],[42,29,40,37],[42,30,40,38,"forEach"],[42,37,40,45],[42,38,40,47,"animation"],[42,47,40,56],[42,51,40,61,"stopAnimation"],[42,64,40,74],[42,65,40,75,"stopAnimation"],[42,78,40,88],[42,79,40,89,"animation"],[42,88,40,98],[42,89,40,99],[42,90,40,100],[43,10,41,16],[43,11,41,17],[44,8,42,12],[44,13,42,17],[44,28,42,32],[45,10,43,16],[46,0,44,0],[47,0,45,0],[48,0,46,0],[49,10,47,16],[49,17,47,24,"callback"],[49,25,47,32],[49,29,47,37],[50,12,48,20,"target"],[50,18,48,26],[50,19,48,27,"animations"],[50,29,48,37],[50,30,48,38,"forEach"],[50,37,48,45],[50,38,48,47,"animation"],[50,47,48,56],[50,51,48,61,"callback"],[50,59,48,69],[50,60,48,70,"animation"],[50,69,48,79],[50,71,48,81,"target"],[50,77,48,87],[50,78,48,88],[50,79,48,89],[51,10,49,16],[51,11,49,17],[52,8,50,12],[53,10,51,16],[53,17,51,23],[53,25,51,31,"activeAnimation"],[53,40,51,46],[53,45,51,51],[53,49,51,55],[53,53,51,59,"activeAnimation"],[53,68,51,74],[53,73,51,79],[53,78,51,84],[53,79,51,85],[53,82,51,88],[53,87,51,93],[53,88,51,94],[53,91,51,97,"activeAnimation"],[53,106,51,112],[53,107,51,113,"key"],[53,110,51,116],[53,111,51,117],[53,112,51,118],[53,117,51,123],[53,128,51,134],[53,131,52,22,"undefined"],[53,140,52,31],[53,143,53,22],[53,149,53,28,"target"],[53,155,53,34],[53,156,53,35,"animations"],[53,166,53,45],[53,167,53,46,"forEach"],[53,174,53,53],[53,175,53,55,"animation"],[53,184,53,64],[53,188,53,69,"animation"],[53,197,53,78],[53,198,53,79,"key"],[53,201,53,82],[53,202,53,83],[53,203,53,84],[53,204,53,85],[53,205,53,86],[54,6,54,8],[55,4,55,4],[55,5,55,5],[56,4,56,4,"set"],[56,7,56,7],[56,9,56,9,"set"],[56,10,56,10,"target"],[56,16,56,16],[56,18,56,18,"key"],[56,21,56,21],[56,23,56,23,"value"],[56,28,56,28],[56,33,56,33],[57,6,57,8],[57,14,57,16,"key"],[57,17,57,19],[58,8,58,12],[58,13,58,17],[58,26,58,30],[59,10,59,16,"value"],[59,15,59,21],[59,18,59,24,"utils"],[59,23,59,29],[59,24,59,30,"time"],[59,28,59,34],[59,29,59,35,"ms"],[59,31,59,37],[59,32,59,38,"value"],[59,37,59,43],[59,38,59,44],[60,8,60,12],[60,13,60,17],[60,26,60,30],[61,8,61,12],[61,13,61,17],[61,27,61,31],[62,10,62,16],[62,15,62,21],[62,19,62,25,"i"],[62,20,62,26],[62,23,62,29],[62,24,62,30],[62,26,62,32,"i"],[62,27,62,33],[62,30,62,36,"target"],[62,36,62,42],[62,37,62,43,"animations"],[62,47,62,53],[62,48,62,54,"length"],[62,54,62,60],[62,56,62,62,"i"],[62,57,62,63],[62,59,62,65],[62,61,62,67],[63,12,63,20,"target"],[63,18,63,26],[63,19,63,27,"animations"],[63,29,63,37],[63,30,63,38,"i"],[63,31,63,39],[63,32,63,40],[63,33,63,41,"key"],[63,36,63,44],[63,37,63,45],[63,40,63,48,"value"],[63,45,63,53],[64,10,64,16],[65,10,65,16],[65,17,65,23],[65,21,65,27],[66,6,66,8],[67,6,67,8],[67,13,67,15],[67,18,67,20],[68,4,68,4],[69,2,69,0],[69,3,69,1],[70,2,70,0],[70,6,70,6,"selectFinished"],[70,20,70,20],[70,23,70,24,"animation"],[70,32,70,33],[70,36,70,38,"animation"],[70,45,70,47],[70,46,70,48,"finished"],[70,54,70,56],[71,2,72,0,"exports"],[71,9,72,7],[71,10,72,8,"controls"],[71,18,72,16],[71,21,72,19,"controls"],[71,29,72,27],[72,2,73,0,"exports"],[72,9,73,7],[72,10,73,8,"withControls"],[72,22,73,20],[72,25,73,23,"withControls"],[72,37,73,35],[73,0,73,36],[73,3]],"functionMap":{"names":["<global>","createAnimation","withControls","getActiveAnimation","get","<anonymous>","target.animations.forEach$argument_0","set","selectFinished"],"mappings":"AAA;wBCO,sBD;qBEC;CFM;2BGM,8BH;SIE;uBCgB;8CCC,qDD;iBDC;uBCM;8CCC,0CD;iBDC;sBCI,gCC,+BD,CD;KJE;SOC;KPY;uBQE,iCR"},"hasCjsExports":true},"type":"js/module"}]}