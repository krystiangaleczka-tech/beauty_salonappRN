{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"]}},{"name":"./resolveAssetSource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":47},"end":{"line":3,"column":54,"index":101}}],"key":"qiXdfzfF08Pne6HL41q9H4FDwsA=","exportNames":["*"]}},{"name":"./resolveHashString","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":102},"end":{"line":4,"column":84,"index":186}}],"key":"lCGXVqBXYTWy+eggX9g5j1ljhdQ=","exportNames":["*"]}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":263},"end":{"line":6,"column":38,"index":301}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isBlurhashString = isBlurhashString;\n  exports.isThumbhashString = isThumbhashString;\n  exports.resolveSource = resolveSource;\n  exports.resolveSources = resolveSources;\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _resolveAssetSource = _interopRequireDefault(require(_dependencyMap[2], \"./resolveAssetSource\"));\n  var _resolveHashString = require(_dependencyMap[3], \"./resolveHashString\");\n  var _utils = require(_dependencyMap[4], \"../utils\");\n  function isBlurhashString(str) {\n    return /^(blurhash:\\/)+[\\w#$%*+,\\-.:;=?@[\\]^_{}|~]+(\\/[\\d.]+)*$/.test(str);\n  }\n\n  // Base64 strings will be recognized as blurhash by default (to keep compatibility),\n  // interpret as thumbhash only if correct uri scheme is provided\n  function isThumbhashString(str) {\n    return str.startsWith('thumbhash:/');\n  }\n  function resolveSource(source) {\n    if (typeof source === 'string') {\n      if (isBlurhashString(source)) {\n        return (0, _resolveHashString.resolveBlurhashString)(source);\n      } else if (isThumbhashString(source)) {\n        return (0, _resolveHashString.resolveThumbhashString)(source);\n      }\n      return {\n        uri: source\n      };\n    }\n    if (typeof source === 'number') {\n      return (0, _resolveAssetSource.default)(source);\n    }\n    if (typeof source === 'object' && (source?.blurhash || source?.thumbhash)) {\n      const {\n        blurhash,\n        thumbhash,\n        ...restSource\n      } = source;\n      const resolved = thumbhash ? (0, _resolveHashString.resolveThumbhashString)(thumbhash) : (0, _resolveHashString.resolveBlurhashString)(blurhash);\n      return {\n        ...resolved,\n        ...restSource\n      };\n    }\n    return source ?? null;\n  }\n\n  /**\n   * Resolves provided `source` prop to an array of objects expected by the native implementation.\n   */\n  function resolveSources(sources) {\n    if (Array.isArray(sources)) {\n      return sources.map(resolveSource).filter(Boolean);\n    }\n    if ((0, _utils.isImageRef)(sources)) {\n      if (_expoModulesCore.Platform.OS === 'web') {\n        return sources;\n      }\n      // @ts-expect-error\n      return sources.__expo_shared_object_id__;\n    }\n    return [resolveSource(sources)].filter(Boolean);\n  }\n});","lineCount":68,"map":[[10,2,1,0],[10,6,1,0,"_expoModulesCore"],[10,22,1,0],[10,25,1,0,"require"],[10,32,1,0],[10,33,1,0,"_dependencyMap"],[10,47,1,0],[11,2,3,0],[11,6,3,0,"_resolveAssetSource"],[11,25,3,0],[11,28,3,0,"_interopRequireDefault"],[11,50,3,0],[11,51,3,0,"require"],[11,58,3,0],[11,59,3,0,"_dependencyMap"],[11,73,3,0],[12,2,4,0],[12,6,4,0,"_resolveHashString"],[12,24,4,0],[12,27,4,0,"require"],[12,34,4,0],[12,35,4,0,"_dependencyMap"],[12,49,4,0],[13,2,6,0],[13,6,6,0,"_utils"],[13,12,6,0],[13,15,6,0,"require"],[13,22,6,0],[13,23,6,0,"_dependencyMap"],[13,37,6,0],[14,2,8,7],[14,11,8,16,"isBlurhashString"],[14,27,8,32,"isBlurhashString"],[14,28,8,33,"str"],[14,31,8,44],[14,33,8,55],[15,4,9,2],[15,11,9,9],[15,68,9,66],[15,69,9,67,"test"],[15,73,9,71],[15,74,9,72,"str"],[15,77,9,75],[15,78,9,76],[16,2,10,0],[18,2,12,0],[19,2,13,0],[20,2,14,7],[20,11,14,16,"isThumbhashString"],[20,28,14,33,"isThumbhashString"],[20,29,14,34,"str"],[20,32,14,45],[20,34,14,56],[21,4,15,2],[21,11,15,9,"str"],[21,14,15,12],[21,15,15,13,"startsWith"],[21,25,15,23],[21,26,15,24],[21,39,15,37],[21,40,15,38],[22,2,16,0],[23,2,18,7],[23,11,18,16,"resolveSource"],[23,24,18,29,"resolveSource"],[23,25,18,30,"source"],[23,31,18,75],[23,33,18,97],[24,4,19,2],[24,8,19,6],[24,15,19,13,"source"],[24,21,19,19],[24,26,19,24],[24,34,19,32],[24,36,19,34],[25,6,20,4],[25,10,20,8,"isBlurhashString"],[25,26,20,24],[25,27,20,25,"source"],[25,33,20,31],[25,34,20,32],[25,36,20,34],[26,8,21,6],[26,15,21,13],[26,19,21,13,"resolveBlurhashString"],[26,59,21,34],[26,61,21,35,"source"],[26,67,21,41],[26,68,21,42],[27,6,22,4],[27,7,22,5],[27,13,22,11],[27,17,22,15,"isThumbhashString"],[27,34,22,32],[27,35,22,33,"source"],[27,41,22,39],[27,42,22,40],[27,44,22,42],[28,8,23,6],[28,15,23,13],[28,19,23,13,"resolveThumbhashString"],[28,60,23,35],[28,62,23,36,"source"],[28,68,23,42],[28,69,23,43],[29,6,24,4],[30,6,25,4],[30,13,25,11],[31,8,25,13,"uri"],[31,11,25,16],[31,13,25,18,"source"],[32,6,25,25],[32,7,25,26],[33,4,26,2],[34,4,27,2],[34,8,27,6],[34,15,27,13,"source"],[34,21,27,19],[34,26,27,24],[34,34,27,32],[34,36,27,34],[35,6,28,4],[35,13,28,11],[35,17,28,11,"resolveAssetSource"],[35,44,28,29],[35,46,28,30,"source"],[35,52,28,36],[35,53,28,37],[36,4,29,2],[37,4,30,2],[37,8,30,6],[37,15,30,13,"source"],[37,21,30,19],[37,26,30,24],[37,34,30,32],[37,39,30,37,"source"],[37,45,30,43],[37,47,30,45,"blurhash"],[37,55,30,53],[37,59,30,57,"source"],[37,65,30,63],[37,67,30,65,"thumbhash"],[37,76,30,74],[37,77,30,75],[37,79,30,77],[38,6,31,4],[38,12,31,10],[39,8,31,12,"blurhash"],[39,16,31,20],[40,8,31,22,"thumbhash"],[40,17,31,31],[41,8,31,33],[41,11,31,36,"restSource"],[42,6,31,47],[42,7,31,48],[42,10,31,51,"source"],[42,16,31,57],[43,6,32,4],[43,12,32,10,"resolved"],[43,20,32,18],[43,23,32,21,"thumbhash"],[43,32,32,30],[43,35,33,8],[43,39,33,8,"resolveThumbhashString"],[43,80,33,30],[43,82,33,31,"thumbhash"],[43,91,33,40],[43,92,33,41],[43,95,34,8],[43,99,34,8,"resolveBlurhashString"],[43,139,34,29],[43,141,34,30,"blurhash"],[43,149,34,48],[43,150,34,49],[44,6,35,4],[44,13,35,11],[45,8,36,6],[45,11,36,9,"resolved"],[45,19,36,17],[46,8,37,6],[46,11,37,9,"restSource"],[47,6,38,4],[47,7,38,5],[48,4,39,2],[49,4,40,2],[49,11,40,9,"source"],[49,17,40,15],[49,21,40,19],[49,25,40,23],[50,2,41,0],[52,2,43,0],[53,0,44,0],[54,0,45,0],[55,2,46,7],[55,11,46,16,"resolveSources"],[55,25,46,30,"resolveSources"],[55,26,46,31,"sources"],[55,33,46,61],[55,35,46,91],[56,4,47,2],[56,8,47,6,"Array"],[56,13,47,11],[56,14,47,12,"isArray"],[56,21,47,19],[56,22,47,20,"sources"],[56,29,47,27],[56,30,47,28],[56,32,47,30],[57,6,48,4],[57,13,48,11,"sources"],[57,20,48,18],[57,21,48,19,"map"],[57,24,48,22],[57,25,48,23,"resolveSource"],[57,38,48,36],[57,39,48,37],[57,40,48,38,"filter"],[57,46,48,44],[57,47,48,45,"Boolean"],[57,54,48,52],[57,55,48,53],[58,4,49,2],[59,4,50,2],[59,8,50,6],[59,12,50,6,"isImageRef"],[59,29,50,16],[59,31,50,17,"sources"],[59,38,50,24],[59,39,50,25],[59,41,50,27],[60,6,51,4],[60,10,51,8,"Platform"],[60,35,51,16],[60,36,51,17,"OS"],[60,38,51,19],[60,43,51,24],[60,48,51,29],[60,50,51,31],[61,8,52,6],[61,15,52,13,"sources"],[61,22,52,20],[62,6,53,4],[63,6,54,4],[64,6,55,4],[64,13,55,11,"sources"],[64,20,55,18],[64,21,55,19,"__expo_shared_object_id__"],[64,46,55,44],[65,4,56,2],[66,4,57,2],[66,11,57,9],[66,12,57,10,"resolveSource"],[66,25,57,23],[66,26,57,24,"sources"],[66,33,57,31],[66,34,57,32],[66,35,57,33],[66,36,57,34,"filter"],[66,42,57,40],[66,43,57,41,"Boolean"],[66,50,57,48],[66,51,57,49],[67,2,58,0],[68,0,58,1],[68,3]],"functionMap":{"names":["<global>","isBlurhashString","isThumbhashString","resolveSource","resolveSources"],"mappings":"AAA;OCO;CDE;OEI;CFE;OGE;CHuB;OIK;CJY"}},"type":"js/module"}]}