{"dependencies":[{"name":"tslib","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"8R25577gwLd3n1hFG9VYnRLV9eE=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":35,"index":67}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../animation/utils/is-animation-controls.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":68},"end":{"line":3,"column":86,"index":154}}],"key":"DlsnybhptTj+gBYOZ2Yih1QuWtE=","exportNames":["*"],"imports":1}},{"name":"../../context/PresenceContext.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":155},"end":{"line":4,"column":68,"index":223}}],"key":"770CUHTf+IRHceT11QtbGTttEvo=","exportNames":["*"],"imports":1}},{"name":"../../render/utils/variants.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":224},"end":{"line":5,"column":122,"index":346}}],"key":"RKQBOcp1DyfansXgGEYWqg4q/WE=","exportNames":["*"],"imports":1}},{"name":"../../utils/use-constant.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":347},"end":{"line":6,"column":59,"index":406}}],"key":"fOYXwMLKWJV2ZT9WZTEjSFQflr8=","exportNames":["*"],"imports":1}},{"name":"../../value/utils/resolve-motion-value.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":407},"end":{"line":7,"column":80,"index":487}}],"key":"YwZ5KrxV/XAxktgSVTAA2EgjSso=","exportNames":["*"],"imports":1}},{"name":"../../context/MotionContext/index.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":488},"end":{"line":8,"column":70,"index":558}}],"key":"gWg55NQNPXnB6wHgQViqr4b8Bq8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"makeUseVisualState\", {\n    enumerable: true,\n    get: function () {\n      return makeUseVisualState;\n    }\n  });\n  var _tslib = require(_dependencyMap[0], \"tslib\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _animationUtilsIsAnimationControlsMjs = require(_dependencyMap[2], \"../../animation/utils/is-animation-controls.mjs\");\n  var _contextPresenceContextMjs = require(_dependencyMap[3], \"../../context/PresenceContext.mjs\");\n  var _renderUtilsVariantsMjs = require(_dependencyMap[4], \"../../render/utils/variants.mjs\");\n  var _utilsUseConstantMjs = require(_dependencyMap[5], \"../../utils/use-constant.mjs\");\n  var _valueUtilsResolveMotionValueMjs = require(_dependencyMap[6], \"../../value/utils/resolve-motion-value.mjs\");\n  var _contextMotionContextIndexMjs = require(_dependencyMap[7], \"../../context/MotionContext/index.mjs\");\n  function makeState(_a, props, context, presenceContext) {\n    var scrapeMotionValuesFromProps = _a.scrapeMotionValuesFromProps,\n      createRenderState = _a.createRenderState,\n      onMount = _a.onMount;\n    var state = {\n      latestValues: makeLatestValues(props, context, presenceContext, scrapeMotionValuesFromProps),\n      renderState: createRenderState()\n    };\n    if (onMount) {\n      state.mount = function (instance) {\n        return onMount(props, instance, state);\n      };\n    }\n    return state;\n  }\n  var makeUseVisualState = function (config) {\n    return function (props, isStatic) {\n      var context = (0, _react.useContext)(_contextMotionContextIndexMjs.MotionContext);\n      var presenceContext = (0, _react.useContext)(_contextPresenceContextMjs.PresenceContext);\n      return isStatic ? makeState(config, props, context, presenceContext) : (0, _utilsUseConstantMjs.useConstant)(function () {\n        return makeState(config, props, context, presenceContext);\n      });\n    };\n  };\n  function makeLatestValues(props, context, presenceContext, scrapeMotionValues) {\n    var values = {};\n    var blockInitialAnimation = (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false;\n    var motionValues = scrapeMotionValues(props);\n    for (var key in motionValues) {\n      values[key] = (0, _valueUtilsResolveMotionValueMjs.resolveMotionValue)(motionValues[key]);\n    }\n    var initial = props.initial,\n      animate = props.animate;\n    var isControllingVariants = (0, _renderUtilsVariantsMjs.checkIfControllingVariants)(props);\n    var isVariantNode = (0, _renderUtilsVariantsMjs.checkIfVariantNode)(props);\n    if (context && isVariantNode && !isControllingVariants && props.inherit !== false) {\n      initial !== null && initial !== void 0 ? initial : initial = context.initial;\n      animate !== null && animate !== void 0 ? animate : animate = context.animate;\n    }\n    var initialAnimationIsBlocked = blockInitialAnimation || initial === false;\n    var variantToSet = initialAnimationIsBlocked ? animate : initial;\n    if (variantToSet && typeof variantToSet !== \"boolean\" && !(0, _animationUtilsIsAnimationControlsMjs.isAnimationControls)(variantToSet)) {\n      var list = Array.isArray(variantToSet) ? variantToSet : [variantToSet];\n      list.forEach(function (definition) {\n        var resolved = (0, _renderUtilsVariantsMjs.resolveVariantFromProps)(props, definition);\n        if (!resolved) return;\n        var transitionEnd = resolved.transitionEnd;\n        resolved.transition;\n        var target = (0, _tslib.__rest)(resolved, [\"transitionEnd\", \"transition\"]);\n        for (var key in target) {\n          var valueTarget = target[key];\n          if (Array.isArray(valueTarget)) {\n            /**\n             * Take final keyframe if the initial animation is blocked because\n             * we want to initialise at the end of that blocked animation.\n             */\n            var index = initialAnimationIsBlocked ? valueTarget.length - 1 : 0;\n            valueTarget = valueTarget[index];\n          }\n          if (valueTarget !== null) {\n            values[key] = valueTarget;\n          }\n        }\n        for (var key in transitionEnd) values[key] = transitionEnd[key];\n      });\n    }\n    return values;\n  }\n});","lineCount":89,"map":[[7,2,83,0,"Object"],[7,8,83,0],[7,9,83,0,"defineProperty"],[7,23,83,0],[7,24,83,0,"exports"],[7,31,83,0],[8,4,83,0,"enumerable"],[8,14,83,0],[9,4,83,0,"get"],[9,7,83,0],[9,18,83,0,"get"],[9,19,83,0],[10,6,83,0],[10,13,83,9,"makeUseVisualState"],[10,31,83,27],[11,4,83,27],[12,2,83,27],[13,2,1,0],[13,6,1,0,"_tslib"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_react"],[14,12,2,0],[14,15,2,0,"require"],[14,22,2,0],[14,23,2,0,"_dependencyMap"],[14,37,2,0],[15,2,3,0],[15,6,3,0,"_animationUtilsIsAnimationControlsMjs"],[15,43,3,0],[15,46,3,0,"require"],[15,53,3,0],[15,54,3,0,"_dependencyMap"],[15,68,3,0],[16,2,4,0],[16,6,4,0,"_contextPresenceContextMjs"],[16,32,4,0],[16,35,4,0,"require"],[16,42,4,0],[16,43,4,0,"_dependencyMap"],[16,57,4,0],[17,2,5,0],[17,6,5,0,"_renderUtilsVariantsMjs"],[17,29,5,0],[17,32,5,0,"require"],[17,39,5,0],[17,40,5,0,"_dependencyMap"],[17,54,5,0],[18,2,6,0],[18,6,6,0,"_utilsUseConstantMjs"],[18,26,6,0],[18,29,6,0,"require"],[18,36,6,0],[18,37,6,0,"_dependencyMap"],[18,51,6,0],[19,2,7,0],[19,6,7,0,"_valueUtilsResolveMotionValueMjs"],[19,38,7,0],[19,41,7,0,"require"],[19,48,7,0],[19,49,7,0,"_dependencyMap"],[19,63,7,0],[20,2,8,0],[20,6,8,0,"_contextMotionContextIndexMjs"],[20,35,8,0],[20,38,8,0,"require"],[20,45,8,0],[20,46,8,0,"_dependencyMap"],[20,60,8,0],[21,2,10,0],[21,11,10,9,"makeState"],[21,20,10,18,"makeState"],[21,21,10,19,"_a"],[21,23,10,21],[21,25,10,23,"props"],[21,30,10,28],[21,32,10,30,"context"],[21,39,10,37],[21,41,10,39,"presenceContext"],[21,56,10,54],[21,58,10,56],[22,4,11,4],[22,8,11,8,"scrapeMotionValuesFromProps"],[22,35,11,35],[22,38,11,38,"_a"],[22,40,11,40],[22,41,11,41,"scrapeMotionValuesFromProps"],[22,68,11,68],[23,6,11,70,"createRenderState"],[23,23,11,87],[23,26,11,90,"_a"],[23,28,11,92],[23,29,11,93,"createRenderState"],[23,46,11,110],[24,6,11,112,"onMount"],[24,13,11,119],[24,16,11,122,"_a"],[24,18,11,124],[24,19,11,125,"onMount"],[24,26,11,132],[25,4,12,4],[25,8,12,8,"state"],[25,13,12,13],[25,16,12,16],[26,6,13,8,"latestValues"],[26,18,13,20],[26,20,13,22,"makeLatestValues"],[26,36,13,38],[26,37,13,39,"props"],[26,42,13,44],[26,44,13,46,"context"],[26,51,13,53],[26,53,13,55,"presenceContext"],[26,68,13,70],[26,70,13,72,"scrapeMotionValuesFromProps"],[26,97,13,99],[26,98,13,100],[27,6,14,8,"renderState"],[27,17,14,19],[27,19,14,21,"createRenderState"],[27,36,14,38],[27,37,14,39],[28,4,15,4],[28,5,15,5],[29,4,16,4],[29,8,16,8,"onMount"],[29,15,16,15],[29,17,16,17],[30,6,17,8,"state"],[30,11,17,13],[30,12,17,14,"mount"],[30,17,17,19],[30,20,17,22],[30,30,17,32,"instance"],[30,38,17,40],[30,40,17,42],[31,8,17,44],[31,15,17,51,"onMount"],[31,22,17,58],[31,23,17,59,"props"],[31,28,17,64],[31,30,17,66,"instance"],[31,38,17,74],[31,40,17,76,"state"],[31,45,17,81],[31,46,17,82],[32,6,17,84],[32,7,17,85],[33,4,18,4],[34,4,19,4],[34,11,19,11,"state"],[34,16,19,16],[35,2,20,0],[36,2,21,0],[36,6,21,4,"makeUseVisualState"],[36,24,21,22],[36,27,21,25],[36,36,21,25,"makeUseVisualState"],[36,37,21,35,"config"],[36,43,21,41],[36,45,21,43],[37,4,22,4],[37,11,22,11],[37,21,22,21,"props"],[37,26,22,26],[37,28,22,28,"isStatic"],[37,36,22,36],[37,38,22,38],[38,6,23,8],[38,10,23,12,"context"],[38,17,23,19],[38,20,23,22],[38,24,23,22,"useContext"],[38,30,23,32],[38,31,23,32,"useContext"],[38,41,23,32],[38,43,23,33,"MotionContext"],[38,72,23,46],[38,73,23,46,"MotionContext"],[38,86,23,46],[38,87,23,47],[39,6,24,8],[39,10,24,12,"presenceContext"],[39,25,24,27],[39,28,24,30],[39,32,24,30,"useContext"],[39,38,24,40],[39,39,24,40,"useContext"],[39,49,24,40],[39,51,24,41,"PresenceContext"],[39,77,24,56],[39,78,24,56,"PresenceContext"],[39,93,24,56],[39,94,24,57],[40,6,25,8],[40,13,25,15,"isStatic"],[40,21,25,23],[40,24,26,14,"makeState"],[40,33,26,23],[40,34,26,24,"config"],[40,40,26,30],[40,42,26,32,"props"],[40,47,26,37],[40,49,26,39,"context"],[40,56,26,46],[40,58,26,48,"presenceContext"],[40,73,26,63],[40,74,26,64],[40,77,27,14],[40,81,27,14,"useConstant"],[40,101,27,25],[40,102,27,25,"useConstant"],[40,113,27,25],[40,115,27,26],[40,127,27,38],[41,8,28,16],[41,15,28,23,"makeState"],[41,24,28,32],[41,25,28,33,"config"],[41,31,28,39],[41,33,28,41,"props"],[41,38,28,46],[41,40,28,48,"context"],[41,47,28,55],[41,49,28,57,"presenceContext"],[41,64,28,72],[41,65,28,73],[42,6,29,12],[42,7,29,13],[42,8,29,14],[43,4,30,4],[43,5,30,5],[44,2,31,0],[44,3,31,1],[45,2,32,0],[45,11,32,9,"makeLatestValues"],[45,27,32,25,"makeLatestValues"],[45,28,32,26,"props"],[45,33,32,31],[45,35,32,33,"context"],[45,42,32,40],[45,44,32,42,"presenceContext"],[45,59,32,57],[45,61,32,59,"scrapeMotionValues"],[45,79,32,77],[45,81,32,79],[46,4,33,4],[46,8,33,8,"values"],[46,14,33,14],[46,17,33,17],[46,18,33,18],[46,19,33,19],[47,4,34,4],[47,8,34,8,"blockInitialAnimation"],[47,29,34,29],[47,32,34,32],[47,33,34,33,"presenceContext"],[47,48,34,48],[47,53,34,53],[47,57,34,57],[47,61,34,61,"presenceContext"],[47,76,34,76],[47,81,34,81],[47,86,34,86],[47,87,34,87],[47,90,34,90],[47,95,34,95],[47,96,34,96],[47,99,34,99,"presenceContext"],[47,114,34,114],[47,115,34,115,"initial"],[47,122,34,122],[47,128,34,128],[47,133,34,133],[48,4,35,4],[48,8,35,8,"motionValues"],[48,20,35,20],[48,23,35,23,"scrapeMotionValues"],[48,41,35,41],[48,42,35,42,"props"],[48,47,35,47],[48,48,35,48],[49,4,36,4],[49,9,36,9],[49,13,36,13,"key"],[49,16,36,16],[49,20,36,20,"motionValues"],[49,32,36,32],[49,34,36,34],[50,6,37,8,"values"],[50,12,37,14],[50,13,37,15,"key"],[50,16,37,18],[50,17,37,19],[50,20,37,22],[50,24,37,22,"resolveMotionValue"],[50,56,37,40],[50,57,37,40,"resolveMotionValue"],[50,75,37,40],[50,77,37,41,"motionValues"],[50,89,37,53],[50,90,37,54,"key"],[50,93,37,57],[50,94,37,58],[50,95,37,59],[51,4,38,4],[52,4,39,4],[52,8,39,8,"initial"],[52,15,39,15],[52,18,39,18,"props"],[52,23,39,23],[52,24,39,24,"initial"],[52,31,39,31],[53,6,39,33,"animate"],[53,13,39,40],[53,16,39,43,"props"],[53,21,39,48],[53,22,39,49,"animate"],[53,29,39,56],[54,4,40,4],[54,8,40,8,"isControllingVariants"],[54,29,40,29],[54,32,40,32],[54,36,40,32,"checkIfControllingVariants"],[54,59,40,58],[54,60,40,58,"checkIfControllingVariants"],[54,86,40,58],[54,88,40,59,"props"],[54,93,40,64],[54,94,40,65],[55,4,41,4],[55,8,41,8,"isVariantNode"],[55,21,41,21],[55,24,41,24],[55,28,41,24,"checkIfVariantNode"],[55,51,41,42],[55,52,41,42,"checkIfVariantNode"],[55,70,41,42],[55,72,41,43,"props"],[55,77,41,48],[55,78,41,49],[56,4,42,4],[56,8,42,8,"context"],[56,15,42,15],[56,19,43,8,"isVariantNode"],[56,32,43,21],[56,36,44,8],[56,37,44,9,"isControllingVariants"],[56,58,44,30],[56,62,45,8,"props"],[56,67,45,13],[56,68,45,14,"inherit"],[56,75,45,21],[56,80,45,26],[56,85,45,31],[56,87,45,33],[57,6,46,8,"initial"],[57,13,46,15],[57,18,46,20],[57,22,46,24],[57,26,46,28,"initial"],[57,33,46,35],[57,38,46,40],[57,43,46,45],[57,44,46,46],[57,47,46,49,"initial"],[57,54,46,56],[57,57,46,60,"initial"],[57,64,46,67],[57,67,46,70,"context"],[57,74,46,77],[57,75,46,78,"initial"],[57,82,46,86],[58,6,47,8,"animate"],[58,13,47,15],[58,18,47,20],[58,22,47,24],[58,26,47,28,"animate"],[58,33,47,35],[58,38,47,40],[58,43,47,45],[58,44,47,46],[58,47,47,49,"animate"],[58,54,47,56],[58,57,47,60,"animate"],[58,64,47,67],[58,67,47,70,"context"],[58,74,47,77],[58,75,47,78,"animate"],[58,82,47,86],[59,4,48,4],[60,4,49,4],[60,8,49,8,"initialAnimationIsBlocked"],[60,33,49,33],[60,36,49,36,"blockInitialAnimation"],[60,57,49,57],[60,61,49,61,"initial"],[60,68,49,68],[60,73,49,73],[60,78,49,78],[61,4,50,4],[61,8,50,8,"variantToSet"],[61,20,50,20],[61,23,50,23,"initialAnimationIsBlocked"],[61,48,50,48],[61,51,50,51,"animate"],[61,58,50,58],[61,61,50,61,"initial"],[61,68,50,68],[62,4,51,4],[62,8,51,8,"variantToSet"],[62,20,51,20],[62,24,52,8],[62,31,52,15,"variantToSet"],[62,43,52,27],[62,48,52,32],[62,57,52,41],[62,61,53,8],[62,62,53,9],[62,66,53,9,"isAnimationControls"],[62,103,53,28],[62,104,53,28,"isAnimationControls"],[62,123,53,28],[62,125,53,29,"variantToSet"],[62,137,53,41],[62,138,53,42],[62,140,53,44],[63,6,54,8],[63,10,54,12,"list"],[63,14,54,16],[63,17,54,19,"Array"],[63,22,54,24],[63,23,54,25,"isArray"],[63,30,54,32],[63,31,54,33,"variantToSet"],[63,43,54,45],[63,44,54,46],[63,47,54,49,"variantToSet"],[63,59,54,61],[63,62,54,64],[63,63,54,65,"variantToSet"],[63,75,54,77],[63,76,54,78],[64,6,55,8,"list"],[64,10,55,12],[64,11,55,13,"forEach"],[64,18,55,20],[64,19,55,21],[64,29,55,31,"definition"],[64,39,55,41],[64,41,55,43],[65,8,56,12],[65,12,56,16,"resolved"],[65,20,56,24],[65,23,56,27],[65,27,56,27,"resolveVariantFromProps"],[65,50,56,50],[65,51,56,50,"resolveVariantFromProps"],[65,74,56,50],[65,76,56,51,"props"],[65,81,56,56],[65,83,56,58,"definition"],[65,93,56,68],[65,94,56,69],[66,8,57,12],[66,12,57,16],[66,13,57,17,"resolved"],[66,21,57,25],[66,23,58,16],[67,8,59,12],[67,12,59,16,"transitionEnd"],[67,25,59,29],[67,28,59,32,"resolved"],[67,36,59,40],[67,37,59,41,"transitionEnd"],[67,50,59,54],[68,8,59,56,"resolved"],[68,16,59,64],[68,17,59,65,"transition"],[68,27,59,75],[69,8,59,77],[69,12,59,81,"target"],[69,18,59,87],[69,21,59,90],[69,25,59,90,"__rest"],[69,31,59,96],[69,32,59,96,"__rest"],[69,38,59,96],[69,40,59,97,"resolved"],[69,48,59,105],[69,50,59,107],[69,51,59,108],[69,66,59,123],[69,68,59,125],[69,80,59,137],[69,81,59,138],[69,82,59,139],[70,8,60,12],[70,13,60,17],[70,17,60,21,"key"],[70,20,60,24],[70,24,60,28,"target"],[70,30,60,34],[70,32,60,36],[71,10,61,16],[71,14,61,20,"valueTarget"],[71,25,61,31],[71,28,61,34,"target"],[71,34,61,40],[71,35,61,41,"key"],[71,38,61,44],[71,39,61,45],[72,10,62,16],[72,14,62,20,"Array"],[72,19,62,25],[72,20,62,26,"isArray"],[72,27,62,33],[72,28,62,34,"valueTarget"],[72,39,62,45],[72,40,62,46],[72,42,62,48],[73,12,63,20],[74,0,64,0],[75,0,65,0],[76,0,66,0],[77,12,67,20],[77,16,67,24,"index"],[77,21,67,29],[77,24,67,32,"initialAnimationIsBlocked"],[77,49,67,57],[77,52,68,26,"valueTarget"],[77,63,68,37],[77,64,68,38,"length"],[77,70,68,44],[77,73,68,47],[77,74,68,48],[77,77,69,26],[77,78,69,27],[78,12,70,20,"valueTarget"],[78,23,70,31],[78,26,70,34,"valueTarget"],[78,37,70,45],[78,38,70,46,"index"],[78,43,70,51],[78,44,70,52],[79,10,71,16],[80,10,72,16],[80,14,72,20,"valueTarget"],[80,25,72,31],[80,30,72,36],[80,34,72,40],[80,36,72,42],[81,12,73,20,"values"],[81,18,73,26],[81,19,73,27,"key"],[81,22,73,30],[81,23,73,31],[81,26,73,34,"valueTarget"],[81,37,73,45],[82,10,74,16],[83,8,75,12],[84,8,76,12],[84,13,76,17],[84,17,76,21,"key"],[84,20,76,24],[84,24,76,28,"transitionEnd"],[84,37,76,41],[84,39,77,16,"values"],[84,45,77,22],[84,46,77,23,"key"],[84,49,77,26],[84,50,77,27],[84,53,77,30,"transitionEnd"],[84,66,77,43],[84,67,77,44,"key"],[84,70,77,47],[84,71,77,48],[85,6,78,8],[85,7,78,9],[85,8,78,10],[86,4,79,4],[87,4,80,4],[87,11,80,11,"values"],[87,17,80,17],[88,2,81,0],[89,0,81,1],[89,3]],"functionMap":{"names":["<global>","makeState","state.mount","makeUseVisualState","<anonymous>","useConstant$argument_0","makeLatestValues","list.forEach$argument_0"],"mappings":"AAA;ACS;sBCO,+DD;CDG;yBGC;WCC;0BCK;aDE;KDC;CHC;AMC;qBCuB;SDuB;CNG"},"hasCjsExports":false},"type":"js/module"}]}