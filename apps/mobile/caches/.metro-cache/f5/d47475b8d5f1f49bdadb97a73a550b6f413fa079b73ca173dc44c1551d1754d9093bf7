{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"./utils/is-node-or-child.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":61,"index":93}}],"key":"1RqYVAIJiRXDdMhQwzG3jP+gOwg=","exportNames":["*"],"imports":1}},{"name":"../events/use-pointer-event.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":94},"end":{"line":3,"column":83,"index":177}}],"key":"00u3wgE0/TL8Q/YQ+vOTcihvzIE=","exportNames":["*"],"imports":1}},{"name":"../utils/use-unmount-effect.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":178},"end":{"line":4,"column":67,"index":245}}],"key":"W6TD9oEU26pnB2xQAj0od1FL9Hg=","exportNames":["*"],"imports":1}},{"name":"popmotion","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":246},"end":{"line":5,"column":33,"index":279}}],"key":"9R4e9vFYMhq+Tk7xvkZO6aYjkW8=","exportNames":["*"],"imports":1}},{"name":"../render/utils/types.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":280},"end":{"line":6,"column":58,"index":338}}],"key":"bkMaCUmMIxqQaBD3YdTyESW6XPM=","exportNames":["*"],"imports":1}},{"name":"./drag/utils/lock.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":339},"end":{"line":7,"column":53,"index":392}}],"key":"XxycjuMlAG7qUpWJ3lm38QVgdGU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useTapGesture\", {\n    enumerable: true,\n    get: function () {\n      return useTapGesture;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsIsNodeOrChildMjs = require(_dependencyMap[1], \"./utils/is-node-or-child.mjs\");\n  var _eventsUsePointerEventMjs = require(_dependencyMap[2], \"../events/use-pointer-event.mjs\");\n  var _utilsUseUnmountEffectMjs = require(_dependencyMap[3], \"../utils/use-unmount-effect.mjs\");\n  var _popmotion = require(_dependencyMap[4], \"popmotion\");\n  var _renderUtilsTypesMjs = require(_dependencyMap[5], \"../render/utils/types.mjs\");\n  var _dragUtilsLockMjs = require(_dependencyMap[6], \"./drag/utils/lock.mjs\");\n  /**\n   * @param handlers -\n   * @internal\n   */\n  function useTapGesture(_a) {\n    var onTap = _a.onTap,\n      onTapStart = _a.onTapStart,\n      onTapCancel = _a.onTapCancel,\n      whileTap = _a.whileTap,\n      visualElement = _a.visualElement;\n    var hasPressListeners = onTap || onTapStart || onTapCancel || whileTap;\n    var isPressing = (0, _react.useRef)(false);\n    var cancelPointerEndListeners = (0, _react.useRef)(null);\n    /**\n     * Only set listener to passive if there are no external listeners.\n     */\n    var eventOptions = {\n      passive: !(onTapStart || onTap || onTapCancel || onPointerDown)\n    };\n    function removePointerEndListener() {\n      var _a;\n      (_a = cancelPointerEndListeners.current) === null || _a === void 0 ? void 0 : _a.call(cancelPointerEndListeners);\n      cancelPointerEndListeners.current = null;\n    }\n    function checkPointerEnd() {\n      var _a;\n      removePointerEndListener();\n      isPressing.current = false;\n      (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(_renderUtilsTypesMjs.AnimationType.Tap, false);\n      return !(0, _dragUtilsLockMjs.isDragActive)();\n    }\n    function onPointerUp(event, info) {\n      if (!checkPointerEnd()) return;\n      /**\n       * We only count this as a tap gesture if the event.target is the same\n       * as, or a child of, this component's element\n       */\n      !(0, _utilsIsNodeOrChildMjs.isNodeOrChild)(visualElement.getInstance(), event.target) ? onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info) : onTap === null || onTap === void 0 ? void 0 : onTap(event, info);\n    }\n    function onPointerCancel(event, info) {\n      if (!checkPointerEnd()) return;\n      onTapCancel === null || onTapCancel === void 0 ? void 0 : onTapCancel(event, info);\n    }\n    function onPointerDown(event, info) {\n      var _a;\n      removePointerEndListener();\n      if (isPressing.current) return;\n      isPressing.current = true;\n      cancelPointerEndListeners.current = (0, _popmotion.pipe)((0, _eventsUsePointerEventMjs.addPointerEvent)(window, \"pointerup\", onPointerUp, eventOptions), (0, _eventsUsePointerEventMjs.addPointerEvent)(window, \"pointercancel\", onPointerCancel, eventOptions));\n      /**\n       * Ensure we trigger animations before firing event callback\n       */\n      (_a = visualElement.animationState) === null || _a === void 0 ? void 0 : _a.setActive(_renderUtilsTypesMjs.AnimationType.Tap, true);\n      onTapStart === null || onTapStart === void 0 ? void 0 : onTapStart(event, info);\n    }\n    (0, _eventsUsePointerEventMjs.usePointerEvent)(visualElement, \"pointerdown\", hasPressListeners ? onPointerDown : undefined, eventOptions);\n    (0, _utilsUseUnmountEffectMjs.useUnmountEffect)(removePointerEndListener);\n  }\n});","lineCount":78,"map":[[7,2,69,0,"Object"],[7,8,69,0],[7,9,69,0,"defineProperty"],[7,23,69,0],[7,24,69,0,"exports"],[7,31,69,0],[8,4,69,0,"enumerable"],[8,14,69,0],[9,4,69,0,"get"],[9,7,69,0],[9,18,69,0,"get"],[9,19,69,0],[10,6,69,0],[10,13,69,9,"useTapGesture"],[10,26,69,22],[11,4,69,22],[12,2,69,22],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_utilsIsNodeOrChildMjs"],[14,28,2,0],[14,31,2,0,"require"],[14,38,2,0],[14,39,2,0,"_dependencyMap"],[14,53,2,0],[15,2,3,0],[15,6,3,0,"_eventsUsePointerEventMjs"],[15,31,3,0],[15,34,3,0,"require"],[15,41,3,0],[15,42,3,0,"_dependencyMap"],[15,56,3,0],[16,2,4,0],[16,6,4,0,"_utilsUseUnmountEffectMjs"],[16,31,4,0],[16,34,4,0,"require"],[16,41,4,0],[16,42,4,0,"_dependencyMap"],[16,56,4,0],[17,2,5,0],[17,6,5,0,"_popmotion"],[17,16,5,0],[17,19,5,0,"require"],[17,26,5,0],[17,27,5,0,"_dependencyMap"],[17,41,5,0],[18,2,6,0],[18,6,6,0,"_renderUtilsTypesMjs"],[18,26,6,0],[18,29,6,0,"require"],[18,36,6,0],[18,37,6,0,"_dependencyMap"],[18,51,6,0],[19,2,7,0],[19,6,7,0,"_dragUtilsLockMjs"],[19,23,7,0],[19,26,7,0,"require"],[19,33,7,0],[19,34,7,0,"_dependencyMap"],[19,48,7,0],[20,2,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,2,13,0],[24,11,13,9,"useTapGesture"],[24,24,13,22,"useTapGesture"],[24,25,13,23,"_a"],[24,27,13,25],[24,29,13,27],[25,4,14,4],[25,8,14,8,"onTap"],[25,13,14,13],[25,16,14,16,"_a"],[25,18,14,18],[25,19,14,19,"onTap"],[25,24,14,24],[26,6,14,26,"onTapStart"],[26,16,14,36],[26,19,14,39,"_a"],[26,21,14,41],[26,22,14,42,"onTapStart"],[26,32,14,52],[27,6,14,54,"onTapCancel"],[27,17,14,65],[27,20,14,68,"_a"],[27,22,14,70],[27,23,14,71,"onTapCancel"],[27,34,14,82],[28,6,14,84,"whileTap"],[28,14,14,92],[28,17,14,95,"_a"],[28,19,14,97],[28,20,14,98,"whileTap"],[28,28,14,106],[29,6,14,108,"visualElement"],[29,19,14,121],[29,22,14,124,"_a"],[29,24,14,126],[29,25,14,127,"visualElement"],[29,38,14,140],[30,4,15,4],[30,8,15,8,"hasPressListeners"],[30,25,15,25],[30,28,15,28,"onTap"],[30,33,15,33],[30,37,15,37,"onTapStart"],[30,47,15,47],[30,51,15,51,"onTapCancel"],[30,62,15,62],[30,66,15,66,"whileTap"],[30,74,15,74],[31,4,16,4],[31,8,16,8,"isPressing"],[31,18,16,18],[31,21,16,21],[31,25,16,21,"useRef"],[31,31,16,27],[31,32,16,27,"useRef"],[31,38,16,27],[31,40,16,28],[31,45,16,33],[31,46,16,34],[32,4,17,4],[32,8,17,8,"cancelPointerEndListeners"],[32,33,17,33],[32,36,17,36],[32,40,17,36,"useRef"],[32,46,17,42],[32,47,17,42,"useRef"],[32,53,17,42],[32,55,17,43],[32,59,17,47],[32,60,17,48],[33,4,18,4],[34,0,19,0],[35,0,20,0],[36,4,21,4],[36,8,21,8,"eventOptions"],[36,20,21,20],[36,23,21,23],[37,6,22,8,"passive"],[37,13,22,15],[37,15,22,17],[37,17,22,19,"onTapStart"],[37,27,22,29],[37,31,22,33,"onTap"],[37,36,22,38],[37,40,22,42,"onTapCancel"],[37,51,22,53],[37,55,22,57,"onPointerDown"],[37,68,22,70],[38,4,23,4],[38,5,23,5],[39,4,24,4],[39,13,24,13,"removePointerEndListener"],[39,37,24,37,"removePointerEndListener"],[39,38,24,37],[39,40,24,40],[40,6,25,8],[40,10,25,12,"_a"],[40,12,25,14],[41,6,26,8],[41,7,26,9,"_a"],[41,9,26,11],[41,12,26,14,"cancelPointerEndListeners"],[41,37,26,39],[41,38,26,40,"current"],[41,45,26,47],[41,51,26,53],[41,55,26,57],[41,59,26,61,"_a"],[41,61,26,63],[41,66,26,68],[41,71,26,73],[41,72,26,74],[41,75,26,77],[41,80,26,82],[41,81,26,83],[41,84,26,86,"_a"],[41,86,26,88],[41,87,26,89,"call"],[41,91,26,93],[41,92,26,94,"cancelPointerEndListeners"],[41,117,26,119],[41,118,26,120],[42,6,27,8,"cancelPointerEndListeners"],[42,31,27,33],[42,32,27,34,"current"],[42,39,27,41],[42,42,27,44],[42,46,27,48],[43,4,28,4],[44,4,29,4],[44,13,29,13,"checkPointerEnd"],[44,28,29,28,"checkPointerEnd"],[44,29,29,28],[44,31,29,31],[45,6,30,8],[45,10,30,12,"_a"],[45,12,30,14],[46,6,31,8,"removePointerEndListener"],[46,30,31,32],[46,31,31,33],[46,32,31,34],[47,6,32,8,"isPressing"],[47,16,32,18],[47,17,32,19,"current"],[47,24,32,26],[47,27,32,29],[47,32,32,34],[48,6,33,8],[48,7,33,9,"_a"],[48,9,33,11],[48,12,33,14,"visualElement"],[48,25,33,27],[48,26,33,28,"animationState"],[48,40,33,42],[48,46,33,48],[48,50,33,52],[48,54,33,56,"_a"],[48,56,33,58],[48,61,33,63],[48,66,33,68],[48,67,33,69],[48,70,33,72],[48,75,33,77],[48,76,33,78],[48,79,33,81,"_a"],[48,81,33,83],[48,82,33,84,"setActive"],[48,91,33,93],[48,92,33,94,"AnimationType"],[48,112,33,107],[48,113,33,107,"AnimationType"],[48,126,33,107],[48,127,33,108,"Tap"],[48,130,33,111],[48,132,33,113],[48,137,33,118],[48,138,33,119],[49,6,34,8],[49,13,34,15],[49,14,34,16],[49,18,34,16,"isDragActive"],[49,35,34,28],[49,36,34,28,"isDragActive"],[49,48,34,28],[49,50,34,29],[49,51,34,30],[50,4,35,4],[51,4,36,4],[51,13,36,13,"onPointerUp"],[51,24,36,24,"onPointerUp"],[51,25,36,25,"event"],[51,30,36,30],[51,32,36,32,"info"],[51,36,36,36],[51,38,36,38],[52,6,37,8],[52,10,37,12],[52,11,37,13,"checkPointerEnd"],[52,26,37,28],[52,27,37,29],[52,28,37,30],[52,30,38,12],[53,6,39,8],[54,0,40,0],[55,0,41,0],[56,0,42,0],[57,6,43,8],[57,7,43,9],[57,11,43,9,"isNodeOrChild"],[57,33,43,22],[57,34,43,22,"isNodeOrChild"],[57,47,43,22],[57,49,43,23,"visualElement"],[57,62,43,36],[57,63,43,37,"getInstance"],[57,74,43,48],[57,75,43,49],[57,76,43,50],[57,78,43,52,"event"],[57,83,43,57],[57,84,43,58,"target"],[57,90,43,64],[57,91,43,65],[57,94,44,14,"onTapCancel"],[57,105,44,25],[57,110,44,30],[57,114,44,34],[57,118,44,38,"onTapCancel"],[57,129,44,49],[57,134,44,54],[57,139,44,59],[57,140,44,60],[57,143,44,63],[57,148,44,68],[57,149,44,69],[57,152,44,72,"onTapCancel"],[57,163,44,83],[57,164,44,84,"event"],[57,169,44,89],[57,171,44,91,"info"],[57,175,44,95],[57,176,44,96],[57,179,45,14,"onTap"],[57,184,45,19],[57,189,45,24],[57,193,45,28],[57,197,45,32,"onTap"],[57,202,45,37],[57,207,45,42],[57,212,45,47],[57,213,45,48],[57,216,45,51],[57,221,45,56],[57,222,45,57],[57,225,45,60,"onTap"],[57,230,45,65],[57,231,45,66,"event"],[57,236,45,71],[57,238,45,73,"info"],[57,242,45,77],[57,243,45,78],[58,4,46,4],[59,4,47,4],[59,13,47,13,"onPointerCancel"],[59,28,47,28,"onPointerCancel"],[59,29,47,29,"event"],[59,34,47,34],[59,36,47,36,"info"],[59,40,47,40],[59,42,47,42],[60,6,48,8],[60,10,48,12],[60,11,48,13,"checkPointerEnd"],[60,26,48,28],[60,27,48,29],[60,28,48,30],[60,30,49,12],[61,6,50,8,"onTapCancel"],[61,17,50,19],[61,22,50,24],[61,26,50,28],[61,30,50,32,"onTapCancel"],[61,41,50,43],[61,46,50,48],[61,51,50,53],[61,52,50,54],[61,55,50,57],[61,60,50,62],[61,61,50,63],[61,64,50,66,"onTapCancel"],[61,75,50,77],[61,76,50,78,"event"],[61,81,50,83],[61,83,50,85,"info"],[61,87,50,89],[61,88,50,90],[62,4,51,4],[63,4,52,4],[63,13,52,13,"onPointerDown"],[63,26,52,26,"onPointerDown"],[63,27,52,27,"event"],[63,32,52,32],[63,34,52,34,"info"],[63,38,52,38],[63,40,52,40],[64,6,53,8],[64,10,53,12,"_a"],[64,12,53,14],[65,6,54,8,"removePointerEndListener"],[65,30,54,32],[65,31,54,33],[65,32,54,34],[66,6,55,8],[66,10,55,12,"isPressing"],[66,20,55,22],[66,21,55,23,"current"],[66,28,55,30],[66,30,56,12],[67,6,57,8,"isPressing"],[67,16,57,18],[67,17,57,19,"current"],[67,24,57,26],[67,27,57,29],[67,31,57,33],[68,6,58,8,"cancelPointerEndListeners"],[68,31,58,33],[68,32,58,34,"current"],[68,39,58,41],[68,42,58,44],[68,46,58,44,"pipe"],[68,56,58,48],[68,57,58,48,"pipe"],[68,61,58,48],[68,63,58,49],[68,67,58,49,"addPointerEvent"],[68,92,58,64],[68,93,58,64,"addPointerEvent"],[68,108,58,64],[68,110,58,65,"window"],[68,116,58,71],[68,118,58,73],[68,129,58,84],[68,131,58,86,"onPointerUp"],[68,142,58,97],[68,144,58,99,"eventOptions"],[68,156,58,111],[68,157,58,112],[68,159,58,114],[68,163,58,114,"addPointerEvent"],[68,188,58,129],[68,189,58,129,"addPointerEvent"],[68,204,58,129],[68,206,58,130,"window"],[68,212,58,136],[68,214,58,138],[68,229,58,153],[68,231,58,155,"onPointerCancel"],[68,246,58,170],[68,248,58,172,"eventOptions"],[68,260,58,184],[68,261,58,185],[68,262,58,186],[69,6,59,8],[70,0,60,0],[71,0,61,0],[72,6,62,8],[72,7,62,9,"_a"],[72,9,62,11],[72,12,62,14,"visualElement"],[72,25,62,27],[72,26,62,28,"animationState"],[72,40,62,42],[72,46,62,48],[72,50,62,52],[72,54,62,56,"_a"],[72,56,62,58],[72,61,62,63],[72,66,62,68],[72,67,62,69],[72,70,62,72],[72,75,62,77],[72,76,62,78],[72,79,62,81,"_a"],[72,81,62,83],[72,82,62,84,"setActive"],[72,91,62,93],[72,92,62,94,"AnimationType"],[72,112,62,107],[72,113,62,107,"AnimationType"],[72,126,62,107],[72,127,62,108,"Tap"],[72,130,62,111],[72,132,62,113],[72,136,62,117],[72,137,62,118],[73,6,63,8,"onTapStart"],[73,16,63,18],[73,21,63,23],[73,25,63,27],[73,29,63,31,"onTapStart"],[73,39,63,41],[73,44,63,46],[73,49,63,51],[73,50,63,52],[73,53,63,55],[73,58,63,60],[73,59,63,61],[73,62,63,64,"onTapStart"],[73,72,63,74],[73,73,63,75,"event"],[73,78,63,80],[73,80,63,82,"info"],[73,84,63,86],[73,85,63,87],[74,4,64,4],[75,4,65,4],[75,8,65,4,"usePointerEvent"],[75,33,65,19],[75,34,65,19,"usePointerEvent"],[75,49,65,19],[75,51,65,20,"visualElement"],[75,64,65,33],[75,66,65,35],[75,79,65,48],[75,81,65,50,"hasPressListeners"],[75,98,65,67],[75,101,65,70,"onPointerDown"],[75,114,65,83],[75,117,65,86,"undefined"],[75,126,65,95],[75,128,65,97,"eventOptions"],[75,140,65,109],[75,141,65,110],[76,4,66,4],[76,8,66,4,"useUnmountEffect"],[76,33,66,20],[76,34,66,20,"useUnmountEffect"],[76,50,66,20],[76,52,66,21,"removePointerEndListener"],[76,76,66,45],[76,77,66,46],[77,2,67,0],[78,0,67,1],[78,3]],"functionMap":{"names":["<global>","useTapGesture","removePointerEndListener","checkPointerEnd","onPointerUp","onPointerCancel","onPointerDown"],"mappings":"AAA;ACY;ICW;KDI;IEC;KFM;IGC;KHU;IIC;KJI;IKC;KLY;CDG"},"hasCjsExports":false},"type":"js/module"}]}