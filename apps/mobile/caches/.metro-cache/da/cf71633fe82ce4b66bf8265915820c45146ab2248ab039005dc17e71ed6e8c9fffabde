{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./resolveAssetSource","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":47},"end":{"line":3,"column":54,"index":101}}],"key":"qiXdfzfF08Pne6HL41q9H4FDwsA=","exportNames":["*"],"imports":1}},{"name":"./resolveHashString","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":102},"end":{"line":4,"column":84,"index":186}}],"key":"lCGXVqBXYTWy+eggX9g5j1ljhdQ=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":263},"end":{"line":6,"column":38,"index":301}}],"key":"mL7nJyZhzUYx+zMcIt1cBzVuRps=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isBlurhashString = isBlurhashString;\n  exports.isThumbhashString = isThumbhashString;\n  exports.resolveSource = resolveSource;\n  exports.resolveSources = resolveSources;\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _resolveAssetSource = require(_dependencyMap[1], \"./resolveAssetSource\");\n  var resolveAssetSource = _interopDefault(_resolveAssetSource);\n  var _resolveHashString = require(_dependencyMap[2], \"./resolveHashString\");\n  var _utils = require(_dependencyMap[3], \"../utils\");\n  function isBlurhashString(str) {\n    return /^(blurhash:\\/)+[\\w#$%*+,\\-.:;=?@[\\]^_{}|~]+(\\/[\\d.]+)*$/.test(str);\n  }\n\n  // Base64 strings will be recognized as blurhash by default (to keep compatibility),\n  // interpret as thumbhash only if correct uri scheme is provided\n  function isThumbhashString(str) {\n    return str.startsWith('thumbhash:/');\n  }\n  function resolveSource(source) {\n    if (typeof source === 'string') {\n      if (isBlurhashString(source)) {\n        return (0, _resolveHashString.resolveBlurhashString)(source);\n      } else if (isThumbhashString(source)) {\n        return (0, _resolveHashString.resolveThumbhashString)(source);\n      }\n      return {\n        uri: source\n      };\n    }\n    if (typeof source === 'number') {\n      return (0, resolveAssetSource.default)(source);\n    }\n    if (typeof source === 'object' && (source?.blurhash || source?.thumbhash)) {\n      const {\n        blurhash,\n        thumbhash,\n        ...restSource\n      } = source;\n      const resolved = thumbhash ? (0, _resolveHashString.resolveThumbhashString)(thumbhash) : (0, _resolveHashString.resolveBlurhashString)(blurhash);\n      return {\n        ...resolved,\n        ...restSource\n      };\n    }\n    return source ?? null;\n  }\n\n  /**\n   * Resolves provided `source` prop to an array of objects expected by the native implementation.\n   */\n  function resolveSources(sources) {\n    if (Array.isArray(sources)) {\n      return sources.map(resolveSource).filter(Boolean);\n    }\n    if ((0, _utils.isImageRef)(sources)) {\n      if (_expoModulesCore.Platform.OS === 'web') {\n        return sources;\n      }\n      // @ts-expect-error\n      return sources.__expo_shared_object_id__;\n    }\n    return [resolveSource(sources)].filter(Boolean);\n  }\n});","lineCount":75,"map":[[12,2,8,0,"exports"],[12,9,8,0],[12,10,8,0,"isBlurhashString"],[12,26,8,0],[12,29,8,0,"isBlurhashString"],[12,45,8,0],[13,2,14,0,"exports"],[13,9,14,0],[13,10,14,0,"isThumbhashString"],[13,27,14,0],[13,30,14,0,"isThumbhashString"],[13,47,14,0],[14,2,18,0,"exports"],[14,9,18,0],[14,10,18,0,"resolveSource"],[14,23,18,0],[14,26,18,0,"resolveSource"],[14,39,18,0],[15,2,46,0,"exports"],[15,9,46,0],[15,10,46,0,"resolveSources"],[15,24,46,0],[15,27,46,0,"resolveSources"],[15,41,46,0],[16,2,1,0],[16,6,1,0,"_expoModulesCore"],[16,22,1,0],[16,25,1,0,"require"],[16,32,1,0],[16,33,1,0,"_dependencyMap"],[16,47,1,0],[17,2,3,0],[17,6,3,0,"_resolveAssetSource"],[17,25,3,0],[17,28,3,0,"require"],[17,35,3,0],[17,36,3,0,"_dependencyMap"],[17,50,3,0],[18,2,3,0],[18,6,3,0,"resolveAssetSource"],[18,24,3,0],[18,27,3,0,"_interopDefault"],[18,42,3,0],[18,43,3,0,"_resolveAssetSource"],[18,62,3,0],[19,2,4,0],[19,6,4,0,"_resolveHashString"],[19,24,4,0],[19,27,4,0,"require"],[19,34,4,0],[19,35,4,0,"_dependencyMap"],[19,49,4,0],[20,2,6,0],[20,6,6,0,"_utils"],[20,12,6,0],[20,15,6,0,"require"],[20,22,6,0],[20,23,6,0,"_dependencyMap"],[20,37,6,0],[21,2,8,7],[21,11,8,16,"isBlurhashString"],[21,27,8,32,"isBlurhashString"],[21,28,8,33,"str"],[21,31,8,44],[21,33,8,55],[22,4,9,2],[22,11,9,9],[22,68,9,66],[22,69,9,67,"test"],[22,73,9,71],[22,74,9,72,"str"],[22,77,9,75],[22,78,9,76],[23,2,10,0],[25,2,12,0],[26,2,13,0],[27,2,14,7],[27,11,14,16,"isThumbhashString"],[27,28,14,33,"isThumbhashString"],[27,29,14,34,"str"],[27,32,14,45],[27,34,14,56],[28,4,15,2],[28,11,15,9,"str"],[28,14,15,12],[28,15,15,13,"startsWith"],[28,25,15,23],[28,26,15,24],[28,39,15,37],[28,40,15,38],[29,2,16,0],[30,2,18,7],[30,11,18,16,"resolveSource"],[30,24,18,29,"resolveSource"],[30,25,18,30,"source"],[30,31,18,75],[30,33,18,97],[31,4,19,2],[31,8,19,6],[31,15,19,13,"source"],[31,21,19,19],[31,26,19,24],[31,34,19,32],[31,36,19,34],[32,6,20,4],[32,10,20,8,"isBlurhashString"],[32,26,20,24],[32,27,20,25,"source"],[32,33,20,31],[32,34,20,32],[32,36,20,34],[33,8,21,6],[33,15,21,13],[33,19,21,13,"resolveBlurhashString"],[33,37,21,34],[33,38,21,34,"resolveBlurhashString"],[33,59,21,34],[33,61,21,35,"source"],[33,67,21,41],[33,68,21,42],[34,6,22,4],[34,7,22,5],[34,13,22,11],[34,17,22,15,"isThumbhashString"],[34,34,22,32],[34,35,22,33,"source"],[34,41,22,39],[34,42,22,40],[34,44,22,42],[35,8,23,6],[35,15,23,13],[35,19,23,13,"resolveThumbhashString"],[35,37,23,35],[35,38,23,35,"resolveThumbhashString"],[35,60,23,35],[35,62,23,36,"source"],[35,68,23,42],[35,69,23,43],[36,6,24,4],[37,6,25,4],[37,13,25,11],[38,8,25,13,"uri"],[38,11,25,16],[38,13,25,18,"source"],[39,6,25,25],[39,7,25,26],[40,4,26,2],[41,4,27,2],[41,8,27,6],[41,15,27,13,"source"],[41,21,27,19],[41,26,27,24],[41,34,27,32],[41,36,27,34],[42,6,28,4],[42,13,28,11],[42,17,28,11,"resolveAssetSource"],[42,35,28,29],[42,36,28,29,"default"],[42,43,28,29],[42,45,28,30,"source"],[42,51,28,36],[42,52,28,37],[43,4,29,2],[44,4,30,2],[44,8,30,6],[44,15,30,13,"source"],[44,21,30,19],[44,26,30,24],[44,34,30,32],[44,39,30,37,"source"],[44,45,30,43],[44,47,30,45,"blurhash"],[44,55,30,53],[44,59,30,57,"source"],[44,65,30,63],[44,67,30,65,"thumbhash"],[44,76,30,74],[44,77,30,75],[44,79,30,77],[45,6,31,4],[45,12,31,10],[46,8,31,12,"blurhash"],[46,16,31,20],[47,8,31,22,"thumbhash"],[47,17,31,31],[48,8,31,33],[48,11,31,36,"restSource"],[49,6,31,47],[49,7,31,48],[49,10,31,51,"source"],[49,16,31,57],[50,6,32,4],[50,12,32,10,"resolved"],[50,20,32,18],[50,23,32,21,"thumbhash"],[50,32,32,30],[50,35,33,8],[50,39,33,8,"resolveThumbhashString"],[50,57,33,30],[50,58,33,30,"resolveThumbhashString"],[50,80,33,30],[50,82,33,31,"thumbhash"],[50,91,33,40],[50,92,33,41],[50,95,34,8],[50,99,34,8,"resolveBlurhashString"],[50,117,34,29],[50,118,34,29,"resolveBlurhashString"],[50,139,34,29],[50,141,34,30,"blurhash"],[50,149,34,48],[50,150,34,49],[51,6,35,4],[51,13,35,11],[52,8,36,6],[52,11,36,9,"resolved"],[52,19,36,17],[53,8,37,6],[53,11,37,9,"restSource"],[54,6,38,4],[54,7,38,5],[55,4,39,2],[56,4,40,2],[56,11,40,9,"source"],[56,17,40,15],[56,21,40,19],[56,25,40,23],[57,2,41,0],[59,2,43,0],[60,0,44,0],[61,0,45,0],[62,2,46,7],[62,11,46,16,"resolveSources"],[62,25,46,30,"resolveSources"],[62,26,46,31,"sources"],[62,33,46,61],[62,35,46,91],[63,4,47,2],[63,8,47,6,"Array"],[63,13,47,11],[63,14,47,12,"isArray"],[63,21,47,19],[63,22,47,20,"sources"],[63,29,47,27],[63,30,47,28],[63,32,47,30],[64,6,48,4],[64,13,48,11,"sources"],[64,20,48,18],[64,21,48,19,"map"],[64,24,48,22],[64,25,48,23,"resolveSource"],[64,38,48,36],[64,39,48,37],[64,40,48,38,"filter"],[64,46,48,44],[64,47,48,45,"Boolean"],[64,54,48,52],[64,55,48,53],[65,4,49,2],[66,4,50,2],[66,8,50,6],[66,12,50,6,"isImageRef"],[66,18,50,16],[66,19,50,16,"isImageRef"],[66,29,50,16],[66,31,50,17,"sources"],[66,38,50,24],[66,39,50,25],[66,41,50,27],[67,6,51,4],[67,10,51,8,"Platform"],[67,26,51,16],[67,27,51,16,"Platform"],[67,35,51,16],[67,36,51,17,"OS"],[67,38,51,19],[67,43,51,24],[67,48,51,29],[67,50,51,31],[68,8,52,6],[68,15,52,13,"sources"],[68,22,52,20],[69,6,53,4],[70,6,54,4],[71,6,55,4],[71,13,55,11,"sources"],[71,20,55,18],[71,21,55,19,"__expo_shared_object_id__"],[71,46,55,44],[72,4,56,2],[73,4,57,2],[73,11,57,9],[73,12,57,10,"resolveSource"],[73,25,57,23],[73,26,57,24,"sources"],[73,33,57,31],[73,34,57,32],[73,35,57,33],[73,36,57,34,"filter"],[73,42,57,40],[73,43,57,41,"Boolean"],[73,50,57,48],[73,51,57,49],[74,2,58,0],[75,0,58,1],[75,3]],"functionMap":{"names":["<global>","isBlurhashString","isThumbhashString","resolveSource","resolveSources"],"mappings":"AAA;OCO;CDE;OEI;CFE;OGE;CHuB;OIK;CJY"},"hasCjsExports":false},"type":"js/module"}]}