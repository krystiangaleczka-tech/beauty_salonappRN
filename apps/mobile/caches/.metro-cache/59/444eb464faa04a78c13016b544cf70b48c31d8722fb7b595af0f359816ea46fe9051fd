{"dependencies":[{"name":"@motionone/utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":12,"index":91},"end":{"line":5,"column":39,"index":118}}],"key":"FS/MZgsOo2zLy6PbOiduH8x3eaQ=","exportNames":["*"],"imports":1}},{"name":"./inset.cjs.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":12,"index":132},"end":{"line":6,"column":37,"index":157}}],"key":"t535CJ1a23G4IASPrm8c/0FfqUc=","exportNames":["*"],"imports":1}},{"name":"./presets.cjs.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":14,"index":173},"end":{"line":7,"column":41,"index":200}}],"key":"o6TFx5aIemNc9pCb3gSmUN6Wako=","exportNames":["*"],"imports":1}},{"name":"./offset.cjs.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":13,"index":215},"end":{"line":8,"column":39,"index":241}}],"key":"wQZt9MimJKS1IFurLJIz8eHCn0w=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  var utils = require(_dependencyMap[0], \"@motionone/utils\");\n  var inset = require(_dependencyMap[1], \"./inset.cjs.js\");\n  var presets = require(_dependencyMap[2], \"./presets.cjs.js\");\n  var offset = require(_dependencyMap[3], \"./offset.cjs.js\");\n  var point = {\n    x: 0,\n    y: 0\n  };\n  function resolveOffsets(container, info, options) {\n    var _options$offset = options.offset,\n      offsetDefinition = _options$offset === void 0 ? presets.ScrollOffset.All : _options$offset;\n    var _options$target = options.target,\n      target = _options$target === void 0 ? container : _options$target,\n      _options$axis = options.axis,\n      axis = _options$axis === void 0 ? \"y\" : _options$axis;\n    var lengthLabel = axis === \"y\" ? \"height\" : \"width\";\n    var inset$1 = target !== container ? inset.calcInset(target, container) : point;\n    /**\n     * Measure the target and container. If they're the same thing then we\n     * use the container's scrollWidth/Height as the target, from there\n     * all other calculations can remain the same.\n     */\n    var targetSize = target === container ? {\n      width: container.scrollWidth,\n      height: container.scrollHeight\n    } : {\n      width: target.clientWidth,\n      height: target.clientHeight\n    };\n    var containerSize = {\n      width: container.clientWidth,\n      height: container.clientHeight\n    };\n    /**\n     * Reset the length of the resolved offset array rather than creating a new one.\n     * TODO: More reusable data structures for targetSize/containerSize would also be good.\n     */\n    info[axis].offset.length = 0;\n    /**\n     * Populate the offset array by resolving the user's offset definition into\n     * a list of pixel scroll offets.\n     */\n    var hasChanged = !info[axis].interpolate;\n    var numOffsets = offsetDefinition.length;\n    for (var i = 0; i < numOffsets; i++) {\n      var offset$1 = offset.resolveOffset(offsetDefinition[i], containerSize[lengthLabel], targetSize[lengthLabel], inset$1[axis]);\n      if (!hasChanged && offset$1 !== info[axis].interpolatorOffsets[i]) {\n        hasChanged = true;\n      }\n      info[axis].offset[i] = offset$1;\n    }\n    /**\n     * If the pixel scroll offsets have changed, create a new interpolator function\n     * to map scroll value into a progress.\n     */\n    if (hasChanged) {\n      info[axis].interpolate = utils.interpolate(utils.defaultOffset(numOffsets), info[axis].offset);\n      info[axis].interpolatorOffsets = [...info[axis].offset];\n    }\n    info[axis].progress = info[axis].interpolate(info[axis].current);\n  }\n  exports.resolveOffsets = resolveOffsets;\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,21],[4,24,3,22,"exports"],[4,31,3,29],[4,33,3,31],[4,45,3,43],[4,47,3,45],[5,4,3,47,"value"],[5,9,3,52],[5,11,3,54],[6,2,3,59],[6,3,3,60],[6,4,3,61],[7,2,5,0],[7,6,5,4,"utils"],[7,11,5,9],[7,14,5,12,"require"],[7,21,5,19],[7,22,5,19,"_dependencyMap"],[7,36,5,19],[7,59,5,38],[7,60,5,39],[8,2,6,0],[8,6,6,4,"inset"],[8,11,6,9],[8,14,6,12,"require"],[8,21,6,19],[8,22,6,19,"_dependencyMap"],[8,36,6,19],[8,57,6,36],[8,58,6,37],[9,2,7,0],[9,6,7,4,"presets"],[9,13,7,11],[9,16,7,14,"require"],[9,23,7,21],[9,24,7,21,"_dependencyMap"],[9,38,7,21],[9,61,7,40],[9,62,7,41],[10,2,8,0],[10,6,8,4,"offset"],[10,12,8,10],[10,15,8,13,"require"],[10,22,8,20],[10,23,8,20,"_dependencyMap"],[10,37,8,20],[10,59,8,38],[10,60,8,39],[11,2,10,0],[11,6,10,6,"point"],[11,11,10,11],[11,14,10,14],[12,4,10,16,"x"],[12,5,10,17],[12,7,10,19],[12,8,10,20],[13,4,10,22,"y"],[13,5,10,23],[13,7,10,25],[14,2,10,27],[14,3,10,28],[15,2,11,0],[15,11,11,9,"resolveOffsets"],[15,25,11,23,"resolveOffsets"],[15,26,11,24,"container"],[15,35,11,33],[15,37,11,35,"info"],[15,41,11,39],[15,43,11,41,"options"],[15,50,11,48],[15,52,11,50],[16,4,12,4],[16,8,12,4,"_options$offset"],[16,23,12,4],[16,26,12,66,"options"],[16,33,12,73],[16,34,12,10,"offset"],[16,40,12,16],[17,6,12,18,"offsetDefinition"],[17,22,12,34],[17,25,12,34,"_options$offset"],[17,40,12,34],[17,54,12,37,"presets"],[17,61,12,44],[17,62,12,45,"ScrollOffset"],[17,74,12,57],[17,75,12,58,"All"],[17,78,12,61],[17,81,12,61,"_options$offset"],[17,96,12,61],[18,4,13,4],[18,8,13,4,"_options$target"],[18,23,13,4],[18,26,13,47,"options"],[18,33,13,54],[18,34,13,12,"target"],[18,40,13,18],[19,6,13,12,"target"],[19,12,13,18],[19,15,13,18,"_options$target"],[19,30,13,18],[19,44,13,21,"container"],[19,53,13,30],[19,56,13,30,"_options$target"],[19,71,13,30],[20,6,13,30,"_options$axis"],[20,19,13,30],[20,22,13,47,"options"],[20,29,13,54],[20,30,13,32,"axis"],[20,34,13,36],[21,6,13,32,"axis"],[21,10,13,36],[21,13,13,36,"_options$axis"],[21,26,13,36],[21,40,13,39],[21,43,13,42],[21,46,13,42,"_options$axis"],[21,59,13,42],[22,4,14,4],[22,8,14,10,"lengthLabel"],[22,19,14,21],[22,22,14,24,"axis"],[22,26,14,28],[22,31,14,33],[22,34,14,36],[22,37,14,39],[22,45,14,47],[22,48,14,50],[22,55,14,57],[23,4,15,4],[23,8,15,10,"inset$1"],[23,15,15,17],[23,18,15,20,"target"],[23,24,15,26],[23,29,15,31,"container"],[23,38,15,40],[23,41,15,43,"inset"],[23,46,15,48],[23,47,15,49,"calcInset"],[23,56,15,58],[23,57,15,59,"target"],[23,63,15,65],[23,65,15,67,"container"],[23,74,15,76],[23,75,15,77],[23,78,15,80,"point"],[23,83,15,85],[24,4,16,4],[25,0,17,0],[26,0,18,0],[27,0,19,0],[28,0,20,0],[29,4,21,4],[29,8,21,10,"targetSize"],[29,18,21,20],[29,21,21,23,"target"],[29,27,21,29],[29,32,21,34,"container"],[29,41,21,43],[29,44,22,10],[30,6,22,12,"width"],[30,11,22,17],[30,13,22,19,"container"],[30,22,22,28],[30,23,22,29,"scrollWidth"],[30,34,22,40],[31,6,22,42,"height"],[31,12,22,48],[31,14,22,50,"container"],[31,23,22,59],[31,24,22,60,"scrollHeight"],[32,4,22,73],[32,5,22,74],[32,8,23,10],[33,6,23,12,"width"],[33,11,23,17],[33,13,23,19,"target"],[33,19,23,25],[33,20,23,26,"clientWidth"],[33,31,23,37],[34,6,23,39,"height"],[34,12,23,45],[34,14,23,47,"target"],[34,20,23,53],[34,21,23,54,"clientHeight"],[35,4,23,67],[35,5,23,68],[36,4,24,4],[36,8,24,10,"containerSize"],[36,21,24,23],[36,24,24,26],[37,6,25,8,"width"],[37,11,25,13],[37,13,25,15,"container"],[37,22,25,24],[37,23,25,25,"clientWidth"],[37,34,25,36],[38,6,26,8,"height"],[38,12,26,14],[38,14,26,16,"container"],[38,23,26,25],[38,24,26,26,"clientHeight"],[39,4,27,4],[39,5,27,5],[40,4,28,4],[41,0,29,0],[42,0,30,0],[43,0,31,0],[44,4,32,4,"info"],[44,8,32,8],[44,9,32,9,"axis"],[44,13,32,13],[44,14,32,14],[44,15,32,15,"offset"],[44,21,32,21],[44,22,32,22,"length"],[44,28,32,28],[44,31,32,31],[44,32,32,32],[45,4,33,4],[46,0,34,0],[47,0,35,0],[48,0,36,0],[49,4,37,4],[49,8,37,8,"hasChanged"],[49,18,37,18],[49,21,37,21],[49,22,37,22,"info"],[49,26,37,26],[49,27,37,27,"axis"],[49,31,37,31],[49,32,37,32],[49,33,37,33,"interpolate"],[49,44,37,44],[50,4,38,4],[50,8,38,10,"numOffsets"],[50,18,38,20],[50,21,38,23,"offsetDefinition"],[50,37,38,39],[50,38,38,40,"length"],[50,44,38,46],[51,4,39,4],[51,9,39,9],[51,13,39,13,"i"],[51,14,39,14],[51,17,39,17],[51,18,39,18],[51,20,39,20,"i"],[51,21,39,21],[51,24,39,24,"numOffsets"],[51,34,39,34],[51,36,39,36,"i"],[51,37,39,37],[51,39,39,39],[51,41,39,41],[52,6,40,8],[52,10,40,14,"offset$1"],[52,18,40,22],[52,21,40,25,"offset"],[52,27,40,31],[52,28,40,32,"resolveOffset"],[52,41,40,45],[52,42,40,46,"offsetDefinition"],[52,58,40,62],[52,59,40,63,"i"],[52,60,40,64],[52,61,40,65],[52,63,40,67,"containerSize"],[52,76,40,80],[52,77,40,81,"lengthLabel"],[52,88,40,92],[52,89,40,93],[52,91,40,95,"targetSize"],[52,101,40,105],[52,102,40,106,"lengthLabel"],[52,113,40,117],[52,114,40,118],[52,116,40,120,"inset$1"],[52,123,40,127],[52,124,40,128,"axis"],[52,128,40,132],[52,129,40,133],[52,130,40,134],[53,6,41,8],[53,10,41,12],[53,11,41,13,"hasChanged"],[53,21,41,23],[53,25,41,27,"offset$1"],[53,33,41,35],[53,38,41,40,"info"],[53,42,41,44],[53,43,41,45,"axis"],[53,47,41,49],[53,48,41,50],[53,49,41,51,"interpolatorOffsets"],[53,68,41,70],[53,69,41,71,"i"],[53,70,41,72],[53,71,41,73],[53,73,41,75],[54,8,42,12,"hasChanged"],[54,18,42,22],[54,21,42,25],[54,25,42,29],[55,6,43,8],[56,6,44,8,"info"],[56,10,44,12],[56,11,44,13,"axis"],[56,15,44,17],[56,16,44,18],[56,17,44,19,"offset"],[56,23,44,25],[56,24,44,26,"i"],[56,25,44,27],[56,26,44,28],[56,29,44,31,"offset$1"],[56,37,44,39],[57,4,45,4],[58,4,46,4],[59,0,47,0],[60,0,48,0],[61,0,49,0],[62,4,50,4],[62,8,50,8,"hasChanged"],[62,18,50,18],[62,20,50,20],[63,6,51,8,"info"],[63,10,51,12],[63,11,51,13,"axis"],[63,15,51,17],[63,16,51,18],[63,17,51,19,"interpolate"],[63,28,51,30],[63,31,51,33,"utils"],[63,36,51,38],[63,37,51,39,"interpolate"],[63,48,51,50],[63,49,51,51,"utils"],[63,54,51,56],[63,55,51,57,"defaultOffset"],[63,68,51,70],[63,69,51,71,"numOffsets"],[63,79,51,81],[63,80,51,82],[63,82,51,84,"info"],[63,86,51,88],[63,87,51,89,"axis"],[63,91,51,93],[63,92,51,94],[63,93,51,95,"offset"],[63,99,51,101],[63,100,51,102],[64,6,52,8,"info"],[64,10,52,12],[64,11,52,13,"axis"],[64,15,52,17],[64,16,52,18],[64,17,52,19,"interpolatorOffsets"],[64,36,52,38],[64,39,52,41],[64,40,52,42],[64,43,52,45,"info"],[64,47,52,49],[64,48,52,50,"axis"],[64,52,52,54],[64,53,52,55],[64,54,52,56,"offset"],[64,60,52,62],[64,61,52,63],[65,4,53,4],[66,4,54,4,"info"],[66,8,54,8],[66,9,54,9,"axis"],[66,13,54,13],[66,14,54,14],[66,15,54,15,"progress"],[66,23,54,23],[66,26,54,26,"info"],[66,30,54,30],[66,31,54,31,"axis"],[66,35,54,35],[66,36,54,36],[66,37,54,37,"interpolate"],[66,48,54,48],[66,49,54,49,"info"],[66,53,54,53],[66,54,54,54,"axis"],[66,58,54,58],[66,59,54,59],[66,60,54,60,"current"],[66,67,54,67],[66,68,54,68],[67,2,55,0],[68,2,57,0,"exports"],[68,9,57,7],[68,10,57,8,"resolveOffsets"],[68,24,57,22],[68,27,57,25,"resolveOffsets"],[68,41,57,39],[69,0,57,40],[69,3]],"functionMap":{"names":["<global>","resolveOffsets"],"mappings":"AAA;ACU;CD4C"},"hasCjsExports":true},"type":"js/module"}]}