{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Modal","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Ezhl/vznHrlq0iqGXODlZeJLO5I=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/BackHandler","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JJ8ZeP6TwsodxtZCeal/l/p3LP0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./AuthWebView","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":142},"end":{"line":4,"column":44,"index":186}}],"key":"SStKHL9DGUAihvkgQ7l1zf4QRDg=","exportNames":["*"],"imports":1}},{"name":"./store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":187},"end":{"line":5,"column":53,"index":240}}],"key":"5APpJpQn7z9vMHIr4H9Bv6aaMsY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/krystiangaleczka/Downloads/createxyz-project/apps/mobile/src/utils/auth/useAuthModal.jsx\",\n    _s = $RefreshSig$();\n  /**\n   * This component renders a modal for authentication purposes.\n   * To show it programmatically, you should either use the `useRequireAuth` hook or the `useAuthModal` hook.\n   *\n   * @example\n   * ```js\n   * import { useAuthModal } from '@/utils/useAuthModal';\n   * function MyComponent() {\n   * const { open } = useAuthModal();\n   * return <Button title=\"Login\" onPress={() => open({ mode: 'signin' })} />;\n   * }\n   * ```\n   *\n   * @example\n   * ```js\n   * import { useRequireAuth } from '@/utils/useAuth';\n   * function MyComponent() {\n   *   // automatically opens the auth modal if the user is not authenticated\n   *   useRequireAuth();\n   *   return <Text>Protected Content</Text>;\n   * }\n   *\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"AuthModal\", {\n    enumerable: true,\n    get: function () {\n      return AuthModal;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeWebDistExportsModal = require(_dependencyMap[2], \"react-native-web/dist/exports/Modal\");\n  var Modal = _interopDefault(_reactNativeWebDistExportsModal);\n  var _reactNativeWebDistExportsView = require(_dependencyMap[3], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsBackHandler = require(_dependencyMap[4], \"react-native-web/dist/exports/BackHandler\");\n  var BackHandler = _interopDefault(_reactNativeWebDistExportsBackHandler);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[5], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _AuthWebView = require(_dependencyMap[6], \"./AuthWebView\");\n  var _store = require(_dependencyMap[7], \"./store\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  const AuthModal = () => {\n    _s();\n    const {\n      isOpen,\n      mode,\n      close\n    } = (0, _store.useAuthModal)();\n    const {\n      auth\n    } = (0, _store.useAuthStore)();\n    const snapPoints = (0, _react.useMemo)(() => ['100%'], []);\n    const proxyURL = _expoVirtualEnv.env.EXPO_PUBLIC_PROXY_BASE_URL;\n    const baseURL = _expoVirtualEnv.env.EXPO_PUBLIC_BASE_URL;\n\n    // Handle back button press on Android\n    (0, _react.useEffect)(() => {\n      if (Platform.default.OS === 'android') {\n        const backHandler = BackHandler.default.addEventListener('hardwareBackPress', () => {\n          if (isOpen && !auth) {\n            close();\n            return true; // Prevent default behavior\n          }\n          return false; // Allow default behavior\n        });\n        return () => backHandler.remove();\n      }\n    }, [isOpen, auth, close]);\n\n    // Close modal when auth state changes\n    (0, _react.useEffect)(() => {\n      if (auth && isOpen) {\n        close();\n      }\n    }, [auth, isOpen, close]);\n    if (!proxyURL || !baseURL) {\n      return null;\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Modal.default, {\n      visible: isOpen && !auth,\n      transparent: true,\n      animationType: \"slide\",\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: {\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          right: 0,\n          height: '100%',\n          width: '100%',\n          backgroundColor: '#fff',\n          padding: 0\n        },\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_AuthWebView.AuthWebView, {\n          mode: mode,\n          proxyURL: proxyURL,\n          baseURL: baseURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this);\n  };\n\n  // Export the AuthModal component\n  _s(AuthModal, \"WVVsdNfV1lJC22SK/0SBhLOuHb4=\", false, function () {\n    return [_store.useAuthModal, _store.useAuthStore];\n  });\n  _c = AuthModal;\n  var _default = AuthModal;\n  var _c;\n  $RefreshReg$(_c, \"AuthModal\");\n});","lineCount":143,"map":[[6,2,8,0],[7,0,9,0],[8,0,10,0],[9,0,11,0],[10,0,12,0],[11,0,13,0],[12,0,14,0],[13,0,15,0],[14,0,16,0],[15,0,17,0],[16,0,18,0],[17,0,19,0],[18,0,20,0],[19,0,21,0],[20,0,22,0],[21,0,23,0],[22,0,24,0],[23,0,25,0],[24,0,26,0],[25,0,27,0],[26,0,28,0],[27,0,29,0],[28,0,30,0],[29,2,8,0,"Object"],[29,8,8,0],[29,9,8,0,"defineProperty"],[29,23,8,0],[29,24,8,0,"exports"],[29,31,8,0],[30,4,8,0,"value"],[30,9,8,0],[31,2,8,0],[32,2,8,0],[32,11,8,0,"_interopDefault"],[32,27,8,0,"e"],[32,28,8,0],[33,4,8,0],[33,11,8,0,"e"],[33,12,8,0],[33,16,8,0,"e"],[33,17,8,0],[33,18,8,0,"__esModule"],[33,28,8,0],[33,31,8,0,"e"],[33,32,8,0],[34,6,8,0,"default"],[34,13,8,0],[34,15,8,0,"e"],[35,4,8,0],[36,2,8,0],[37,2,94,0,"Object"],[37,8,94,0],[37,9,94,0,"defineProperty"],[37,23,94,0],[37,24,94,0,"exports"],[37,31,94,0],[38,4,94,0,"enumerable"],[38,14,94,0],[39,4,94,0,"get"],[39,7,94,0],[39,18,94,0,"get"],[39,19,94,0],[40,6,94,0],[40,13,94,0,"_default"],[40,21,94,0],[41,4,94,0],[42,2,94,0],[43,2,31,0,"Object"],[43,8,31,0],[43,9,31,0,"defineProperty"],[43,23,31,0],[43,24,31,0,"exports"],[43,31,31,0],[44,4,31,0,"enumerable"],[44,14,31,0],[45,4,31,0,"get"],[45,7,31,0],[45,18,31,0,"get"],[45,19,31,0],[46,6,31,0],[46,13,31,0,"AuthModal"],[46,22,31,0],[47,4,31,0],[48,2,31,0],[49,2,91,2],[49,6,91,2,"_expoVirtualEnv"],[49,21,91,2],[49,24,91,2,"require"],[49,31,91,2],[49,32,91,2,"_dependencyMap"],[49,46,91,2],[50,2,1,0],[50,6,1,0,"_react"],[50,12,1,0],[50,15,1,0,"require"],[50,22,1,0],[50,23,1,0,"_dependencyMap"],[50,37,1,0],[51,2,1,41],[51,6,1,41,"_reactNativeWebDistExportsModal"],[51,37,1,41],[51,40,1,41,"require"],[51,47,1,41],[51,48,1,41,"_dependencyMap"],[51,62,1,41],[52,2,1,41],[52,6,1,41,"Modal"],[52,11,1,41],[52,14,1,41,"_interopDefault"],[52,29,1,41],[52,30,1,41,"_reactNativeWebDistExportsModal"],[52,61,1,41],[53,2,1,41],[53,6,1,41,"_reactNativeWebDistExportsView"],[53,36,1,41],[53,39,1,41,"require"],[53,46,1,41],[53,47,1,41,"_dependencyMap"],[53,61,1,41],[54,2,1,41],[54,6,1,41,"View"],[54,10,1,41],[54,13,1,41,"_interopDefault"],[54,28,1,41],[54,29,1,41,"_reactNativeWebDistExportsView"],[54,59,1,41],[55,2,1,41],[55,6,1,41,"_reactNativeWebDistExportsBackHandler"],[55,43,1,41],[55,46,1,41,"require"],[55,53,1,41],[55,54,1,41,"_dependencyMap"],[55,68,1,41],[56,2,1,41],[56,6,1,41,"BackHandler"],[56,17,1,41],[56,20,1,41,"_interopDefault"],[56,35,1,41],[56,36,1,41,"_reactNativeWebDistExportsBackHandler"],[56,73,1,41],[57,2,1,41],[57,6,1,41,"_reactNativeWebDistExportsPlatform"],[57,40,1,41],[57,43,1,41,"require"],[57,50,1,41],[57,51,1,41,"_dependencyMap"],[57,65,1,41],[58,2,1,41],[58,6,1,41,"Platform"],[58,14,1,41],[58,17,1,41,"_interopDefault"],[58,32,1,41],[58,33,1,41,"_reactNativeWebDistExportsPlatform"],[58,67,1,41],[59,2,4,0],[59,6,4,0,"_AuthWebView"],[59,18,4,0],[59,21,4,0,"require"],[59,28,4,0],[59,29,4,0,"_dependencyMap"],[59,43,4,0],[60,2,5,0],[60,6,5,0,"_store"],[60,12,5,0],[60,15,5,0,"require"],[60,22,5,0],[60,23,5,0,"_dependencyMap"],[60,37,5,0],[61,2,5,53],[61,6,5,53,"_reactJsxDevRuntime"],[61,25,5,53],[61,28,5,53,"require"],[61,35,5,53],[61,36,5,53,"_dependencyMap"],[61,50,5,53],[62,2,31,7],[62,8,31,13,"AuthModal"],[62,17,31,22],[62,20,31,25,"AuthModal"],[62,21,31,25],[62,26,31,31],[63,4,31,31,"_s"],[63,6,31,31],[64,4,32,2],[64,10,32,8],[65,6,32,10,"isOpen"],[65,12,32,16],[66,6,32,18,"mode"],[66,10,32,22],[67,6,32,24,"close"],[68,4,32,30],[68,5,32,31],[68,8,32,34],[68,12,32,34,"useAuthModal"],[68,18,32,46],[68,19,32,46,"useAuthModal"],[68,31,32,46],[68,33,32,47],[68,34,32,48],[69,4,33,2],[69,10,33,8],[70,6,33,10,"auth"],[71,4,33,15],[71,5,33,16],[71,8,33,19],[71,12,33,19,"useAuthStore"],[71,18,33,31],[71,19,33,31,"useAuthStore"],[71,31,33,31],[71,33,33,32],[71,34,33,33],[72,4,35,2],[72,10,35,8,"snapPoints"],[72,20,35,18],[72,23,35,21],[72,27,35,21,"useMemo"],[72,33,35,28],[72,34,35,28,"useMemo"],[72,41,35,28],[72,43,35,29],[72,49,35,35],[72,50,35,36],[72,56,35,42],[72,57,35,43],[72,59,35,45],[72,61,35,47],[72,62,35,48],[73,4,36,2],[73,10,36,8,"proxyURL"],[73,18,36,16],[73,21,36,16,"_expoVirtualEnv"],[73,36,36,16],[73,37,36,16,"env"],[73,40,36,16],[73,41,36,16,"EXPO_PUBLIC_PROXY_BASE_URL"],[73,67,36,57],[74,4,37,2],[74,10,37,8,"baseURL"],[74,17,37,15],[74,20,37,15,"_expoVirtualEnv"],[74,35,37,15],[74,36,37,15,"env"],[74,39,37,15],[74,40,37,15,"EXPO_PUBLIC_BASE_URL"],[74,60,37,50],[76,4,39,2],[77,4,40,2],[77,8,40,2,"useEffect"],[77,14,40,11],[77,15,40,11,"useEffect"],[77,24,40,11],[77,26,40,12],[77,32,40,18],[78,6,41,4],[78,10,41,8,"Platform"],[78,18,41,16],[78,19,41,16,"default"],[78,26,41,16],[78,27,41,17,"OS"],[78,29,41,19],[78,34,41,24],[78,43,41,33],[78,45,41,35],[79,8,42,6],[79,14,42,12,"backHandler"],[79,25,42,23],[79,28,42,26,"BackHandler"],[79,39,42,37],[79,40,42,37,"default"],[79,47,42,37],[79,48,42,38,"addEventListener"],[79,64,42,54],[79,65,42,55],[79,84,42,74],[79,86,42,76],[79,92,42,82],[80,10,43,8],[80,14,43,12,"isOpen"],[80,20,43,18],[80,24,43,22],[80,25,43,23,"auth"],[80,29,43,27],[80,31,43,29],[81,12,44,10,"close"],[81,17,44,15],[81,18,44,16],[81,19,44,17],[82,12,45,10],[82,19,45,17],[82,23,45,21],[82,24,45,22],[82,25,45,23],[83,10,46,8],[84,10,47,8],[84,17,47,15],[84,22,47,20],[84,23,47,21],[84,24,47,22],[85,8,48,6],[85,9,48,7],[85,10,48,8],[86,8,50,6],[86,15,50,13],[86,21,50,19,"backHandler"],[86,32,50,30],[86,33,50,31,"remove"],[86,39,50,37],[86,40,50,38],[86,41,50,39],[87,6,51,4],[88,4,52,2],[88,5,52,3],[88,7,52,5],[88,8,52,6,"isOpen"],[88,14,52,12],[88,16,52,14,"auth"],[88,20,52,18],[88,22,52,20,"close"],[88,27,52,25],[88,28,52,26],[88,29,52,27],[90,4,54,2],[91,4,55,2],[91,8,55,2,"useEffect"],[91,14,55,11],[91,15,55,11,"useEffect"],[91,24,55,11],[91,26,55,12],[91,32,55,18],[92,6,56,4],[92,10,56,8,"auth"],[92,14,56,12],[92,18,56,16,"isOpen"],[92,24,56,22],[92,26,56,24],[93,8,57,6,"close"],[93,13,57,11],[93,14,57,12],[93,15,57,13],[94,6,58,4],[95,4,59,2],[95,5,59,3],[95,7,59,5],[95,8,59,6,"auth"],[95,12,59,10],[95,14,59,12,"isOpen"],[95,20,59,18],[95,22,59,20,"close"],[95,27,59,25],[95,28,59,26],[95,29,59,27],[96,4,61,2],[96,8,61,6],[96,9,61,7,"proxyURL"],[96,17,61,15],[96,21,61,19],[96,22,61,20,"baseURL"],[96,29,61,27],[96,31,61,29],[97,6,62,4],[97,13,62,11],[97,17,62,15],[98,4,63,2],[99,4,65,2],[99,24,66,4],[99,28,66,4,"_reactJsxDevRuntime"],[99,47,66,4],[99,48,66,4,"jsxDEV"],[99,54,66,4],[99,56,66,5,"Modal"],[99,61,66,10],[99,62,66,10,"default"],[99,69,66,10],[100,6,67,6,"visible"],[100,13,67,13],[100,15,67,15,"isOpen"],[100,21,67,21],[100,25,67,25],[100,26,67,26,"auth"],[100,30,67,31],[101,6,68,6,"transparent"],[101,17,68,17],[101,19,68,19],[101,23,68,24],[102,6,69,6,"animationType"],[102,19,69,19],[102,21,69,20],[102,28,69,27],[103,6,69,27,"children"],[103,14,69,27],[103,29,71,6],[103,33,71,6,"_reactJsxDevRuntime"],[103,52,71,6],[103,53,71,6,"jsxDEV"],[103,59,71,6],[103,61,71,7,"View"],[103,65,71,11],[103,66,71,11,"default"],[103,73,71,11],[104,8,72,8,"style"],[104,13,72,13],[104,15,72,15],[105,10,73,10,"position"],[105,18,73,18],[105,20,73,20],[105,30,73,30],[106,10,74,10,"bottom"],[106,16,74,16],[106,18,74,18],[106,19,74,19],[107,10,75,10,"left"],[107,14,75,14],[107,16,75,16],[107,17,75,17],[108,10,76,10,"right"],[108,15,76,15],[108,17,76,17],[108,18,76,18],[109,10,77,10,"height"],[109,16,77,16],[109,18,77,18],[109,24,77,24],[110,10,78,10,"width"],[110,15,78,15],[110,17,78,17],[110,23,78,23],[111,10,79,10,"backgroundColor"],[111,25,79,25],[111,27,79,27],[111,33,79,33],[112,10,80,10,"padding"],[112,17,80,17],[112,19,80,19],[113,8,81,8],[113,9,81,10],[114,8,81,10,"children"],[114,16,81,10],[114,31,83,8],[114,35,83,8,"_reactJsxDevRuntime"],[114,54,83,8],[114,55,83,8,"jsxDEV"],[114,61,83,8],[114,63,83,9,"_AuthWebView"],[114,75,83,20],[114,76,83,20,"AuthWebView"],[114,87,83,20],[115,10,84,10,"mode"],[115,14,84,14],[115,16,84,16,"mode"],[115,20,84,21],[116,10,85,10,"proxyURL"],[116,18,85,18],[116,20,85,20,"proxyURL"],[116,28,85,29],[117,10,86,10,"baseURL"],[117,17,86,17],[117,19,86,19,"baseURL"],[118,8,86,27],[119,10,86,27,"fileName"],[119,18,86,27],[119,20,86,27,"_jsxFileName"],[119,32,86,27],[120,10,86,27,"lineNumber"],[120,20,86,27],[121,10,86,27,"columnNumber"],[121,22,86,27],[122,8,86,27],[122,15,87,9],[123,6,87,10],[124,8,87,10,"fileName"],[124,16,87,10],[124,18,87,10,"_jsxFileName"],[124,30,87,10],[125,8,87,10,"lineNumber"],[125,18,87,10],[126,8,87,10,"columnNumber"],[126,20,87,10],[127,6,87,10],[127,13,88,12],[128,4,88,13],[129,6,88,13,"fileName"],[129,14,88,13],[129,16,88,13,"_jsxFileName"],[129,28,88,13],[130,6,88,13,"lineNumber"],[130,16,88,13],[131,6,88,13,"columnNumber"],[131,18,88,13],[132,4,88,13],[132,11,89,11],[132,12,89,12],[133,2,91,0],[133,3,91,1],[135,2,93,0],[136,2,93,0,"_s"],[136,4,93,0],[136,5,31,13,"AuthModal"],[136,14,31,22],[137,4,31,22],[137,12,32,34,"useAuthModal"],[137,18,32,46],[137,19,32,46,"useAuthModal"],[137,31,32,46],[137,33,33,19,"useAuthStore"],[137,39,33,31],[137,40,33,31,"useAuthStore"],[137,52,33,31],[138,2,33,31],[139,2,33,31,"_c"],[139,4,33,31],[139,7,31,13,"AuthModal"],[139,16,31,22],[140,2,94,0],[140,6,94,0,"_default"],[140,14,94,0],[140,17,94,15,"AuthModal"],[140,26,94,24],[141,2,94,25],[141,6,94,25,"_c"],[141,8,94,25],[142,2,94,25,"$RefreshReg$"],[142,14,94,25],[142,15,94,25,"_c"],[142,17,94,25],[143,0,94,25],[143,3]],"functionMap":{"names":["<global>","AuthModal","useMemo$argument_0","useEffect$argument_0","BackHandler.addEventListener$argument_1","<anonymous>"],"mappings":"AAA;yBC8B;6BCI,cD;YEK;4ECE;ODM;aEE,0BF;GFE;YEG;GFI;CDgC"},"hasCjsExports":false},"type":"js/module"}]}