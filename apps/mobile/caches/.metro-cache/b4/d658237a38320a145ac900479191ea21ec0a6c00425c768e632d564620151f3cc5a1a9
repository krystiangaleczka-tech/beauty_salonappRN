{"dependencies":[{"name":"@motionone/generators","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":84,"index":84}}],"key":"mEgPNnrJHg+YONWWCMLN2s6HrRw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createGeneratorEasing\", {\n    enumerable: true,\n    get: function () {\n      return createGeneratorEasing;\n    }\n  });\n  var _motiononeGenerators = require(_dependencyMap[0], \"@motionone/generators\");\n  function createGeneratorEasing(createGenerator) {\n    const keyframesCache = new WeakMap();\n    return (options = {}) => {\n      const generatorCache = new Map();\n      const getGenerator = (from = 0, to = 100, velocity = 0, isScale = false) => {\n        const key = `${from}-${to}-${velocity}-${isScale}`;\n        if (!generatorCache.has(key)) {\n          generatorCache.set(key, createGenerator(Object.assign({\n            from,\n            to,\n            velocity,\n            restSpeed: isScale ? 0.05 : 2,\n            restDistance: isScale ? 0.01 : 0.5\n          }, options)));\n        }\n        return generatorCache.get(key);\n      };\n      const getKeyframes = generator => {\n        if (!keyframesCache.has(generator)) {\n          keyframesCache.set(generator, (0, _motiononeGenerators.pregenerateKeyframes)(generator));\n        }\n        return keyframesCache.get(generator);\n      };\n      return {\n        createAnimation: (keyframes, getOrigin, canUseGenerator, name, motionValue) => {\n          var _a, _b;\n          let settings;\n          const numKeyframes = keyframes.length;\n          let shouldUseGenerator = canUseGenerator && numKeyframes <= 2 && keyframes.every(isNumberOrNull);\n          if (shouldUseGenerator) {\n            const target = keyframes[numKeyframes - 1];\n            const unresolvedOrigin = numKeyframes === 1 ? null : keyframes[0];\n            let velocity = 0;\n            let origin = 0;\n            const prevGenerator = motionValue === null || motionValue === void 0 ? void 0 : motionValue.generator;\n            if (prevGenerator) {\n              /**\n               * If we have a generator for this value we can use it to resolve\n               * the animations's current value and velocity.\n               */\n              const {\n                animation,\n                generatorStartTime\n              } = motionValue;\n              const startTime = (animation === null || animation === void 0 ? void 0 : animation.startTime) || generatorStartTime || 0;\n              const currentTime = (animation === null || animation === void 0 ? void 0 : animation.currentTime) || performance.now() - startTime;\n              const prevGeneratorCurrent = prevGenerator(currentTime).current;\n              origin = (_a = unresolvedOrigin) !== null && _a !== void 0 ? _a : prevGeneratorCurrent;\n              if (numKeyframes === 1 || numKeyframes === 2 && keyframes[0] === null) {\n                velocity = (0, _motiononeGenerators.calcGeneratorVelocity)(t => prevGenerator(t).current, currentTime, prevGeneratorCurrent);\n              }\n            } else {\n              origin = (_b = unresolvedOrigin) !== null && _b !== void 0 ? _b : parseFloat(getOrigin());\n            }\n            const generator = getGenerator(origin, target, velocity, name === null || name === void 0 ? void 0 : name.includes(\"scale\"));\n            const keyframesMetadata = getKeyframes(generator);\n            settings = Object.assign(Object.assign({}, keyframesMetadata), {\n              easing: \"linear\"\n            });\n            // TODO Add test for this\n            if (motionValue) {\n              motionValue.generator = generator;\n              motionValue.generatorStartTime = performance.now();\n            }\n          } else {\n            const keyframesMetadata = getKeyframes(getGenerator(0, 100));\n            settings = {\n              easing: \"ease\",\n              duration: keyframesMetadata.overshootDuration\n            };\n          }\n          return settings;\n        }\n      };\n    };\n  }\n  const isNumberOrNull = value => typeof value !== \"string\";\n});","lineCount":91,"map":[[7,2,77,0,"Object"],[7,8,77,0],[7,9,77,0,"defineProperty"],[7,23,77,0],[7,24,77,0,"exports"],[7,31,77,0],[8,4,77,0,"enumerable"],[8,14,77,0],[9,4,77,0,"get"],[9,7,77,0],[9,18,77,0,"get"],[9,19,77,0],[10,6,77,0],[10,13,77,9,"createGeneratorEasing"],[10,34,77,30],[11,4,77,30],[12,2,77,30],[13,2,1,0],[13,6,1,0,"_motiononeGenerators"],[13,26,1,0],[13,29,1,0,"require"],[13,36,1,0],[13,37,1,0,"_dependencyMap"],[13,51,1,0],[14,2,3,0],[14,11,3,9,"createGeneratorEasing"],[14,32,3,30,"createGeneratorEasing"],[14,33,3,31,"createGenerator"],[14,48,3,46],[14,50,3,48],[15,4,4,4],[15,10,4,10,"keyframesCache"],[15,24,4,24],[15,27,4,27],[15,31,4,31,"WeakMap"],[15,38,4,38],[15,39,4,39],[15,40,4,40],[16,4,5,4],[16,11,5,11],[16,12,5,12,"options"],[16,19,5,19],[16,22,5,22],[16,23,5,23],[16,24,5,24],[16,29,5,29],[17,6,6,8],[17,12,6,14,"generatorCache"],[17,26,6,28],[17,29,6,31],[17,33,6,35,"Map"],[17,36,6,38],[17,37,6,39],[17,38,6,40],[18,6,7,8],[18,12,7,14,"getGenerator"],[18,24,7,26],[18,27,7,29,"getGenerator"],[18,28,7,30,"from"],[18,32,7,34],[18,35,7,37],[18,36,7,38],[18,38,7,40,"to"],[18,40,7,42],[18,43,7,45],[18,46,7,48],[18,48,7,50,"velocity"],[18,56,7,58],[18,59,7,61],[18,60,7,62],[18,62,7,64,"isScale"],[18,69,7,71],[18,72,7,74],[18,77,7,79],[18,82,7,84],[19,8,8,12],[19,14,8,18,"key"],[19,17,8,21],[19,20,8,24],[19,23,8,27,"from"],[19,27,8,31],[19,31,8,35,"to"],[19,33,8,37],[19,37,8,41,"velocity"],[19,45,8,49],[19,49,8,53,"isScale"],[19,56,8,60],[19,58,8,62],[20,8,9,12],[20,12,9,16],[20,13,9,17,"generatorCache"],[20,27,9,31],[20,28,9,32,"has"],[20,31,9,35],[20,32,9,36,"key"],[20,35,9,39],[20,36,9,40],[20,38,9,42],[21,10,10,16,"generatorCache"],[21,24,10,30],[21,25,10,31,"set"],[21,28,10,34],[21,29,10,35,"key"],[21,32,10,38],[21,34,10,40,"createGenerator"],[21,49,10,55],[21,50,10,56,"Object"],[21,56,10,62],[21,57,10,63,"assign"],[21,63,10,69],[21,64,10,70],[22,12,10,72,"from"],[22,16,10,76],[23,12,11,20,"to"],[23,14,11,22],[24,12,12,20,"velocity"],[24,20,12,28],[25,12,12,30,"restSpeed"],[25,21,12,39],[25,23,12,41,"isScale"],[25,30,12,48],[25,33,12,51],[25,37,12,55],[25,40,12,58],[25,41,12,59],[26,12,12,61,"restDistance"],[26,24,12,73],[26,26,12,75,"isScale"],[26,33,12,82],[26,36,12,85],[26,40,12,89],[26,43,12,92],[27,10,12,96],[27,11,12,97],[27,13,12,99,"options"],[27,20,12,106],[27,21,12,107],[27,22,12,108],[27,23,12,109],[28,8,13,12],[29,8,14,12],[29,15,14,19,"generatorCache"],[29,29,14,33],[29,30,14,34,"get"],[29,33,14,37],[29,34,14,38,"key"],[29,37,14,41],[29,38,14,42],[30,6,15,8],[30,7,15,9],[31,6,16,8],[31,12,16,14,"getKeyframes"],[31,24,16,26],[31,27,16,30,"generator"],[31,36,16,39],[31,40,16,44],[32,8,17,12],[32,12,17,16],[32,13,17,17,"keyframesCache"],[32,27,17,31],[32,28,17,32,"has"],[32,31,17,35],[32,32,17,36,"generator"],[32,41,17,45],[32,42,17,46],[32,44,17,48],[33,10,18,16,"keyframesCache"],[33,24,18,30],[33,25,18,31,"set"],[33,28,18,34],[33,29,18,35,"generator"],[33,38,18,44],[33,40,18,46],[33,44,18,46,"pregenerateKeyframes"],[33,64,18,66],[33,65,18,66,"pregenerateKeyframes"],[33,85,18,66],[33,87,18,67,"generator"],[33,96,18,76],[33,97,18,77],[33,98,18,78],[34,8,19,12],[35,8,20,12],[35,15,20,19,"keyframesCache"],[35,29,20,33],[35,30,20,34,"get"],[35,33,20,37],[35,34,20,38,"generator"],[35,43,20,47],[35,44,20,48],[36,6,21,8],[36,7,21,9],[37,6,22,8],[37,13,22,15],[38,8,23,12,"createAnimation"],[38,23,23,27],[38,25,23,29,"createAnimation"],[38,26,23,30,"keyframes"],[38,35,23,39],[38,37,23,41,"getOrigin"],[38,46,23,50],[38,48,23,52,"canUseGenerator"],[38,63,23,67],[38,65,23,69,"name"],[38,69,23,73],[38,71,23,75,"motionValue"],[38,82,23,86],[38,87,23,91],[39,10,24,16],[39,14,24,20,"_a"],[39,16,24,22],[39,18,24,24,"_b"],[39,20,24,26],[40,10,25,16],[40,14,25,20,"settings"],[40,22,25,28],[41,10,26,16],[41,16,26,22,"numKeyframes"],[41,28,26,34],[41,31,26,37,"keyframes"],[41,40,26,46],[41,41,26,47,"length"],[41,47,26,53],[42,10,27,16],[42,14,27,20,"shouldUseGenerator"],[42,32,27,38],[42,35,27,41,"canUseGenerator"],[42,50,27,56],[42,54,28,20,"numKeyframes"],[42,66,28,32],[42,70,28,36],[42,71,28,37],[42,75,29,20,"keyframes"],[42,84,29,29],[42,85,29,30,"every"],[42,90,29,35],[42,91,29,36,"isNumberOrNull"],[42,105,29,50],[42,106,29,51],[43,10,30,16],[43,14,30,20,"shouldUseGenerator"],[43,32,30,38],[43,34,30,40],[44,12,31,20],[44,18,31,26,"target"],[44,24,31,32],[44,27,31,35,"keyframes"],[44,36,31,44],[44,37,31,45,"numKeyframes"],[44,49,31,57],[44,52,31,60],[44,53,31,61],[44,54,31,62],[45,12,32,20],[45,18,32,26,"unresolvedOrigin"],[45,34,32,42],[45,37,32,45,"numKeyframes"],[45,49,32,57],[45,54,32,62],[45,55,32,63],[45,58,32,66],[45,62,32,70],[45,65,32,73,"keyframes"],[45,74,32,82],[45,75,32,83],[45,76,32,84],[45,77,32,85],[46,12,33,20],[46,16,33,24,"velocity"],[46,24,33,32],[46,27,33,35],[46,28,33,36],[47,12,34,20],[47,16,34,24,"origin"],[47,22,34,30],[47,25,34,33],[47,26,34,34],[48,12,35,20],[48,18,35,26,"prevGenerator"],[48,31,35,39],[48,34,35,42,"motionValue"],[48,45,35,53],[48,50,35,58],[48,54,35,62],[48,58,35,66,"motionValue"],[48,69,35,77],[48,74,35,82],[48,79,35,87],[48,80,35,88],[48,83,35,91],[48,88,35,96],[48,89,35,97],[48,92,35,100,"motionValue"],[48,103,35,111],[48,104,35,112,"generator"],[48,113,35,121],[49,12,36,20],[49,16,36,24,"prevGenerator"],[49,29,36,37],[49,31,36,39],[50,14,37,24],[51,0,38,0],[52,0,39,0],[53,0,40,0],[54,14,41,24],[54,20,41,30],[55,16,41,32,"animation"],[55,25,41,41],[56,16,41,43,"generatorStartTime"],[57,14,41,62],[57,15,41,63],[57,18,41,66,"motionValue"],[57,29,41,77],[58,14,42,24],[58,20,42,30,"startTime"],[58,29,42,39],[58,32,42,42],[58,33,42,43,"animation"],[58,42,42,52],[58,47,42,57],[58,51,42,61],[58,55,42,65,"animation"],[58,64,42,74],[58,69,42,79],[58,74,42,84],[58,75,42,85],[58,78,42,88],[58,83,42,93],[58,84,42,94],[58,87,42,97,"animation"],[58,96,42,106],[58,97,42,107,"startTime"],[58,106,42,116],[58,111,42,121,"generatorStartTime"],[58,129,42,139],[58,133,42,143],[58,134,42,144],[59,14,43,24],[59,20,43,30,"currentTime"],[59,31,43,41],[59,34,43,44],[59,35,43,45,"animation"],[59,44,43,54],[59,49,43,59],[59,53,43,63],[59,57,43,67,"animation"],[59,66,43,76],[59,71,43,81],[59,76,43,86],[59,77,43,87],[59,80,43,90],[59,85,43,95],[59,86,43,96],[59,89,43,99,"animation"],[59,98,43,108],[59,99,43,109,"currentTime"],[59,110,43,120],[59,115,43,125,"performance"],[59,126,43,136],[59,127,43,137,"now"],[59,130,43,140],[59,131,43,141],[59,132,43,142],[59,135,43,145,"startTime"],[59,144,43,154],[60,14,44,24],[60,20,44,30,"prevGeneratorCurrent"],[60,40,44,50],[60,43,44,53,"prevGenerator"],[60,56,44,66],[60,57,44,67,"currentTime"],[60,68,44,78],[60,69,44,79],[60,70,44,80,"current"],[60,77,44,87],[61,14,45,24,"origin"],[61,20,45,30],[61,23,45,33],[61,24,45,34,"_a"],[61,26,45,36],[61,29,45,39,"unresolvedOrigin"],[61,45,45,55],[61,51,45,61],[61,55,45,65],[61,59,45,69,"_a"],[61,61,45,71],[61,66,45,76],[61,71,45,81],[61,72,45,82],[61,75,45,85,"_a"],[61,77,45,87],[61,80,45,90,"prevGeneratorCurrent"],[61,100,45,110],[62,14,46,24],[62,18,46,28,"numKeyframes"],[62,30,46,40],[62,35,46,45],[62,36,46,46],[62,40,47,29,"numKeyframes"],[62,52,47,41],[62,57,47,46],[62,58,47,47],[62,62,47,51,"keyframes"],[62,71,47,60],[62,72,47,61],[62,73,47,62],[62,74,47,63],[62,79,47,68],[62,83,47,73],[62,85,47,75],[63,16,48,28,"velocity"],[63,24,48,36],[63,27,48,39],[63,31,48,39,"calcGeneratorVelocity"],[63,51,48,60],[63,52,48,60,"calcGeneratorVelocity"],[63,73,48,60],[63,75,48,62,"t"],[63,76,48,63],[63,80,48,68,"prevGenerator"],[63,93,48,81],[63,94,48,82,"t"],[63,95,48,83],[63,96,48,84],[63,97,48,85,"current"],[63,104,48,92],[63,106,48,94,"currentTime"],[63,117,48,105],[63,119,48,107,"prevGeneratorCurrent"],[63,139,48,127],[63,140,48,128],[64,14,49,24],[65,12,50,20],[65,13,50,21],[65,19,51,25],[66,14,52,24,"origin"],[66,20,52,30],[66,23,52,33],[66,24,52,34,"_b"],[66,26,52,36],[66,29,52,39,"unresolvedOrigin"],[66,45,52,55],[66,51,52,61],[66,55,52,65],[66,59,52,69,"_b"],[66,61,52,71],[66,66,52,76],[66,71,52,81],[66,72,52,82],[66,75,52,85,"_b"],[66,77,52,87],[66,80,52,90,"parseFloat"],[66,90,52,100],[66,91,52,101,"getOrigin"],[66,100,52,110],[66,101,52,111],[66,102,52,112],[66,103,52,113],[67,12,53,20],[68,12,54,20],[68,18,54,26,"generator"],[68,27,54,35],[68,30,54,38,"getGenerator"],[68,42,54,50],[68,43,54,51,"origin"],[68,49,54,57],[68,51,54,59,"target"],[68,57,54,65],[68,59,54,67,"velocity"],[68,67,54,75],[68,69,54,77,"name"],[68,73,54,81],[68,78,54,86],[68,82,54,90],[68,86,54,94,"name"],[68,90,54,98],[68,95,54,103],[68,100,54,108],[68,101,54,109],[68,104,54,112],[68,109,54,117],[68,110,54,118],[68,113,54,121,"name"],[68,117,54,125],[68,118,54,126,"includes"],[68,126,54,134],[68,127,54,135],[68,134,54,142],[68,135,54,143],[68,136,54,144],[69,12,55,20],[69,18,55,26,"keyframesMetadata"],[69,35,55,43],[69,38,55,46,"getKeyframes"],[69,50,55,58],[69,51,55,59,"generator"],[69,60,55,68],[69,61,55,69],[70,12,56,20,"settings"],[70,20,56,28],[70,23,56,31,"Object"],[70,29,56,37],[70,30,56,38,"assign"],[70,36,56,44],[70,37,56,45,"Object"],[70,43,56,51],[70,44,56,52,"assign"],[70,50,56,58],[70,51,56,59],[70,52,56,60],[70,53,56,61],[70,55,56,63,"keyframesMetadata"],[70,72,56,80],[70,73,56,81],[70,75,56,83],[71,14,56,85,"easing"],[71,20,56,91],[71,22,56,93],[72,12,56,102],[72,13,56,103],[72,14,56,104],[73,12,57,20],[74,12,58,20],[74,16,58,24,"motionValue"],[74,27,58,35],[74,29,58,37],[75,14,59,24,"motionValue"],[75,25,59,35],[75,26,59,36,"generator"],[75,35,59,45],[75,38,59,48,"generator"],[75,47,59,57],[76,14,60,24,"motionValue"],[76,25,60,35],[76,26,60,36,"generatorStartTime"],[76,44,60,54],[76,47,60,57,"performance"],[76,58,60,68],[76,59,60,69,"now"],[76,62,60,72],[76,63,60,73],[76,64,60,74],[77,12,61,20],[78,10,62,16],[78,11,62,17],[78,17,63,21],[79,12,64,20],[79,18,64,26,"keyframesMetadata"],[79,35,64,43],[79,38,64,46,"getKeyframes"],[79,50,64,58],[79,51,64,59,"getGenerator"],[79,63,64,71],[79,64,64,72],[79,65,64,73],[79,67,64,75],[79,70,64,78],[79,71,64,79],[79,72,64,80],[80,12,65,20,"settings"],[80,20,65,28],[80,23,65,31],[81,14,66,24,"easing"],[81,20,66,30],[81,22,66,32],[81,28,66,38],[82,14,67,24,"duration"],[82,22,67,32],[82,24,67,34,"keyframesMetadata"],[82,41,67,51],[82,42,67,52,"overshootDuration"],[83,12,68,20],[83,13,68,21],[84,10,69,16],[85,10,70,16],[85,17,70,23,"settings"],[85,25,70,31],[86,8,71,12],[87,6,72,8],[87,7,72,9],[88,4,73,4],[88,5,73,5],[89,2,74,0],[90,2,75,0],[90,8,75,6,"isNumberOrNull"],[90,22,75,20],[90,25,75,24,"value"],[90,30,75,29],[90,34,75,34],[90,41,75,41,"value"],[90,46,75,46],[90,51,75,51],[90,59,75,59],[91,0,75,60],[91,3]],"functionMap":{"names":["<global>","createGeneratorEasing","<anonymous>","getGenerator","getKeyframes","createAnimation","calcGeneratorVelocity$argument_0","isNumberOrNull"],"mappings":"AAA;ACE;WCE;6BCE;SDQ;6BEC;SFK;6BGE;6DCyB,+BD;aHuB;KDE;CDC;uBOC,oCP"},"hasCjsExports":false},"type":"js/module"}]}